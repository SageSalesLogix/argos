<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Opportunity/Edit', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', '../../Validator', '../../Template', 'argos/Utility', 'argos/Edit', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoString, _Validator, _Template, _argosUtility, _argosEdit, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _string = _interopRequireDefault(_dojoString);

  var _validator = _interopRequireDefault(_Validator);

  var _template = _interopRequireDefault(_Template);

  var _utility = _interopRequireDefault(_argosUtility);

  var _Edit = _interopRequireDefault(_argosEdit);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('opportunityEdit');

<span id='crm-Views-Opportunity-Edit'>  /**
</span>   * @class crm.Views.Opportunity.Edit
   *
   * @extends argos.Edit
   *
   * @requires argos.Utility
   *
   * @requires crm.Validator
   * @requires crm.Template
   */
  var __class = (0, _declare['default'])('crm.Views.Opportunity.Edit', [_Edit['default']], {
    // Localization
    accountText: resource.accountText,
    acctMgrText: resource.acctMgrText,
    estCloseText: resource.estCloseText,
    importSourceText: resource.importSourceText,
    detailsText: resource.detailsText,
    opportunityStatusTitleText: resource.opportunityStatusTitleText,
    opportunityText: resource.opportunityText,
    opportunityTypeTitleText: resource.opportunityTypeTitleText,
    ownerText: resource.ownerText,
    potentialText: resource.potentialText,
    probabilityText: resource.probabilityText,
    probabilityTitleText: resource.probabilityTitleText,
    resellerText: resource.resellerText,
    statusText: resource.statusText,
    titleText: resource.titleText,
    typeText: resource.typeText,
    multiCurrencyText: resource.multiCurrencyText,
    multiCurrencyRateText: resource.multiCurrencyRateText,
    multiCurrencyCodeText: resource.multiCurrencyCodeText,
    multiCurrencyDateText: resource.multiCurrencyDateText,
    multiCurrencyLockedText: resource.multiCurrencyLockedText,
    exchangeRateDateFormatText: resource.exchangeRateDateFormatText,
    subTypePickListResellerText: resource.subTypePickListResellerText,

    // View Properties
    entityName: 'Opportunity',
    id: 'opportunity_edit',
    resourceKind: 'opportunities',
    insertSecurity: 'Entities/Opportunity/Add',
    updateSecurity: 'Entities/Opportunity/Edit',
    querySelect: ['Account/AccountName', 'AccountManager/UserInfo/FirstName', 'AccountManager/UserInfo/LastName', 'CloseProbability', 'Contacts', 'Description', 'EstimatedClose', 'ExchangeRate', 'ExchangeRateCode', 'ExchangeRateDate', 'ExchangeRateLocked', 'LeadSource/Description', 'Owner/OwnerDescription', 'Reseller/AccountName', 'SalesPotential', 'Stage', 'Status', 'Type', 'Weighted'],
    init: function init() {
      this.inherited(arguments);
      this.connect(this.fields.Account, 'onChange', this.onAccountChange);

      if (App.hasMultiCurrency()) {
        this.connect(this.fields.ExchangeRateCode, 'onChange', this.onExchangeRateCodeChange);
        this.connect(this.fields.ExchangeRateLocked, 'onChange', this.onExchangeRateLockedChange);
      }
    },
    applyContext: function applyContext(templateEntry) {
      var found = App.queryNavigationContext(function queryNavigationContext(o) {
        return (/^(accounts|contacts)$/.test(o.resourceKind) &amp;&amp; o.key
        );
      });

      var lookup = {
        'accounts': this.applyAccountContext,
        'contacts': this.applyContactContext
      };

      if (found &amp;&amp; lookup[found.resourceKind]) {
        lookup[found.resourceKind].call(this, found);
      } else {
        this.applyDefaultContext(templateEntry);
      }

      this.fields.Status.setValue(templateEntry.Status);
      this.fields.CloseProbability.setValue(templateEntry.CloseProbability);
      this.fields.EstimatedClose.setValue(templateEntry.EstimatedClose);

      if (App.hasMultiCurrency() &amp;&amp; templateEntry) {
        if (templateEntry.ExchangeRateCode) {
          this.fields.ExchangeRateCode.setValue({
            '$key': templateEntry.ExchangeRateCode,
            '$descriptor': templateEntry.ExchangeRateCode
          });
        }

        if (templateEntry.ExchangeRate) {
          this.fields.ExchangeRate.setValue(templateEntry.ExchangeRate);
        }

        if (templateEntry.ExchangeRateDate) {
          this.fields.ExchangeRateDate.setValue(templateEntry.ExchangeRateDate);
        }
      }
    },
    setValues: function setValues(values) {
      this.inherited(arguments);
      if (App.hasMultiCurrency()) {
        if (values &amp;&amp; values.ExchangeRateCode) {
          this.fields.ExchangeRateCode.setValue({
            '$key': values.ExchangeRateCode,
            '$descriptor': values.ExchangeRateCode
          });
        }

        if (!App.canLockOpportunityRate()) {
          this.fields.ExchangeRateLocked.disable();
        }

        if (!App.canChangeOpportunityRate()) {
          this.fields.ExchangeRate.disable();
          this.fields.ExchangeRateCode.disable();
        }

        this.fields.ExchangeRateDate.disable();
      }

      this.fields.SalesPotential.setCurrencyCode(App.getBaseExchangeRate().code);
    },
    getValues: function getValues() {
      var values = this.inherited(arguments);

      if (values) {
        var code = values.ExchangeRateCode;
        values.ExchangeRateCode = code &amp;&amp; code.$key;
      }

      return values;
    },
    applyDefaultContext: function applyDefaultContext() {
      this.fields.AccountManager.setValue(App.context.user);
      this.fields.Owner.setValue(App.context.defaultOwner);
    },
    applyAccountContext: function applyAccountContext(context) {
      var view = App.getView(context.id);
      var entry = view &amp;&amp; view.entry;

      this.fields.Account.setValue(entry);
      this.fields.AccountManager.setValue(_utility['default'].getValue(entry, 'AccountManager'));
      this.fields.Owner.setValue(_utility['default'].getValue(entry, 'Owner'));
    },
    applyContactContext: function applyContactContext(context) {
      var view = App.getView(context.id);
      var entry = view &amp;&amp; view.entry;

      this.fields.Account.setValue(_utility['default'].getValue(entry, 'Account'));
      this.fields.AccountManager.setValue(_utility['default'].getValue(entry, 'AccountManager'));
      this.fields.Owner.setValue(_utility['default'].getValue(entry, 'Owner'));
      this.fields['Contacts.$resources[0].Contact.$key'].setValue(entry.$key);
    },
    onExchangeRateCodeChange: function onExchangeRateCodeChange(value, field) {
      var selection = field.getSelection();
      if (selection &amp;&amp; selection.Rate) {
        this.fields.ExchangeRate.setValue(selection.Rate);
        this.fields.ExchangeRateDate.setValue(new Date(Date.now()));
      }
    },
    onExchangeRateLockedChange: function onExchangeRateLockedChange(value) {
      if (value === true) {
        this.fields.ExchangeRate.disable();
        this.fields.ExchangeRateCode.disable();
      } else {
        if (!App.canChangeOpportunityRate()) {
          this.fields.ExchangeRate.disable();
          this.fields.ExchangeRateCode.disable();
        } else {
          this.fields.ExchangeRate.enable();
          this.fields.ExchangeRateCode.enable();
        }
      }

      this.fields.ExchangeRateDate.setValue(new Date(Date.now()));
    },
    onAccountChange: function onAccountChange(value, field) {
      var selection = field.getSelection();

      // todo: match behavior in web client; if the account manager (AM) is explicitly set, it should stay, otherwise
      // it should be set to the AM for the selected account (and change each time).
      if (selection &amp;&amp; this.insert) {
        this.fields.AccountManager.setValue(_utility['default'].getValue(selection, 'AccountManager'));
      }
    },
    createLayout: function createLayout() {
      var details = {
        title: this.detailsText,
        name: 'OpportunityDetailsEdit',
        children: [{
          label: this.opportunityText,
          name: 'Description',
          property: 'Description',
          type: 'text',
          maxTextLength: 64,
          validator: [_validator['default'].notEmpty, _validator['default'].exceedsMaxTextLength],
          autoFocus: true
        }, {
          label: this.accountText,
          name: 'Account',
          property: 'Account',
          textProperty: 'AccountName',
          type: 'lookup',
          validator: _validator['default'].exists,
          view: 'account_related',
          viewMixin: {
            disableRightDrawer: true
          }
        }, {
          label: this.acctMgrText,
          name: 'AccountManager',
          property: 'AccountManager',
          textProperty: 'UserInfo',
          textTemplate: _template['default'].nameLF,
          type: 'lookup',
          view: 'user_list'
        }, {
          label: this.resellerText,
          name: 'Reseller',
          property: 'Reseller',
          textProperty: 'AccountName',
          type: 'lookup',
          view: 'account_related',
          where: _string['default'].substitute('upper(SubType) eq &quot;${0}&quot;', [this.subTypePickListResellerText]),
          viewMixin: {
            disableRightDrawer: true,
            onTransitionTo: function onTransitionTo(self) {
              // Clear the initial where clause, allowing the user to search for others if they want
              self.options.where = '';
            }
          }
        }, {
          label: this.estCloseText,
          name: 'EstimatedClose',
          property: 'EstimatedClose',
          type: 'date',
          timeless: true,
          validator: _validator['default'].exists
        }, {
          label: this.potentialText,
          name: 'SalesPotential',
          property: 'SalesPotential',
          precision: 2,
          type: 'multiCurrency',
          validationTrigger: 'keyup',
          validator: _validator['default'].isCurrency
        }, {
          label: this.typeText,
          name: 'Type',
          property: 'Type',
          picklist: 'Opportunity Type',
          title: this.opportunityTypeTitleText,
          type: 'picklist',
          maxTextLength: 64,
          validator: _validator['default'].exceedsMaxTextLength
        }, {
          label: this.statusText,
          name: 'Status',
          property: 'Status',
          picklist: 'Opportunity Status',
          requireSelection: true,
          title: this.opportunityStatusTitleText,
          type: 'picklist'
        }, {
          label: this.importSourceText,
          name: 'LeadSource',
          property: 'LeadSource',
          textProperty: 'Description',
          type: 'lookup',
          view: 'leadsource_list'
        }, {
          label: this.ownerText,
          name: 'Owner',
          property: 'Owner',
          keyProperty: '$key',
          textProperty: 'OwnerDescription',
          type: 'lookup',
          validator: _validator['default'].exists,
          view: 'owner_list'
        }, {
          label: this.probabilityText,
          name: 'CloseProbability',
          property: 'CloseProbability',
          picklist: 'Opportunity Probability',
          title: this.probabilityTitleText,
          type: 'picklist',
          validator: [_validator['default'].isInt32, _validator['default'].isInteger]
        }, {
          name: 'Contacts.$resources[0].Contact.$key',
          property: 'Contacts.$resources[0].Contact.$key',
          type: 'hidden'
        }]
      };

      var multiCurrency = {
        title: this.multiCurrencyText,
        name: 'OpportunityMultiCurrencyEdit',
        children: [{
          label: this.multiCurrencyRateText,
          name: 'ExchangeRate',
          property: 'ExchangeRate',
          type: 'text',
          validator: _validator['default'].isDecimal
        }, {
          label: this.multiCurrencyCodeText,
          name: 'ExchangeRateCode',
          property: 'ExchangeRateCode',
          textProperty: '$key',
          type: 'lookup',
          view: 'exchangerate_lookup'
        }, {
          label: this.multiCurrencyLockedText,
          name: 'ExchangeRateLocked',
          property: 'ExchangeRateLocked',
          type: 'boolean'
        }, {
          label: this.multiCurrencyDateText,
          name: 'ExchangeRateDate',
          property: 'ExchangeRateDate',
          type: 'date',
          timeless: false,
          dateFormatText: this.exchangeRateDateFormatText,
          disabled: true }]
      };

      // TODO: Create an SDK issue for this (NOT WORKING!!!)
      var layout = this.layout || (this.layout = []);

      if (layout.length &gt; 0) {
        return layout;
      }

      layout.push(details);

      if (App.hasMultiCurrency()) {
        layout.push(multiCurrency);
      }

      return layout;
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Opportunity.Edit', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9PcHBvcnR1bml0eS9FZGl0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxNQUFNLFFBQVEsR0FBRyw2QkFBWSxpQkFBaUIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7QUFZaEQsTUFBTSxPQUFPLEdBQUcseUJBQVEsNEJBQTRCLEVBQUUsa0JBQU0sRUFBRTs7QUFFNUQsZUFBVyxFQUFFLFFBQVEsQ0FBQyxXQUFXO0FBQ2pDLGVBQVcsRUFBRSxRQUFRLENBQUMsV0FBVztBQUNqQyxnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLG9CQUFnQixFQUFFLFFBQVEsQ0FBQyxnQkFBZ0I7QUFDM0MsZUFBVyxFQUFFLFFBQVEsQ0FBQyxXQUFXO0FBQ2pDLDhCQUEwQixFQUFFLFFBQVEsQ0FBQywwQkFBMEI7QUFDL0QsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTtBQUN6Qyw0QkFBd0IsRUFBRSxRQUFRLENBQUMsd0JBQXdCO0FBQzNELGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3QixpQkFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO0FBQ3JDLG1CQUFlLEVBQUUsUUFBUSxDQUFDLGVBQWU7QUFDekMsd0JBQW9CLEVBQUUsUUFBUSxDQUFDLG9CQUFvQjtBQUNuRCxnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLGNBQVUsRUFBRSxRQUFRLENBQUMsVUFBVTtBQUMvQixhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsWUFBUSxFQUFFLFFBQVEsQ0FBQyxRQUFRO0FBQzNCLHFCQUFpQixFQUFFLFFBQVEsQ0FBQyxpQkFBaUI7QUFDN0MseUJBQXFCLEVBQUUsUUFBUSxDQUFDLHFCQUFxQjtBQUNyRCx5QkFBcUIsRUFBRSxRQUFRLENBQUMscUJBQXFCO0FBQ3JELHlCQUFxQixFQUFFLFFBQVEsQ0FBQyxxQkFBcUI7QUFDckQsMkJBQXVCLEVBQUUsUUFBUSxDQUFDLHVCQUF1QjtBQUN6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QUFLLEVBQUUsSUFBSSxDQUFDLHVCQUF1QjtBQUNuQyxjQUFJLEVBQUUsb0JBQW9CO0FBQzFCLGtCQUFRLEVBQUUsb0JBQW9CO0FBQzlCLGNBQUksRUFBRSxTQUFTO1NBQ2hCLEVBQUU7QUFDRCxlQUFLLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjtBQUNqQyxjQUFJLEVBQUUsa0JBQWtCO0FBQ3hCLGtCQUFRLEVBQUUsa0JBQWtCO0FBQzVCLGNBQUksRUFBRSxNQUFNO0FBQ1osa0JBQVEsRUFBRSxLQUFLO0FBQ2Ysd0JBQWMsRUFBRSxJQUFJLENBQUMsMEJBQTBCO0FBQy9DLGtCQUFRLEVBQUUsSUFBSSxFQUNmLENBQUM7T0FDSCxDQUFDOzs7QUFFRixVQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFBLEFBQUMsQ0FBQzs7QUFFakQsVUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNyQixlQUFPLE1BQU0sQ0FBQztPQUNmOztBQUVELFlBQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7O0FBRXJCLFVBQUksR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUU7QUFDMUIsY0FBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztPQUM1Qjs7QUFFRCxhQUFPLE1BQU0sQ0FBQztLQUNmO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQywwQ0FBMEMsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDckQsT0FBTyIsImZpbGUiOiJzcmMvVmlld3MvT3Bwb3J0dW5pdHkvRWRpdC5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IHZhbGlkYXRvciBmcm9tICcuLi8uLi9WYWxpZGF0b3InO1xyXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi4vLi4vVGVtcGxhdGUnO1xyXG5pbXBvcnQgdXRpbGl0eSBmcm9tICdhcmdvcy9VdGlsaXR5JztcclxuaW1wb3J0IEVkaXQgZnJvbSAnYXJnb3MvRWRpdCc7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ29wcG9ydHVuaXR5RWRpdCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuT3Bwb3J0dW5pdHkuRWRpdFxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBhcmdvcy5FZGl0XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBhcmdvcy5VdGlsaXR5XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBjcm0uVmFsaWRhdG9yXHJcbiAqIEByZXF1aXJlcyBjcm0uVGVtcGxhdGVcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uVmlld3MuT3Bwb3J0dW5pdHkuRWRpdCcsIFtFZGl0XSwge1xyXG4gIC8vIExvY2FsaXphdGlvblxyXG4gIGFjY291bnRUZXh0OiByZXNvdXJjZS5hY2NvdW50VGV4dCxcclxuICBhY2N0TWdyVGV4dDogcmVzb3VyY2UuYWNjdE1nclRleHQsXHJcbiAgZXN0Q2xvc2VUZXh0OiByZXNvdXJjZS5lc3RDbG9zZVRleHQsXHJcbiAgaW1wb3J0U291cmNlVGV4dDogcmVzb3VyY2UuaW1wb3J0U291cmNlVGV4dCxcclxuICBkZXRhaWxzVGV4dDogcmVzb3VyY2UuZGV0YWlsc1RleHQsXHJcbiAgb3Bwb3J0dW5pdHlTdGF0dXNUaXRsZVRleHQ6IHJlc291cmNlLm9wcG9ydHVuaXR5U3RhdHVzVGl0bGVUZXh0LFxyXG4gIG9wcG9ydHVuaXR5VGV4dDogcmVzb3VyY2Uub3Bwb3J0dW5pdHlUZXh0LFxyXG4gIG9wcG9ydHVuaXR5VHlwZVRpdGxlVGV4dDogcmVzb3VyY2Uub3Bwb3J0dW5pdHlUeXBlVGl0bGVUZXh0LFxyXG4gIG93bmVyVGV4dDogcmVzb3VyY2Uub3duZXJUZXh0LFxyXG4gIHBvdGVudGlhbFRleHQ6IHJlc291cmNlLnBvdGVudGlhbFRleHQsXHJcbiAgcHJvYmFiaWxpdHlUZXh0OiByZXNvdXJjZS5wcm9iYWJpbGl0eVRleHQsXHJcbiAgcHJvYmFiaWxpdHlUaXRsZVRleHQ6IHJlc291cmNlLnByb2JhYmlsaXR5VGl0bGVUZXh0LFxyXG4gIHJlc2VsbGVyVGV4dDogcmVzb3VyY2UucmVzZWxsZXJUZXh0LFxyXG4gIHN0YXR1c1RleHQ6IHJlc291cmNlLnN0YXR1c1RleHQsXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgdHlwZVRleHQ6IHJlc291cmNlLnR5cGVUZXh0LFxyXG4gIG11bHRpQ3VycmVuY3lUZXh0OiByZXNvdXJjZS5tdWx0aUN1cnJlbmN5VGV4dCxcclxuICBtdWx0aUN1cnJlbmN5UmF0ZVRleHQ6IHJlc291cmNlLm11bHRpQ3VycmVuY3lSYXRlVGV4dCxcclxuICBtdWx0aUN1cnJlbmN5Q29kZVRleHQ6IHJlc291cmNlLm11bHRpQ3VycmVuY3lDb2RlVGV4dCxcclxuICBtdWx0aUN1cnJlbmN5RGF0ZVRleHQ6IHJlc291cmNlLm11bHRpQ3VycmVuY3lEYXRlVGV4dCxcclxuICBtdWx0aUN1cnJlbmN5TG9ja2VkVGV4dDogcmVzb3VyY2UubXVsdGlDdXJyZW5jeUxvY2tlZFRleHQsXHJcbiAgZXhjaGFuZ2VSYXRlRGF0ZUZvcm1hdFRleHQ6IHJlc291cmNlLmV4Y2hhbmdlUmF0ZURhdGVGb3JtYXRUZXh0LFxyXG4gIHN1YlR5cGVQaWNrTGlzdFJlc2VsbGVyVGV4dDogcmVzb3VyY2Uuc3ViVHlwZVBpY2tMaXN0UmVzZWxsZXJUZXh0LFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBlbnRpdHlOYW1lOiAnT3Bwb3J0dW5pdHknLFxyXG4gIGlkOiAnb3Bwb3J0dW5pdHlfZWRpdCcsXHJcbiAgcmVzb3VyY2VLaW5kOiAnb3Bwb3J0dW5pdGllcycsXHJcbiAgaW5zZXJ0U2VjdXJpdHk6ICdFbnRpdGllcy9PcHBvcnR1bml0eS9BZGQnLFxyXG4gIHVwZGF0ZVNlY3VyaXR5OiAnRW50aXRpZXMvT3Bwb3J0dW5pdHkvRWRpdCcsXHJcbiAgcXVlcnlTZWxlY3Q6IFtcclxuICAgICdBY2NvdW50L0FjY291bnROYW1lJyxcclxuICAgICdBY2NvdW50TWFuYWdlci9Vc2VySW5mby9GaXJzdE5hbWUnLFxyXG4gICAgJ0FjY291bnRNYW5hZ2VyL1VzZXJJbmZvL0xhc3ROYW1lJyxcclxuICAgICdDbG9zZVByb2JhYmlsaXR5JyxcclxuICAgICdDb250YWN0cycsXHJcbiAgICAnRGVzY3JpcHRpb24nLFxyXG4gICAgJ0VzdGltYXRlZENsb3NlJyxcclxuICAgICdFeGNoYW5nZVJhdGUnLFxyXG4gICAgJ0V4Y2hhbmdlUmF0ZUNvZGUnLFxyXG4gICAgJ0V4Y2hhbmdlUmF0ZURhdGUnLFxyXG4gICAgJ0V4Y2hhbmdlUmF0ZUxvY2tlZCcsXHJcbiAgICAnTGVhZFNvdXJjZS9EZXNjcmlwdGlvbicsXHJcbiAgICAnT3duZXIvT3duZXJEZXNjcmlwdGlvbicsXHJcbiAgICAnUmVzZWxsZXIvQWNjb3VudE5hbWUnLFxyXG4gICAgJ1NhbGVzUG90ZW50aWFsJyxcclxuICAgICdTdGFnZScsXHJcbiAgICAnU3RhdHVzJyxcclxuICAgICdUeXBlJyxcclxuICAgICdXZWlnaHRlZCcsXHJcbiAgXSxcclxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICAgIHRoaXMuY29ubmVjdCh0aGlzLmZpZWxkcy5BY2NvdW50LCAnb25DaGFuZ2UnLCB0aGlzLm9uQWNjb3VudENoYW5nZSk7XHJcblxyXG4gICAgaWYgKEFwcC5oYXNNdWx0aUN1cnJlbmN5KCkpIHtcclxuICAgICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZUNvZGUsICdvbkNoYW5nZScsIHRoaXMub25FeGNoYW5nZVJhdGVDb2RlQ2hhbmdlKTtcclxuICAgICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZUxvY2tlZCwgJ29uQ2hhbmdlJywgdGhpcy5vbkV4Y2hhbmdlUmF0ZUxvY2tlZENoYW5nZSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhcHBseUNvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5Q29udGV4dCh0ZW1wbGF0ZUVudHJ5KSB7XHJcbiAgICBjb25zdCBmb3VuZCA9IEFwcC5xdWVyeU5hdmlnYXRpb25Db250ZXh0KGZ1bmN0aW9uIHF1ZXJ5TmF2aWdhdGlvbkNvbnRleHQobykge1xyXG4gICAgICByZXR1cm4gKC9eKGFjY291bnRzfGNvbnRhY3RzKSQvKS50ZXN0KG8ucmVzb3VyY2VLaW5kKSAmJiBvLmtleTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxvb2t1cCA9IHtcclxuICAgICAgJ2FjY291bnRzJzogdGhpcy5hcHBseUFjY291bnRDb250ZXh0LFxyXG4gICAgICAnY29udGFjdHMnOiB0aGlzLmFwcGx5Q29udGFjdENvbnRleHQsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChmb3VuZCAmJiBsb29rdXBbZm91bmQucmVzb3VyY2VLaW5kXSkge1xyXG4gICAgICBsb29rdXBbZm91bmQucmVzb3VyY2VLaW5kXS5jYWxsKHRoaXMsIGZvdW5kKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYXBwbHlEZWZhdWx0Q29udGV4dCh0ZW1wbGF0ZUVudHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZpZWxkcy5TdGF0dXMuc2V0VmFsdWUodGVtcGxhdGVFbnRyeS5TdGF0dXMpO1xyXG4gICAgdGhpcy5maWVsZHMuQ2xvc2VQcm9iYWJpbGl0eS5zZXRWYWx1ZSh0ZW1wbGF0ZUVudHJ5LkNsb3NlUHJvYmFiaWxpdHkpO1xyXG4gICAgdGhpcy5maWVsZHMuRXN0aW1hdGVkQ2xvc2Uuc2V0VmFsdWUodGVtcGxhdGVFbnRyeS5Fc3RpbWF0ZWRDbG9zZSk7XHJcblxyXG4gICAgaWYgKEFwcC5oYXNNdWx0aUN1cnJlbmN5KCkgJiYgdGVtcGxhdGVFbnRyeSkge1xyXG4gICAgICBpZiAodGVtcGxhdGVFbnRyeS5FeGNoYW5nZVJhdGVDb2RlKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlQ29kZS5zZXRWYWx1ZSh7XHJcbiAgICAgICAgICAnJGtleSc6IHRlbXBsYXRlRW50cnkuRXhjaGFuZ2VSYXRlQ29kZSxcclxuICAgICAgICAgICckZGVzY3JpcHRvcic6IHRlbXBsYXRlRW50cnkuRXhjaGFuZ2VSYXRlQ29kZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRlbXBsYXRlRW50cnkuRXhjaGFuZ2VSYXRlKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlLnNldFZhbHVlKHRlbXBsYXRlRW50cnkuRXhjaGFuZ2VSYXRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRlbXBsYXRlRW50cnkuRXhjaGFuZ2VSYXRlRGF0ZSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZURhdGUuc2V0VmFsdWUodGVtcGxhdGVFbnRyeS5FeGNoYW5nZVJhdGVEYXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2V0VmFsdWVzOiBmdW5jdGlvbiBzZXRWYWx1ZXModmFsdWVzKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gICAgaWYgKEFwcC5oYXNNdWx0aUN1cnJlbmN5KCkpIHtcclxuICAgICAgaWYgKHZhbHVlcyAmJiB2YWx1ZXMuRXhjaGFuZ2VSYXRlQ29kZSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZUNvZGUuc2V0VmFsdWUoe1xyXG4gICAgICAgICAgJyRrZXknOiB2YWx1ZXMuRXhjaGFuZ2VSYXRlQ29kZSxcclxuICAgICAgICAgICckZGVzY3JpcHRvcic6IHZhbHVlcy5FeGNoYW5nZVJhdGVDb2RlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIUFwcC5jYW5Mb2NrT3Bwb3J0dW5pdHlSYXRlKCkpIHtcclxuICAgICAgICB0aGlzLmZpZWxkcy5FeGNoYW5nZVJhdGVMb2NrZWQuZGlzYWJsZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIUFwcC5jYW5DaGFuZ2VPcHBvcnR1bml0eVJhdGUoKSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZS5kaXNhYmxlKCk7XHJcbiAgICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlQ29kZS5kaXNhYmxlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZURhdGUuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmllbGRzLlNhbGVzUG90ZW50aWFsLnNldEN1cnJlbmN5Q29kZShBcHAuZ2V0QmFzZUV4Y2hhbmdlUmF0ZSgpLmNvZGUpO1xyXG4gIH0sXHJcbiAgZ2V0VmFsdWVzOiBmdW5jdGlvbiBnZXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG5cclxuICAgIGlmICh2YWx1ZXMpIHtcclxuICAgICAgY29uc3QgY29kZSA9IHZhbHVlcy5FeGNoYW5nZVJhdGVDb2RlO1xyXG4gICAgICB2YWx1ZXMuRXhjaGFuZ2VSYXRlQ29kZSA9IGNvZGUgJiYgY29kZS4ka2V5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfSxcclxuICBhcHBseURlZmF1bHRDb250ZXh0OiBmdW5jdGlvbiBhcHBseURlZmF1bHRDb250ZXh0KCkge1xyXG4gICAgdGhpcy5maWVsZHMuQWNjb3VudE1hbmFnZXIuc2V0VmFsdWUoQXBwLmNvbnRleHQudXNlcik7XHJcbiAgICB0aGlzLmZpZWxkcy5Pd25lci5zZXRWYWx1ZShBcHAuY29udGV4dC5kZWZhdWx0T3duZXIpO1xyXG4gIH0sXHJcbiAgYXBwbHlBY2NvdW50Q29udGV4dDogZnVuY3Rpb24gYXBwbHlBY2NvdW50Q29udGV4dChjb250ZXh0KSB7XHJcbiAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcoY29udGV4dC5pZCk7XHJcbiAgICBjb25zdCBlbnRyeSA9IHZpZXcgJiYgdmlldy5lbnRyeTtcclxuXHJcbiAgICB0aGlzLmZpZWxkcy5BY2NvdW50LnNldFZhbHVlKGVudHJ5KTtcclxuICAgIHRoaXMuZmllbGRzLkFjY291bnRNYW5hZ2VyLnNldFZhbHVlKHV0aWxpdHkuZ2V0VmFsdWUoZW50cnksICdBY2NvdW50TWFuYWdlcicpKTtcclxuICAgIHRoaXMuZmllbGRzLk93bmVyLnNldFZhbHVlKHV0aWxpdHkuZ2V0VmFsdWUoZW50cnksICdPd25lcicpKTtcclxuICB9LFxyXG4gIGFwcGx5Q29udGFjdENvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5Q29udGFjdENvbnRleHQoY29udGV4dCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KGNvbnRleHQuaWQpO1xyXG4gICAgY29uc3QgZW50cnkgPSB2aWV3ICYmIHZpZXcuZW50cnk7XHJcblxyXG4gICAgdGhpcy5maWVsZHMuQWNjb3VudC5zZXRWYWx1ZSh1dGlsaXR5LmdldFZhbHVlKGVudHJ5LCAnQWNjb3VudCcpKTtcclxuICAgIHRoaXMuZmllbGRzLkFjY291bnRNYW5hZ2VyLnNldFZhbHVlKHV0aWxpdHkuZ2V0VmFsdWUoZW50cnksICdBY2NvdW50TWFuYWdlcicpKTtcclxuICAgIHRoaXMuZmllbGRzLk93bmVyLnNldFZhbHVlKHV0aWxpdHkuZ2V0VmFsdWUoZW50cnksICdPd25lcicpKTtcclxuICAgIHRoaXMuZmllbGRzWydDb250YWN0cy4kcmVzb3VyY2VzWzBdLkNvbnRhY3QuJGtleSddLnNldFZhbHVlKGVudHJ5LiRrZXkpO1xyXG4gIH0sXHJcbiAgb25FeGNoYW5nZVJhdGVDb2RlQ2hhbmdlOiBmdW5jdGlvbiBvbkV4Y2hhbmdlUmF0ZUNvZGVDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBmaWVsZC5nZXRTZWxlY3Rpb24oKTtcclxuICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLlJhdGUpIHtcclxuICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlLnNldFZhbHVlKHNlbGVjdGlvbi5SYXRlKTtcclxuICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlRGF0ZS5zZXRWYWx1ZShuZXcgRGF0ZShEYXRlLm5vdygpKSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBvbkV4Y2hhbmdlUmF0ZUxvY2tlZENoYW5nZTogZnVuY3Rpb24gb25FeGNoYW5nZVJhdGVMb2NrZWRDaGFuZ2UodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLmZpZWxkcy5FeGNoYW5nZVJhdGUuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLmZpZWxkcy5FeGNoYW5nZVJhdGVDb2RlLmRpc2FibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghQXBwLmNhbkNoYW5nZU9wcG9ydHVuaXR5UmF0ZSgpKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlLmRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLmZpZWxkcy5FeGNoYW5nZVJhdGVDb2RlLmRpc2FibGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmZpZWxkcy5FeGNoYW5nZVJhdGUuZW5hYmxlKCk7XHJcbiAgICAgICAgdGhpcy5maWVsZHMuRXhjaGFuZ2VSYXRlQ29kZS5lbmFibGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmllbGRzLkV4Y2hhbmdlUmF0ZURhdGUuc2V0VmFsdWUobmV3IERhdGUoRGF0ZS5ub3coKSkpO1xyXG4gIH0sXHJcbiAgb25BY2NvdW50Q2hhbmdlOiBmdW5jdGlvbiBvbkFjY291bnRDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBmaWVsZC5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAvLyB0b2RvOiBtYXRjaCBiZWhhdmlvciBpbiB3ZWIgY2xpZW50OyBpZiB0aGUgYWNjb3VudCBtYW5hZ2VyIChBTSkgaXMgZXhwbGljaXRseSBzZXQsIGl0IHNob3VsZCBzdGF5LCBvdGhlcndpc2VcclxuICAgIC8vIGl0IHNob3VsZCBiZSBzZXQgdG8gdGhlIEFNIGZvciB0aGUgc2VsZWN0ZWQgYWNjb3VudCAoYW5kIGNoYW5nZSBlYWNoIHRpbWUpLlxyXG4gICAgaWYgKHNlbGVjdGlvbiAmJiB0aGlzLmluc2VydCkge1xyXG4gICAgICB0aGlzLmZpZWxkcy5BY2NvdW50TWFuYWdlci5zZXRWYWx1ZSh1dGlsaXR5LmdldFZhbHVlKHNlbGVjdGlvbiwgJ0FjY291bnRNYW5hZ2VyJykpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgY3JlYXRlTGF5b3V0OiBmdW5jdGlvbiBjcmVhdGVMYXlvdXQoKSB7XHJcbiAgICBjb25zdCBkZXRhaWxzID0ge1xyXG4gICAgICB0aXRsZTogdGhpcy5kZXRhaWxzVGV4dCxcclxuICAgICAgbmFtZTogJ09wcG9ydHVuaXR5RGV0YWlsc0VkaXQnLFxyXG4gICAgICBjaGlsZHJlbjogW3tcclxuICAgICAgICBsYWJlbDogdGhpcy5vcHBvcnR1bml0eVRleHQsXHJcbiAgICAgICAgbmFtZTogJ0Rlc2NyaXB0aW9uJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0Rlc2NyaXB0aW9uJyxcclxuICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgbWF4VGV4dExlbmd0aDogNjQsXHJcbiAgICAgICAgdmFsaWRhdG9yOiBbXHJcbiAgICAgICAgICB2YWxpZGF0b3Iubm90RW1wdHksXHJcbiAgICAgICAgICB2YWxpZGF0b3IuZXhjZWVkc01heFRleHRMZW5ndGgsXHJcbiAgICAgICAgXSxcclxuICAgICAgICBhdXRvRm9jdXM6IHRydWUsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogdGhpcy5hY2NvdW50VGV4dCxcclxuICAgICAgICBuYW1lOiAnQWNjb3VudCcsXHJcbiAgICAgICAgcHJvcGVydHk6ICdBY2NvdW50JyxcclxuICAgICAgICB0ZXh0UHJvcGVydHk6ICdBY2NvdW50TmFtZScsXHJcbiAgICAgICAgdHlwZTogJ2xvb2t1cCcsXHJcbiAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhpc3RzLFxyXG4gICAgICAgIHZpZXc6ICdhY2NvdW50X3JlbGF0ZWQnLFxyXG4gICAgICAgIHZpZXdNaXhpbjoge1xyXG4gICAgICAgICAgZGlzYWJsZVJpZ2h0RHJhd2VyOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogdGhpcy5hY2N0TWdyVGV4dCxcclxuICAgICAgICBuYW1lOiAnQWNjb3VudE1hbmFnZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnQWNjb3VudE1hbmFnZXInLFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eTogJ1VzZXJJbmZvJyxcclxuICAgICAgICB0ZXh0VGVtcGxhdGU6IHRlbXBsYXRlLm5hbWVMRixcclxuICAgICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgICB2aWV3OiAndXNlcl9saXN0JyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLnJlc2VsbGVyVGV4dCxcclxuICAgICAgICBuYW1lOiAnUmVzZWxsZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnUmVzZWxsZXInLFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eTogJ0FjY291bnROYW1lJyxcclxuICAgICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgICB2aWV3OiAnYWNjb3VudF9yZWxhdGVkJyxcclxuICAgICAgICB3aGVyZTogc3RyaW5nLnN1YnN0aXR1dGUoJ3VwcGVyKFN1YlR5cGUpIGVxIFwiJHswfVwiJywgW3RoaXMuc3ViVHlwZVBpY2tMaXN0UmVzZWxsZXJUZXh0XSksXHJcbiAgICAgICAgdmlld01peGluOiB7XHJcbiAgICAgICAgICBkaXNhYmxlUmlnaHREcmF3ZXI6IHRydWUsXHJcbiAgICAgICAgICBvblRyYW5zaXRpb25UbzogZnVuY3Rpb24gb25UcmFuc2l0aW9uVG8oc2VsZikge1xyXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgaW5pdGlhbCB3aGVyZSBjbGF1c2UsIGFsbG93aW5nIHRoZSB1c2VyIHRvIHNlYXJjaCBmb3Igb3RoZXJzIGlmIHRoZXkgd2FudFxyXG4gICAgICAgICAgICBzZWxmLm9wdGlvbnMud2hlcmUgPSAnJztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLmVzdENsb3NlVGV4dCxcclxuICAgICAgICBuYW1lOiAnRXN0aW1hdGVkQ2xvc2UnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRXN0aW1hdGVkQ2xvc2UnLFxyXG4gICAgICAgIHR5cGU6ICdkYXRlJyxcclxuICAgICAgICB0aW1lbGVzczogdHJ1ZSxcclxuICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvci5leGlzdHMsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogdGhpcy5wb3RlbnRpYWxUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdTYWxlc1BvdGVudGlhbCcsXHJcbiAgICAgICAgcHJvcGVydHk6ICdTYWxlc1BvdGVudGlhbCcsXHJcbiAgICAgICAgcHJlY2lzaW9uOiAyLFxyXG4gICAgICAgIHR5cGU6ICdtdWx0aUN1cnJlbmN5JyxcclxuICAgICAgICB2YWxpZGF0aW9uVHJpZ2dlcjogJ2tleXVwJyxcclxuICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvci5pc0N1cnJlbmN5LFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbGFiZWw6IHRoaXMudHlwZVRleHQsXHJcbiAgICAgICAgbmFtZTogJ1R5cGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnVHlwZScsXHJcbiAgICAgICAgcGlja2xpc3Q6ICdPcHBvcnR1bml0eSBUeXBlJyxcclxuICAgICAgICB0aXRsZTogdGhpcy5vcHBvcnR1bml0eVR5cGVUaXRsZVRleHQsXHJcbiAgICAgICAgdHlwZTogJ3BpY2tsaXN0JyxcclxuICAgICAgICBtYXhUZXh0TGVuZ3RoOiA2NCxcclxuICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvci5leGNlZWRzTWF4VGV4dExlbmd0aCxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLnN0YXR1c1RleHQsXHJcbiAgICAgICAgbmFtZTogJ1N0YXR1cycsXHJcbiAgICAgICAgcHJvcGVydHk6ICdTdGF0dXMnLFxyXG4gICAgICAgIHBpY2tsaXN0OiAnT3Bwb3J0dW5pdHkgU3RhdHVzJyxcclxuICAgICAgICByZXF1aXJlU2VsZWN0aW9uOiB0cnVlLFxyXG4gICAgICAgIHRpdGxlOiB0aGlzLm9wcG9ydHVuaXR5U3RhdHVzVGl0bGVUZXh0LFxyXG4gICAgICAgIHR5cGU6ICdwaWNrbGlzdCcsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogdGhpcy5pbXBvcnRTb3VyY2VUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdMZWFkU291cmNlJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0xlYWRTb3VyY2UnLFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eTogJ0Rlc2NyaXB0aW9uJyxcclxuICAgICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgICB2aWV3OiAnbGVhZHNvdXJjZV9saXN0JyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm93bmVyVGV4dCxcclxuICAgICAgICBuYW1lOiAnT3duZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnT3duZXInLFxyXG4gICAgICAgIGtleVByb3BlcnR5OiAnJGtleScsXHJcbiAgICAgICAgdGV4dFByb3BlcnR5OiAnT3duZXJEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgdHlwZTogJ2xvb2t1cCcsXHJcbiAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhpc3RzLFxyXG4gICAgICAgIHZpZXc6ICdvd25lcl9saXN0JyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLnByb2JhYmlsaXR5VGV4dCxcclxuICAgICAgICBuYW1lOiAnQ2xvc2VQcm9iYWJpbGl0eScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdDbG9zZVByb2JhYmlsaXR5JyxcclxuICAgICAgICBwaWNrbGlzdDogJ09wcG9ydHVuaXR5IFByb2JhYmlsaXR5JyxcclxuICAgICAgICB0aXRsZTogdGhpcy5wcm9iYWJpbGl0eVRpdGxlVGV4dCxcclxuICAgICAgICB0eXBlOiAncGlja2xpc3QnLFxyXG4gICAgICAgIHZhbGlkYXRvcjogW1xyXG4gICAgICAgICAgdmFsaWRhdG9yLmlzSW50MzIsXHJcbiAgICAgICAgICB2YWxpZGF0b3IuaXNJbnRlZ2VyLFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnQ29udGFjdHMuJHJlc291cmNlc1swXS5Db250YWN0LiRrZXknLFxyXG4gICAgICAgIHByb3BlcnR5OiAnQ29udGFjdHMuJHJlc291cmNlc1swXS5Db250YWN0LiRrZXknLFxyXG4gICAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICB9XSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbXVsdGlDdXJyZW5jeSA9IHtcclxuICAgICAgdGl0bGU6IHRoaXMubXVsdGlDdXJyZW5jeVRleHQsXHJcbiAgICAgIG5hbWU6ICdPcHBvcnR1bml0eU11bHRpQ3VycmVuY3lFZGl0JyxcclxuICAgICAgY2hpbGRyZW46IFt7XHJcbiAgICAgICAgbGFiZWw6IHRoaXMubXVsdGlDdXJyZW5jeVJhdGVUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdFeGNoYW5nZVJhdGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRXhjaGFuZ2VSYXRlJyxcclxuICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuaXNEZWNpbWFsLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbGFiZWw6IHRoaXMubXVsdGlDdXJyZW5jeUNvZGVUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdFeGNoYW5nZVJhdGVDb2RlJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0V4Y2hhbmdlUmF0ZUNvZGUnLFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eTogJyRrZXknLFxyXG4gICAgICAgIHR5cGU6ICdsb29rdXAnLFxyXG4gICAgICAgIHZpZXc6ICdleGNoYW5nZXJhdGVfbG9va3VwJyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm11bHRpQ3VycmVuY3lMb2NrZWRUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdFeGNoYW5nZVJhdGVMb2NrZWQnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRXhjaGFuZ2VSYXRlTG9ja2VkJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogdGhpcy5tdWx0aUN1cnJlbmN5RGF0ZVRleHQsXHJcbiAgICAgICAgbmFtZTogJ0V4Y2hhbmdlUmF0ZURhdGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRXhjaGFuZ2VSYXRlRGF0ZScsXHJcbiAgICAgICAgdHlwZTogJ2RhdGUnLFxyXG4gICAgICAgIHRpbWVsZXNzOiBmYWxzZSxcclxuICAgICAgICBkYXRlRm9ybWF0VGV4dDogdGhpcy5leGNoYW5nZVJhdGVEYXRlRm9ybWF0VGV4dCxcclxuICAgICAgICBkaXNhYmxlZDogdHJ1ZSwgLy8gVE9ETzogQ3JlYXRlIGFuIFNESyBpc3N1ZSBmb3IgdGhpcyAoTk9UIFdPUktJTkchISEpXHJcbiAgICAgIH1dLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmxheW91dCB8fCAodGhpcy5sYXlvdXQgPSBbXSk7XHJcblxyXG4gICAgaWYgKGxheW91dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiBsYXlvdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGF5b3V0LnB1c2goZGV0YWlscyk7XHJcblxyXG4gICAgaWYgKEFwcC5oYXNNdWx0aUN1cnJlbmN5KCkpIHtcclxuICAgICAgbGF5b3V0LnB1c2gobXVsdGlDdXJyZW5jeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxheW91dDtcclxuICB9LFxyXG59KTtcclxuXHJcbmxhbmcuc2V0T2JqZWN0KCdNb2JpbGUuU2FsZXNMb2dpeC5WaWV3cy5PcHBvcnR1bml0eS5FZGl0JywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
