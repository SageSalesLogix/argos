<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Integrations/BOE/Views/Locations/PricingAvailabilityList', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', 'argos/List', 'crm/Format', 'argos/Convert', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoString, _argosList, _crmFormat, _argosConvert, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _string = _interopRequireDefault(_dojoString);

  var _List = _interopRequireDefault(_argosList);

  var _format = _interopRequireDefault(_crmFormat);

  var _convert = _interopRequireDefault(_argosConvert);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('locationsPricingAvailabilityList');

  var __class = (0, _declare['default'])('crm.Integrations.BOE.Views.Locations.PricingAvailabilityList', [_List['default']], {
    // Templates
    itemTemplate: new Simplate(['&lt;h4&gt;&lt;label class=&quot;group-label&quot;&gt;{%: $$.warehouseText %}: &lt;/label&gt;{%: $.SlxLocation %}&lt;/h4&gt;', '&lt;h3&gt;&lt;label class=&quot;group-label&quot;&gt;{%: $$.availableToPromiseDateText %}: &lt;/label&gt;{%: $$.formatATPDate($.ATPDate) %}&lt;/h3&gt;', '&lt;h3&gt;&lt;label class=&quot;group-label&quot;&gt;{%: $$.availableText %}: &lt;/label&gt;{%: $.AvailableQuantity %}&lt;/h3&gt;', '&lt;h4&gt;{%: $.UnitOfMeasure %}&lt;/h4&gt;']),

    // Localization
    titleText: resource.titleText,
    warehouseText: resource.warehouseText,
    availableText: resource.availableText,
    availableToPromiseDateText: resource.availableToPromiseDateText,

    // View Properties
    id: 'locations_pricingAvailabilityList',
    detailView: '',
    enableActions: false,
    expose: false,
    pricingAvailabilityResult: null,
    requestType: null,
    entityType: null,
    parentEntity: null,
    selectionOnly: true,
    allowEmptySelection: false,
    continuousScrolling: false,
    simpleMode: true,
    negateHistory: true,
    pageSize: 500,
    singleSelect: true,
    singleSelectAction: 'complete',

    // Card layout
    itemIconClass: '',

    createToolLayout: function createToolLayout() {
      return this.tools || (this.tools = {
        'tbar': [{
          id: 'complete',
          cls: 'invisible',
          fn: this.onSelectWarehouse,
          scope: this
        }, {
          id: 'cancel',
          side: 'left',
          cls: 'fa fa-ban fa-fw fa-lg',
          fn: ReUI.back,
          scope: ReUI
        }] });
    },
    show: function show() {
      this.inherited(arguments);
      if (!this.options) {
        this.options = {};
      }
      this.options.singleSelect = true;
      this.options.singleSelectAction = 'complete';
    },
    onSelectWarehouse: function onSelectWarehouse() {
      var selection = this.getSelectedWarehouse();
      this.processWarehouse(selection).then(function () {
        ReUI.back();
      });
    },
    getSelectedWarehouse: function getSelectedWarehouse() {
      var selections = this.get('selectionModel').getSelections();
      var selection = null;
      if (this.options.singleSelect) {
        for (var selectionKey in selections) {
          if (selections.hasOwnProperty(selectionKey)) {
            selection = selections[selectionKey].data;
            break;
          }
        }
      }
      return selection;
    },
    processWarehouse: function processWarehouse(warehouse) {
      var promise = new Promise(function (resolve) {
        resolve(warehouse);
      });
      return promise;
    },
    getAvailability: function getAvailability() {
      var promise = new Promise(function (resolve) {
        resolve([]);
      });
      return promise;
    },
    onTransitionAway: function onTransitionAway() {
      this.refreshRequired = true;
      this.inherited(arguments);
    },
    requestData: function requestData() {
      var _this = this;

      this.getAvailability().then(function (entries) {
        _this._onQueryComplete({ total: entries.length ? entries.length : 0 }, entries);
      }, function () {
        _this._onQueryComplete({ total: 0 }, []);
      });
    },
    formatATPDate: function formatATPDate(atpDate) {
      var value = '';
      if (_convert['default'].isDateString(atpDate)) {
        value = _convert['default'].toDateFromString(atpDate);
        return _format['default'].date(value);
      }
      return value;
    },
    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('upper(Description) like &quot;${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    }
  });

  _lang['default'].setObject('icboe.Views.Locations.PricingAvailabilityList', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL0xvY2F0aW9ucy9QcmljaW5nQXZhaWxhYmlsaXR5TGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGtDQUFrQyxDQUFDLENBQUM7O0FBRWpFLE1BQU0sT0FBTyxHQUFHLHlCQUFRLDhEQUE4RCxFQUFFLGtCQUFNLEVBQUU7O0FBRTlGLGdCQUFZLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDekIsMkZBQTJGLEVBQzNGLHNIQUFzSCxFQUN0SCxpR0FBaUcsRUFDakcsaUNBQWlDLENBQ2xDLENBQUM7OztBQUdGLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3QixpQkFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO0FBQ3JDLGlCQUFhLEVBQUUsUUFBUSxDQUFDLGFBQWE7QUFDckMsOEJBQTBCLEVBQUUsUUFBUSxDQUFDLDBCQUEwQjs7O0FBRy9ELE1BQUUsRUFBRSxtQ0FBbUM7QUFDdkMsY0FBVSxFQUFFLEVBQUU7QUFDZCxpQkFBYSxFQUFFLEtBQUs7QUFDcEIsVUFBTSxFQUFFLEtBQUs7QUFDYiw2QkFBeUIsRUFBRSxJQUFJO0FBQy9CLGVBQVcsRUFBRSxJQUFJO0FBQ2pCLGNBQVUsRUFBRSxJQUFJO0FBQ2hCLGdCQUFZLEVBQUUsSUFBSTtBQUNsQixpQkFBYSxFQUFFLElBQUk7QUFDbkIsdUJBQW1CLEVBQUUsS0FBSztBQUMxQix1QkFBbUIsRUFBRSxLQUFLO0FBQzFCLGNBQVUsRUFBRSxJQUFJO0FBQ2hCLGlCQUFhLEVBQUUsSUFBSTtBQUNuQixZQUFRLEVBQUUsR0FBRztBQUNiLGdCQUFZLEVBQUUsSUFBSTtBQUNsQixzQkFBa0IsRUFBRSxVQUFVOzs7QUFHOUIsaUJBQWEsRUFBRSxFQUFFOztBQUVqQixvQkFBZ0IsRUFBRSxTQUFTLGdCQUFnQixHQUFHO0FBQzVDLGFBQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENB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QUFDLENBQUM7T0FDekMsQ0FBQyxDQUFDO0tBQ0o7QUFDRCxpQkFBYSxFQUFFLFNBQVMsYUFBYSxDQUFDLE9BQU8sRUFBRTtBQUM3QyxVQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixVQUFJLG9CQUFRLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNqQyxhQUFLLEdBQUcsb0JBQVEsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDMUMsZUFBTyxtQkFBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7T0FDM0I7QUFDRCxhQUFPLEtBQUssQ0FBQztLQUNkO0FBQ0QscUJBQWlCLEVBQUUsU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUU7QUFDekQsYUFBTyxtQkFBTyxVQUFVLENBQUMsaUNBQWlDLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2xIO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQywrQ0FBK0MsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDMUQsT0FBTyIsImZpbGUiOiJzcmMvSW50ZWdyYXRpb25zL0JPRS9WaWV3cy9Mb2NhdGlvbnMvUHJpY2luZ0F2YWlsYWJpbGl0eUxpc3QuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IHN0cmluZyBmcm9tICdkb2pvL3N0cmluZyc7XHJcbmltcG9ydCBMaXN0IGZyb20gJ2FyZ29zL0xpc3QnO1xyXG5pbXBvcnQgZm9ybWF0IGZyb20gJ2NybS9Gb3JtYXQnO1xyXG5pbXBvcnQgY29udmVydCBmcm9tICdhcmdvcy9Db252ZXJ0JztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnbG9jYXRpb25zUHJpY2luZ0F2YWlsYWJpbGl0eUxpc3QnKTtcclxuXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uSW50ZWdyYXRpb25zLkJPRS5WaWV3cy5Mb2NhdGlvbnMuUHJpY2luZ0F2YWlsYWJpbGl0eUxpc3QnLCBbTGlzdF0sIHtcclxuICAvLyBUZW1wbGF0ZXNcclxuICBpdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGg0PjxsYWJlbCBjbGFzcz1cImdyb3VwLWxhYmVsXCI+eyU6ICQkLndhcmVob3VzZVRleHQgJX06IDwvbGFiZWw+eyU6ICQuU2x4TG9jYXRpb24gJX08L2g0PicsXHJcbiAgICAnPGgzPjxsYWJlbCBjbGFzcz1cImdyb3VwLWxhYmVsXCI+eyU6ICQkLmF2YWlsYWJsZVRvUHJvbWlzZURhdGVUZXh0ICV9OiA8L2xhYmVsPnslOiAkJC5mb3JtYXRBVFBEYXRlKCQuQVRQRGF0ZSkgJX08L2gzPicsXHJcbiAgICAnPGgzPjxsYWJlbCBjbGFzcz1cImdyb3VwLWxhYmVsXCI+eyU6ICQkLmF2YWlsYWJsZVRleHQgJX06IDwvbGFiZWw+eyU6ICQuQXZhaWxhYmxlUXVhbnRpdHkgJX08L2gzPicsXHJcbiAgICAnPGg0PnslOiAkLlVuaXRPZk1lYXN1cmUgJX08L2g0PicsXHJcbiAgXSksXHJcblxyXG4gIC8vIExvY2FsaXphdGlvblxyXG4gIHRpdGxlVGV4dDogcmVzb3VyY2UudGl0bGVUZXh0LFxyXG4gIHdhcmVob3VzZVRleHQ6IHJlc291cmNlLndhcmVob3VzZVRleHQsXHJcbiAgYXZhaWxhYmxlVGV4dDogcmVzb3VyY2UuYXZhaWxhYmxlVGV4dCxcclxuICBhdmFpbGFibGVUb1Byb21pc2VEYXRlVGV4dDogcmVzb3VyY2UuYXZhaWxhYmxlVG9Qcm9taXNlRGF0ZVRleHQsXHJcblxyXG4gIC8vIFZpZXcgUHJvcGVydGllc1xyXG4gIGlkOiAnbG9jYXRpb25zX3ByaWNpbmdBdmFpbGFiaWxpdHlMaXN0JyxcclxuICBkZXRhaWxWaWV3OiAnJyxcclxuICBlbmFibGVBY3Rpb25zOiBmYWxzZSxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIHByaWNpbmdBdmFpbGFiaWxpdHlSZXN1bHQ6IG51bGwsXHJcbiAgcmVxdWVzdFR5cGU6IG51bGwsXHJcbiAgZW50aXR5VHlwZTogbnVsbCxcclxuICBwYXJlbnRFbnRpdHk6IG51bGwsXHJcbiAgc2VsZWN0aW9uT25seTogdHJ1ZSxcclxuICBhbGxvd0VtcHR5U2VsZWN0aW9uOiBmYWxzZSxcclxuICBjb250aW51b3VzU2Nyb2xsaW5nOiBmYWxzZSxcclxuICBzaW1wbGVNb2RlOiB0cnVlLFxyXG4gIG5lZ2F0ZUhpc3Rvcnk6IHRydWUsXHJcbiAgcGFnZVNpemU6IDUwMCxcclxuICBzaW5nbGVTZWxlY3Q6IHRydWUsXHJcbiAgc2luZ2xlU2VsZWN0QWN0aW9uOiAnY29tcGxldGUnLFxyXG5cclxuICAvLyBDYXJkIGxheW91dFxyXG4gIGl0ZW1JY29uQ2xhc3M6ICcnLFxyXG5cclxuICBjcmVhdGVUb29sTGF5b3V0OiBmdW5jdGlvbiBjcmVhdGVUb29sTGF5b3V0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMudG9vbHMgfHwgKHRoaXMudG9vbHMgPSB7XHJcbiAgICAgICd0YmFyJzogW3tcclxuICAgICAgICBpZDogJ2NvbXBsZXRlJyxcclxuICAgICAgICBjbHM6ICdpbnZpc2libGUnLFxyXG4gICAgICAgIGZuOiB0aGlzLm9uU2VsZWN0V2FyZWhvdXNlLFxyXG4gICAgICAgIHNjb3BlOiB0aGlzLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgaWQ6ICdjYW5jZWwnLFxyXG4gICAgICAgIHNpZGU6ICdsZWZ0JyxcclxuICAgICAgICBjbHM6ICdmYSBmYS1iYW4gZmEtZncgZmEtbGcnLFxyXG4gICAgICAgIGZuOiBSZVVJLmJhY2ssXHJcbiAgICAgICAgc2NvcGU6IFJlVUksXHJcbiAgICAgIH0sXHJcbiAgICAgIF19KTtcclxuICB9LFxyXG4gIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5vcHRpb25zID0ge307XHJcbiAgICB9XHJcbiAgICB0aGlzLm9wdGlvbnMuc2luZ2xlU2VsZWN0ID0gdHJ1ZTtcclxuICAgIHRoaXMub3B0aW9ucy5zaW5nbGVTZWxlY3RBY3Rpb24gPSAnY29tcGxldGUnO1xyXG4gIH0sXHJcbiAgb25TZWxlY3RXYXJlaG91c2U6IGZ1bmN0aW9uIG9uU2VsZWN0V2FyZWhvdXNlKCkge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3RlZFdhcmVob3VzZSgpO1xyXG4gICAgdGhpcy5wcm9jZXNzV2FyZWhvdXNlKHNlbGVjdGlvbikudGhlbigoKSA9PiB7XHJcbiAgICAgIFJlVUkuYmFjaygpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBnZXRTZWxlY3RlZFdhcmVob3VzZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRXYXJlaG91c2UoKSB7XHJcbiAgICBjb25zdCBzZWxlY3Rpb25zID0gdGhpcy5nZXQoJ3NlbGVjdGlvbk1vZGVsJykuZ2V0U2VsZWN0aW9ucygpO1xyXG4gICAgbGV0IHNlbGVjdGlvbiA9IG51bGw7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpbmdsZVNlbGVjdCkge1xyXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdGlvbktleSBpbiBzZWxlY3Rpb25zKSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGlvbnMuaGFzT3duUHJvcGVydHkoc2VsZWN0aW9uS2V5KSkge1xyXG4gICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uc1tzZWxlY3Rpb25LZXldLmRhdGE7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzZWxlY3Rpb247XHJcbiAgfSxcclxuICBwcm9jZXNzV2FyZWhvdXNlOiBmdW5jdGlvbiBwcm9jZXNzV2FyZWhvdXNlKHdhcmVob3VzZSkge1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHJlc29sdmUod2FyZWhvdXNlKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfSxcclxuICBnZXRBdmFpbGFiaWxpdHk6IGZ1bmN0aW9uIGdldEF2YWlsYWJpbGl0eSgpIHtcclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICByZXNvbHZlKFtdKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfSxcclxuICBvblRyYW5zaXRpb25Bd2F5OiBmdW5jdGlvbiBvblRyYW5zaXRpb25Bd2F5KCkge1xyXG4gICAgdGhpcy5yZWZyZXNoUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICB9LFxyXG4gIHJlcXVlc3REYXRhOiBmdW5jdGlvbiByZXF1ZXN0RGF0YSgpIHtcclxuICAgIHRoaXMuZ2V0QXZhaWxhYmlsaXR5KCkudGhlbigoZW50cmllcykgPT4ge1xyXG4gICAgICB0aGlzLl9vblF1ZXJ5Q29tcGxldGUoeyB0b3RhbDogZW50cmllcy5sZW5ndGggPyBlbnRyaWVzLmxlbmd0aCA6IDAgfSwgZW50cmllcyk7XHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX29uUXVlcnlDb21wbGV0ZSh7IHRvdGFsOiAwIH0sIFtdKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgZm9ybWF0QVRQRGF0ZTogZnVuY3Rpb24gZm9ybWF0QVRQRGF0ZShhdHBEYXRlKSB7XHJcbiAgICBsZXQgdmFsdWUgPSAnJztcclxuICAgIGlmIChjb252ZXJ0LmlzRGF0ZVN0cmluZyhhdHBEYXRlKSkge1xyXG4gICAgICB2YWx1ZSA9IGNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyhhdHBEYXRlKTtcclxuICAgICAgcmV0dXJuIGZvcm1hdC5kYXRlKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9LFxyXG4gIGZvcm1hdFNlYXJjaFF1ZXJ5OiBmdW5jdGlvbiBmb3JtYXRTZWFyY2hRdWVyeShzZWFyY2hRdWVyeSkge1xyXG4gICAgcmV0dXJuIHN0cmluZy5zdWJzdGl0dXRlKCd1cHBlcihEZXNjcmlwdGlvbikgbGlrZSBcIiR7MH0lXCInLCBbdGhpcy5lc2NhcGVTZWFyY2hRdWVyeShzZWFyY2hRdWVyeS50b1VwcGVyQ2FzZSgpKV0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ2ljYm9lLlZpZXdzLkxvY2F0aW9ucy5QcmljaW5nQXZhaWxhYmlsaXR5TGlzdCcsIF9fY2xhc3MpO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
