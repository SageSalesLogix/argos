<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/RelatedViewWidget', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/_base/event', 'dojo/on', 'dojo/string', 'dojo/dom-class', 'dojo/when', 'dojo/dom-construct', 'dojo/dom-attr', 'dojo/_base/connect', 'dojo/_base/array', './Store/SData', './_CustomizationMixin', './_ActionMixin', 'argos/_RelatedViewWidgetBase', './I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojo_baseEvent, _dojoOn, _dojoString, _dojoDomClass, _dojoWhen, _dojoDomConstruct, _dojoDomAttr, _dojo_baseConnect, _dojo_baseArray, _StoreSData, _CustomizationMixin2, _ActionMixin2, _argos_RelatedViewWidgetBase, _I18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  /* see copyright file
   */

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _event = _interopRequireDefault(_dojo_baseEvent);

  var _on = _interopRequireDefault(_dojoOn);

  var _string = _interopRequireDefault(_dojoString);

  var _domClass = _interopRequireDefault(_dojoDomClass);

  var _when = _interopRequireDefault(_dojoWhen);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _domAttr = _interopRequireDefault(_dojoDomAttr);

  var _connect = _interopRequireDefault(_dojo_baseConnect);

  var _array = _interopRequireDefault(_dojo_baseArray);

  var _SDataStore = _interopRequireDefault(_StoreSData);

  var _CustomizationMixin3 = _interopRequireDefault(_CustomizationMixin2);

  var _ActionMixin3 = _interopRequireDefault(_ActionMixin2);

  var _RelatedViewWidgetBase2 = _interopRequireDefault(_argos_RelatedViewWidgetBase);

  var _getResource = _interopRequireDefault(_I18n);

  var resource = (0, _getResource['default'])('relatedViewWidget');

  var __class = (0, _declare['default'])('argos.RelatedViewWidget', [_RelatedViewWidgetBase2['default'], _CustomizationMixin3['default'], _ActionMixin3['default']], {
    cls: 'related-view-widget',
    nodataText: resource.nodataText,
    selectMoreDataText: resource.selectMoreDataText,
    selectMoreDataText2: resource.selectMoreDataText2,
    navToListText: resource.navToListText,
    loadingText: resource.loadingText,
    refreshViewText: resource.refreshViewText,
    itemOfCountText: resource.itemOfCountText,
    totalCountText: resource.totalCountText,
    titleText: resource.titleText,
    parentProperty: '$key',
    parentEntry: null,
    relatedProperty: '$key',
    relatedEntry: null,
    itemsNode: null,
    loadingNode: null,
    id: 'related-view',
    detailViewId: null,
    listViewId: null,
    listViewWhere: null,
    enabled: false,
    parentCollection: false,
    parentCollectionProperty: null,
    resourceKind: null,
    contractName: null,
    select: null,
    where: null,
    sort: null,
    store: null,
    relatedData: null,
    queryOptions: null,
    isLoaded: false,
    autoLoad: false,
    wait: false,
    startIndex: 1,
    pageSize: 3,
    relatedResults: null,
    itemCount: 0,
    _isInitLoad: true,
    showTab: true,
    showTotalInTab: true,
    showSelectMore: false,
    hideWhenNoData: false,
    enableActions: true,
    _subscribes: null,
<span id='global-property-relatedContentTemplate'>    /**
</span>     * @property {Simplate}
     * Simple that defines the HTML Markup
     */
    relatedContentTemplate: new Simplate(['&lt;div  id=&quot;tab&quot; data-dojo-attach-point=&quot;tabNode&quot; class=&quot;', '{% if ($.autoLoad) { %}', 'tab ', '{% } else { %}', 'tab collapsed ', '{% } %}', '&quot; &gt;', '&lt;div class=&quot;tab-items&quot;&gt;', '{%! $$.relatedViewTabItemsTemplate %}', '&lt;/div&gt;', '&lt;/div&gt;', '&lt;div class=&quot;panel&quot;&gt;', '&lt;div data-dojo-attach-point=&quot;actionsNode&quot; class=&quot;action-items&quot;&gt;&lt;/div&gt;', '&lt;div data-dojo-attach-point=&quot;headereNode&quot; class=&quot;header&quot;&gt;', '{%! $$.relatedViewHeaderTemplate %}', '&lt;/div&gt;', '&lt;div  data-dojo-attach-point=&quot;relatedViewNode&quot;&gt;&lt;/div&gt;', '&lt;div data-dojo-attach-point=&quot;footerNode&quot; class=&quot;footer&quot;&gt;', '{%! $$.relatedViewFooterTemplate %}', '&lt;/div&gt;', '&lt;/div&gt;']),
    nodataTemplate: new Simplate(['&lt;div class=&quot;nodata&quot;&gt; {%: $$.nodataText %}&lt;/div&gt;']),
    relatedViewTabItemsTemplate: new Simplate(['&lt;span class=&quot;tab-item&quot;&gt;', '&lt;div class=&quot;tab-icon&quot; data-dojo-attach-event=&quot;onclick:onNavigateToList&quot;&gt;', '&lt;img src=&quot;{%= $.icon %}&quot; alt=&quot;{%= $.title %}&quot; /&gt;', '&lt;/div&gt;', '&lt;div data-dojo-attach-point=&quot;titleNode&quot; data-dojo-attach-event=&quot;onclick:toggleView&quot;  class=&quot;title&quot; &gt;{%: ($.title ) %} &lt;/div&gt;', '&lt;/span&gt;', '&lt;div class=&quot;line-bar&quot;&gt;&lt;/div&gt;']),
    relatedViewHeaderTemplate: new Simplate(['']),
    relatedViewFooterTemplate: new Simplate(['&lt;div  data-dojo-attach-point=&quot;selectMoreNode&quot; class=&quot;action&quot; data-dojo-attach-event=&quot;onclick:onSelectMoreData&quot;&gt;&lt;/div&gt;', '&lt;div  data-dojo-attach-point=&quot;navtoListFooterNode&quot; class=&quot;action&quot; data-dojo-attach-event=&quot;onclick:onNavigateToList&quot;&gt;{%: $$.navToListText %}&lt;/div&gt;']),
    relatedViewRowTemplate: new Simplate(['&lt;div class=&quot;row {%: $$.cls %}&quot;  data-relatedkey=&quot;{%: $.$key %}&quot; data-descriptor=&quot;{%: $.$descriptor %}&quot;&gt;', '&lt;div class=&quot;item&quot;&gt;', '{%! $$.relatedItemTemplate %}', '&lt;/div&gt;', '&lt;/div&gt;']),
    relatedItemIconTemplate: new Simplate(['&lt;img src=&quot;{%: $$.itemIcon %}&quot; /&gt;']),
    relatedItemHeaderTemplate: new Simplate(['&lt;div&gt;{%: $.$descriptor %}&lt;/div&gt;']),
    relatedItemDetailTemplate: new Simplate(['&lt;div&gt;&lt;/div&gt;']),
    relatedItemFooterTemplate: new Simplate(['&lt;div&gt;&lt;/div&gt;']),
    relatedItemTemplate: new Simplate(['&lt;div class=&quot;item-icon&quot;&gt;', '{%! $$.relatedItemIconTemplate %}', '&lt;/div&gt;', '&lt;div class=&quot;item-header&quot;&gt;', '{%! $$.relatedItemHeaderTemplate %}', '&lt;/div&gt;', '&lt;div class=&quot;item-detail&quot;&gt;', '{%! $$.relatedItemDetailTemplate %}', '&lt;/div&gt;', '&lt;div class=&quot;item-footer&quot;&gt;', '{%! $$.relatedItemFooterTemplate %}', '&lt;/div&gt;']),
    loadingTemplate: new Simplate(['&lt;div class=&quot;busyIndicator__container busyIndicator--active&quot; aria-live=&quot;polite&quot;&gt;', '&lt;div class=&quot;busyIndicator busyIndicator--large&quot;&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--large busyIndicator__bar--one&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--large busyIndicator__bar--two&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--large busyIndicator__bar--three&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--large busyIndicator__bar--four&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--large busyIndicator__bar--five&quot;&gt;&lt;/div&gt;', '&lt;/div&gt;', '&lt;span class=&quot;busyIndicator__label&quot;&gt;{%: $.loadingText %}&lt;/span&gt;', '&lt;/div&gt;']),

    relatedActionTemplate: new Simplate(['&lt;span class=&quot;action-item&quot; data-id=&quot;{%= $.actionIndex %}&quot;&gt;', '&lt;img src=&quot;{%= $.icon %}&quot; alt=&quot;{%= $.label %}&quot; /&gt;', '&lt;/span&gt;']),
    constructor: function constructor(options) {
      _lang['default'].mixin(this, options);
      if (this.titleText) {
        this.title = this.titleText;
      }

      this._subscribes = [];
      this._subscribes.push(_connect['default'].subscribe('/app/refresh', this, this._onAppRefresh));
    },
    postCreate: function postCreate() {
      if (!this.showTab &amp;&amp; this.tabNode) {
        _domClass['default'].toggle(this.tabNode, 'hidden');
      }
      if (this.enableActions) {
        this.createActions(this._createCustomizedLayout(this.createActionLayout(), 'relatedview-actions'));
      }
    },
    createActionLayout: function createActionLayout() {
      return this.actions || (this.actions = [{
        id: 'refresh',
        cls: 'fa fa-refresh fa-2x',
        label: this.refreshViewText,
        action: 'onRefreshView',
        isEnabled: true
      }, {
        id: 'navtoListView',
        label: this.viewContactsActionText,
        cls: 'fa fa-list fa-2x',
        action: 'onNavigateToList',
        isEnabled: true,
        fn: this.onNavigateToList.bind(this)
      }]);
    },
    createActions: function createActions(actions) {
      for (var i = 0; i &lt; actions.length; i++) {
        var action = actions[i];
        var options = {
          actionIndex: i
        };
        _lang['default'].mixin(action, options);
        var actionTemplate = action.template || this.relatedActionTemplate;
        var actionNode = _domConstruct['default'].toDom(actionTemplate.apply(action, action.id));
        (0, _on['default'])(actionNode, 'click', this.onInvokeActionItem.bind(this));
        _domConstruct['default'].place(actionNode, this.actionsNode, 'last');
      }

      this.actions = actions;
    },
    onInvokeActionItem: function onInvokeActionItem(evt) {
      var index = evt.currentTarget.attributes['data-id'].value;
      var action = this.actions[index];
      if (action) {
        if (action.isEnabled) {
          if (action.fn) {
            action.fn.call(action.scope || this, action);
          } else {
            if (typeof this[action.action] === 'function') {
              this[action.action](evt);
            }
          }
        }
      }
      _event['default'].stop(evt);
    },
    getStore: function getStore() {
      var store = new _SDataStore['default']({
        service: App.getService(),
        resourceKind: this.resourceKind,
        contractName: this.contractName,
        scope: this
      });
      return store;
    },
    getQueryOptions: function getQueryOptions() {
      var whereExpression = '';
      if (this.hasOwnProperty('where')) {
        if (typeof this.where === 'function') {
          whereExpression = this.where(this.parentEntry);
        } else {
          whereExpression = this.where;
        }
      }

      var queryOptions = {
        count: this.pageSize || 1,
        start: 0,
        select: this.select || '',
        where: whereExpression,
        sort: this.sort || ''
      };

      return queryOptions;
    },
    fetchData: function fetchData() {
      if (this.startIndex &lt; 1) {
        this.startIndex = 1;
      }
      this.queryOptions.start = this.startIndex - 1;
      var queryResults = this.store.query(null, this.queryOptions);
      this.startIndex = this.startIndex &gt; 0 &amp;&amp; this.pageSize &gt; 0 ? this.startIndex + this.pageSize : 1;
      return queryResults;
    },
    onInit: function onInit() {
      this._isInitLoad = true;
      this.store = this.store || this.getStore();
      this.queryOptions = this.queryOptions || this.getQueryOptions();

      if (this.autoLoad) {
        this.onLoad();
      }
    },
    onLoad: function onLoad() {
      var data = undefined;
      if (this.relatedData) {
        if (typeof this.relatedData === 'function') {
          data = this.relatedData(this.parentEntry);
        } else {
          data = this.relatedData;
        }
        if (data) {
          this.relatedResults = {
            total: data.length
          };
          this.pageSize = data.length;
          this.onApply(data);
        }
      } else if (this.parentCollection) {
        this.relatedResults = {
          total: this.parentEntry[this.parentCollectionProperty].$resources.length
        };
        this.pageSize = this.relatedResults.total;
        this.onApply(this.parentEntry[this.parentCollectionProperty].$resources);
      } else {
        if (!this.loadingNode) {
          this.loadingNode = _domConstruct['default'].toDom(this.loadingTemplate.apply(this));
          _domConstruct['default'].place(this.loadingNode, this.relatedViewNode, 'last', this);
        }
        _domClass['default'].toggle(this.loadingNode, 'loading');
        if (this.wait) {
          return;
        }
        this.relatedResults = this.fetchData();
        (function (context, relatedResults) {
          try {
            (0, _when['default'])(relatedResults, (function success(relatedFeed) {
              this.onApply(relatedFeed);
            }).bind(context));
          } catch (error) {
            console.log('Error fetching related view data:' + error); //eslint-disable-line
          }
        })(this, this.relatedResults);
      }
      this.isLoaded = true;
    },
    onApply: function onApply(relatedFeed) {
      try {
        if (!this.itemsNode) {
          this.itemsNode = _domConstruct['default'].toDom(&quot;&lt;div id='itemsNode' class='items'&gt;&lt;div&gt;&quot;);
          _domConstruct['default'].place(this.itemsNode, this.relatedViewNode, 'last', this);
        }

        if (relatedFeed.length &gt; 0) {
          var moreData = undefined;
          _domClass['default'].remove(this.containerNode, 'hidden');
          _domClass['default'].remove(this.tabNode, 'collapsed');
          this.itemCount = this.itemCount + relatedFeed.length;
          var restCount = this.relatedResults.total - this.itemCount;
          if (restCount &gt; 0) {
            var moreCount = restCount &gt;= this.pageSize ? this.pageSize : restCount;
            moreData = _string['default'].substitute(this.selectMoreDataText, [moreCount, this.relatedResults.total]);
          } else {
            moreData = '';
          }

          if (this.showSelectMore) {
            _domAttr['default'].set(this.selectMoreNode, {
              innerHTML: moreData
            });
          } else {
            _domAttr['default'].set(this.selectMoreNode, {
              innerHTML: ''
            });
          }

          if (this.showTotalInTab) {
            _domAttr['default'].set(this.titleNode, {
              innerHTML: this.title + '  ' + _string['default'].substitute(this.totalCountText, [this.relatedResults.total])
            });
          }
          for (var i = 0; i &lt; relatedFeed.length; i++) {
            var itemEntry = relatedFeed[i];
            itemEntry.$descriptor = itemEntry.$descriptor || relatedFeed.$descriptor;
            var itemHTML = this.relatedViewRowTemplate.apply(itemEntry, this);
            var itemNode = _domConstruct['default'].toDom(itemHTML);
            (0, _on['default'])(itemNode, 'click', this.onSelectViewRow.bind(this));
            _domConstruct['default'].place(itemNode, this.itemsNode, 'last', this);
          }
        } else {
          if (this.hideWhenNoData) {
            _domClass['default'].add(this.containerNode, 'hidden');
          } else {
            _domClass['default'].remove(this.containerNode, 'hidden');
          }
          _domConstruct['default'].place(this.nodataTemplate.apply(this.parentEntry, this), this.itemsNode, 'last');
          if (this.showTotalInTab) {
            _domAttr['default'].set(this.titleNode, {
              innerHTML: this.title + '  ' + _string['default'].substitute(this.totalCountText, [0, 0])
            });
          }
          _domAttr['default'].set(this.selectMoreNode, {
            innerHTML: ''
          });
          if (this._isInitLoad) {
            this._isInitLoad = false;
            _domClass['default'].toggle(this.tabNode, 'collapsed');
          }
        }
        _domClass['default'].toggle(this.loadingNode, 'loading');
      } catch (error) {
        console.log('Error applying data for related view widget:' + error); //eslint-disable-line
      }
    },
    toggleView: function toggleView(evt) {
      _domClass['default'].toggle(this.tabNode, 'collapsed');

      if (!this.isLoaded) {
        this.onLoad();
      }
      evt.stopPropagation();
    },
    onSelectViewRow: function onSelectViewRow(evt) {
      var relatedKey = evt.currentTarget.attributes['data-relatedkey'].value;
      var descriptor = evt.currentTarget.attributes['data-descriptor'].value;

      var options = {
        descriptor: descriptor,
        key: relatedKey,
        title: descriptor
      };

      var view = App.getView(this.detailViewId);
      if (view) {
        view.show(options);
      }
      evt.stopPropagation();
    },
    onNavigateToList: function onNavigateToList(evt) {
      var whereExpression = undefined;
      if (this.hasOwnProperty('listViewWhere')) {
        if (typeof this.listViewWhere === 'function') {
          whereExpression = this.listViewWhere(this.parentEntry);
        } else {
          whereExpression = this.listViewWhere;
        }
      } else {
        if (this.hasOwnProperty('where')) {
          if (typeof this.where === 'function') {
            whereExpression = this.where(this.parentEntry);
          } else {
            whereExpression = this.where;
          }
        }
      }

      var options = {
        descriptor: this.title,
        where: whereExpression,
        title: this.title
      };

      var view = App.getView(this.listViewId);
      if (view) {
        view.show(options);
      }
      evt.stopPropagation();
    },
    onSelectMoreData: function onSelectMoreData(evt) {
      this.onLoad();
      evt.stopPropagation();
    },
    onRefreshView: function onRefreshView(evt) {
      this._onRefreshView();
      evt.stopPropagation();
    },
    _onRefreshView: function _onRefreshView() {
      if (this.itemsNode) {
        _domConstruct['default'].destroy(this.itemsNode);
        this.itemsNode = null;
      }
      this.startIndex = 1;
      this.itemCount = 0;
      this.isLoaded = false;
      this.onLoad();
    },
    _onAppRefresh: function _onAppRefresh(data) {
      if (data &amp;&amp; data.data) {
        if (data.resourceKind === this.resourceKind) {
          if (this.parentEntry &amp;&amp; this.parentEntry[this.parentProperty] === data.data[this.relatedProperty]) {
            this._onRefreshView();
          }
        }
      }
    },
    destroy: function destroy() {
      _array['default'].forEach(this._subscribes, function (handle) {
        _connect['default'].unsubscribe(handle);
      });
      this.inherited(arguments);
    }
  });

  _lang['default'].setObject('Sage.Platform.Mobile.RelatedViewWidget', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9SZWxhdGVkVmlld1dpZGdldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxNQUFNLFFBQVEsR0FBRyw2QkFBWSxtQkFBbUIsQ0FBQyxDQUFDOztBQUVsRCxNQUFNLE9BQU8sR0FBRyx5QkFBUSx5QkFBeUIsRUFBRSwrRkFBMkQsRUFBRTtBQUM5RyxPQUFHLEVBQUUscUJBQXFCO0FBQzFCLGNBQVUsRUFBRSxRQUFRLENBQUMsVUFBVTtBQUMvQixzQkFBa0IsRUFBRSxRQUFRLENBQUMsa0JBQWtCO0FBQy9DLHVCQUFtQixFQUFFLFFBQVEsQ0FBQyxtQkFBbUI7QUFDakQsaUJBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtBQUNyQyxlQUFXLEVBQUUsUUFBUSxDQUFDLFdBQVc7QUFDakMsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTtBQUN6QyxtQkFBZSxFQUFFLFFBQVEsQ0FBQyxlQUFlO0FBQ3pDLGtCQUFjLEVBQUUsUUFBUSxDQUFDLGNBQWM7QUFDdkMsYUFBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTO0FBQzdCLGtCQUFjLEVBQUUsTUFBTTtBQUN0QixlQUFXLEVBQUUsSUFBSTtBQUNqQixtQkFBZSxFQUFFLE1BQU07QUFDdkIsZ0JBQVksRUFBRSxJQUFJO0FBQ2xCLGFBQVMsRUFBRSxJQUFJO0FBQ2YsZUFBVyxFQUFFLElBQUk7QUFDakIsTUFBRSxFQUFFLGNBQWM7QUFDbEIsZ0JBQVksRUFBRSxJQUFJO0FBQ2xCLGNBQVUsRUFBRSxJQUFJO0FBQ2hCLGlCQUFhLEVBQUUsSUFBSTtBQUNuQixXQUFPLEVBQUUsS0FBSztBQUNkLG9CQUFnQixFQUFFLEtBQUs7QUFDdkIsNEJBQXdCLEVBQUUsSUFBSTtBQUM5QixnQkFBWSxFQUFFLElBQUk7QUFDbEIsZ0JBQVksRUFBRSxJQUFJO0FBQ2xCLFVBQU0sRUFBRSxJQUFJO0FBQ1osU0FBSyxFQUFFLElBQUk7QUFDWCxRQUFJLEVB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QUFPLEdBQUc7QUFDMUIsd0JBQU0sT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsVUFBQyxNQUFNLEVBQUs7QUFDMUMsNEJBQVEsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQzdCLENBQUMsQ0FBQztBQUNILFVBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7S0FDM0I7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLHdDQUF3QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUNuRCxPQUFPIiwiZmlsZSI6InNyYy9SZWxhdGVkVmlld1dpZGdldC5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBzZWUgY29weXJpZ2h0IGZpbGVcclxuICovXHJcbmltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBldmVudCBmcm9tICdkb2pvL19iYXNlL2V2ZW50JztcclxuaW1wb3J0IG9uIGZyb20gJ2Rvam8vb24nO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IGRvbUNsYXNzIGZyb20gJ2Rvam8vZG9tLWNsYXNzJztcclxuaW1wb3J0IHdoZW4gZnJvbSAnZG9qby93aGVuJztcclxuaW1wb3J0IGRvbUNvbnN0cnVjdCBmcm9tICdkb2pvL2RvbS1jb25zdHJ1Y3QnO1xyXG5pbXBvcnQgZG9tQXR0ciBmcm9tICdkb2pvL2RvbS1hdHRyJztcclxuaW1wb3J0IGNvbm5lY3QgZnJvbSAnZG9qby9fYmFzZS9jb25uZWN0JztcclxuaW1wb3J0IGFycmF5IGZyb20gJ2Rvam8vX2Jhc2UvYXJyYXknO1xyXG5pbXBvcnQgU0RhdGFTdG9yZSBmcm9tICcuL1N0b3JlL1NEYXRhJztcclxuaW1wb3J0IF9DdXN0b21pemF0aW9uTWl4aW4gZnJvbSAnLi9fQ3VzdG9taXphdGlvbk1peGluJztcclxuaW1wb3J0IF9BY3Rpb25NaXhpbiBmcm9tICcuL19BY3Rpb25NaXhpbic7XHJcbmltcG9ydCBfUmVsYXRlZFZpZXdXaWRnZXRCYXNlIGZyb20gJ2FyZ29zL19SZWxhdGVkVmlld1dpZGdldEJhc2UnO1xyXG5pbXBvcnQgZ2V0UmVzb3VyY2UgZnJvbSAnLi9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3JlbGF0ZWRWaWV3V2lkZ2V0Jyk7XHJcblxyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnYXJnb3MuUmVsYXRlZFZpZXdXaWRnZXQnLCBbX1JlbGF0ZWRWaWV3V2lkZ2V0QmFzZSwgX0N1c3RvbWl6YXRpb25NaXhpbiwgX0FjdGlvbk1peGluXSwge1xyXG4gIGNsczogJ3JlbGF0ZWQtdmlldy13aWRnZXQnLFxyXG4gIG5vZGF0YVRleHQ6IHJlc291cmNlLm5vZGF0YVRleHQsXHJcbiAgc2VsZWN0TW9yZURhdGFUZXh0OiByZXNvdXJjZS5zZWxlY3RNb3JlRGF0YVRleHQsXHJcbiAgc2VsZWN0TW9yZURhdGFUZXh0MjogcmVzb3VyY2Uuc2VsZWN0TW9yZURhdGFUZXh0MixcclxuICBuYXZUb0xpc3RUZXh0OiByZXNvdXJjZS5uYXZUb0xpc3RUZXh0LFxyXG4gIGxvYWRpbmdUZXh0OiByZXNvdXJjZS5sb2FkaW5nVGV4dCxcclxuICByZWZyZXNoVmlld1RleHQ6IHJlc291cmNlLnJlZnJlc2hWaWV3VGV4dCxcclxuICBpdGVtT2ZDb3VudFRleHQ6IHJlc291cmNlLml0ZW1PZkNvdW50VGV4dCxcclxuICB0b3RhbENvdW50VGV4dDogcmVzb3VyY2UudG90YWxDb3VudFRleHQsXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgcGFyZW50UHJvcGVydHk6ICcka2V5JyxcclxuICBwYXJlbnRFbnRyeTogbnVsbCxcclxuICByZWxhdGVkUHJvcGVydHk6ICcka2V5JyxcclxuICByZWxhdGVkRW50cnk6IG51bGwsXHJcbiAgaXRlbXNOb2RlOiBudWxsLFxyXG4gIGxvYWRpbmdOb2RlOiBudWxsLFxyXG4gIGlkOiAncmVsYXRlZC12aWV3JyxcclxuICBkZXRhaWxWaWV3SWQ6IG51bGwsXHJcbiAgbGlzdFZpZXdJZDogbnVsbCxcclxuICBsaXN0Vmlld1doZXJlOiBudWxsLFxyXG4gIGVuYWJsZWQ6IGZhbHNlLFxyXG4gIHBhcmVudENvbGxlY3Rpb246IGZhbHNlLFxyXG4gIHBhcmVudENvbGxlY3Rpb25Qcm9wZXJ0eTogbnVsbCxcclxuICByZXNvdXJjZUtpbmQ6IG51bGwsXHJcbiAgY29udHJhY3ROYW1lOiBudWxsLFxyXG4gIHNlbGVjdDogbnVsbCxcclxuICB3aGVyZTogbnVsbCxcclxuICBzb3J0OiBudWxsLFxyXG4gIHN0b3JlOiBudWxsLFxyXG4gIHJlbGF0ZWREYXRhOiBudWxsLFxyXG4gIHF1ZXJ5T3B0aW9uczogbnVsbCxcclxuICBpc0xvYWRlZDogZmFsc2UsXHJcbiAgYXV0b0xvYWQ6IGZhbHNlLFxyXG4gIHdhaXQ6IGZhbHNlLFxyXG4gIHN0YXJ0SW5kZXg6IDEsXHJcbiAgcGFnZVNpemU6IDMsXHJcbiAgcmVsYXRlZFJlc3VsdHM6IG51bGwsXHJcbiAgaXRlbUNvdW50OiAwLFxyXG4gIF9pc0luaXRMb2FkOiB0cnVlLFxyXG4gIHNob3dUYWI6IHRydWUsXHJcbiAgc2hvd1RvdGFsSW5UYWI6IHRydWUsXHJcbiAgc2hvd1NlbGVjdE1vcmU6IGZhbHNlLFxyXG4gIGhpZGVXaGVuTm9EYXRhOiBmYWxzZSxcclxuICBlbmFibGVBY3Rpb25zOiB0cnVlLFxyXG4gIF9zdWJzY3JpYmVzOiBudWxsLFxyXG4gIC8qKlxyXG4gICAqIEBwcm9wZXJ0eSB7U2ltcGxhdGV9XHJcbiAgICogU2ltcGxlIHRoYXQgZGVmaW5lcyB0aGUgSFRNTCBNYXJrdXBcclxuICAgKi9cclxuICByZWxhdGVkQ29udGVudFRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgIGlkPVwidGFiXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInRhYk5vZGVcIiBjbGFzcz1cIicsXHJcbiAgICAneyUgaWYgKCQuYXV0b0xvYWQpIHsgJX0nLFxyXG4gICAgJ3RhYiAnLFxyXG4gICAgJ3slIH0gZWxzZSB7ICV9JyxcclxuICAgICd0YWIgY29sbGFwc2VkICcsXHJcbiAgICAneyUgfSAlfScsXHJcbiAgICAnXCIgPicsXHJcbiAgICAnPGRpdiBjbGFzcz1cInRhYi1pdGVtc1wiPicsXHJcbiAgICAneyUhICQkLnJlbGF0ZWRWaWV3VGFiSXRlbXNUZW1wbGF0ZSAlfScsXHJcbiAgICAnPC9kaXY+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJwYW5lbFwiPicsXHJcbiAgICAnPGRpdiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiYWN0aW9uc05vZGVcIiBjbGFzcz1cImFjdGlvbi1pdGVtc1wiPjwvZGl2PicsXHJcbiAgICAnPGRpdiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiaGVhZGVyZU5vZGVcIiBjbGFzcz1cImhlYWRlclwiPicsXHJcbiAgICAneyUhICQkLnJlbGF0ZWRWaWV3SGVhZGVyVGVtcGxhdGUgJX0nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgICAnPGRpdiAgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInJlbGF0ZWRWaWV3Tm9kZVwiPjwvZGl2PicsXHJcbiAgICAnPGRpdiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiZm9vdGVyTm9kZVwiIGNsYXNzPVwiZm9vdGVyXCI+JyxcclxuICAgICd7JSEgJCQucmVsYXRlZFZpZXdGb290ZXJUZW1wbGF0ZSAlfScsXHJcbiAgICAnPC9kaXY+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIG5vZGF0YVRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgY2xhc3M9XCJub2RhdGFcIj4geyU6ICQkLm5vZGF0YVRleHQgJX08L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIHJlbGF0ZWRWaWV3VGFiSXRlbXNUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8c3BhbiBjbGFzcz1cInRhYi1pdGVtXCI+JyxcclxuICAgICc8ZGl2IGNsYXNzPVwidGFiLWljb25cIiBkYXRhLWRvam8tYXR0YWNoLWV2ZW50PVwib25jbGljazpvbk5hdmlnYXRlVG9MaXN0XCI+JyxcclxuICAgICc8aW1nIHNyYz1cInslPSAkLmljb24gJX1cIiBhbHQ9XCJ7JT0gJC50aXRsZSAlfVwiIC8+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInRpdGxlTm9kZVwiIGRhdGEtZG9qby1hdHRhY2gtZXZlbnQ9XCJvbmNsaWNrOnRvZ2dsZVZpZXdcIiAgY2xhc3M9XCJ0aXRsZVwiID57JTogKCQudGl0bGUgKSAlfSA8L2Rpdj4nLFxyXG4gICAgJzwvc3Bhbj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJsaW5lLWJhclwiPjwvZGl2PicsXHJcbiAgXSksXHJcbiAgcmVsYXRlZFZpZXdIZWFkZXJUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICcnLFxyXG4gIF0pLFxyXG4gIHJlbGF0ZWRWaWV3Rm9vdGVyVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiAgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInNlbGVjdE1vcmVOb2RlXCIgY2xhc3M9XCJhY3Rpb25cIiBkYXRhLWRvam8tYXR0YWNoLWV2ZW50PVwib25jbGljazpvblNlbGVjdE1vcmVEYXRhXCI+PC9kaXY+JyxcclxuICAgICc8ZGl2ICBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwibmF2dG9MaXN0Rm9vdGVyTm9kZVwiIGNsYXNzPVwiYWN0aW9uXCIgZGF0YS1kb2pvLWF0dGFjaC1ldmVudD1cIm9uY2xpY2s6b25OYXZpZ2F0ZVRvTGlzdFwiPnslOiAkJC5uYXZUb0xpc3RUZXh0ICV9PC9kaXY+JyxcclxuXHJcbiAgXSksXHJcbiAgcmVsYXRlZFZpZXdSb3dUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8ZGl2IGNsYXNzPVwicm93IHslOiAkJC5jbHMgJX1cIiAgZGF0YS1yZWxhdGVka2V5PVwieyU6ICQuJGtleSAlfVwiIGRhdGEtZGVzY3JpcHRvcj1cInslOiAkLiRkZXNjcmlwdG9yICV9XCI+JyxcclxuICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicsXHJcbiAgICAneyUhICQkLnJlbGF0ZWRJdGVtVGVtcGxhdGUgJX0nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgICAnPC9kaXY+JyxcclxuICBdKSxcclxuICByZWxhdGVkSXRlbUljb25UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8aW1nIHNyYz1cInslOiAkJC5pdGVtSWNvbiAlfVwiIC8+JyxcclxuICBdKSxcclxuICByZWxhdGVkSXRlbUhlYWRlclRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXY+eyU6ICQuJGRlc2NyaXB0b3IgJX08L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIHJlbGF0ZWRJdGVtRGV0YWlsVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdj48L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIHJlbGF0ZWRJdGVtRm9vdGVyVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdj48L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIHJlbGF0ZWRJdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBjbGFzcz1cIml0ZW0taWNvblwiPicsXHJcbiAgICAneyUhICQkLnJlbGF0ZWRJdGVtSWNvblRlbXBsYXRlICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJpdGVtLWhlYWRlclwiPicsXHJcbiAgICAneyUhICQkLnJlbGF0ZWRJdGVtSGVhZGVyVGVtcGxhdGUgJX0nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgICAnPGRpdiBjbGFzcz1cIml0ZW0tZGV0YWlsXCI+JyxcclxuICAgICd7JSEgJCQucmVsYXRlZEl0ZW1EZXRhaWxUZW1wbGF0ZSAlfScsXHJcbiAgICAnPC9kaXY+JyxcclxuICAgICc8ZGl2IGNsYXNzPVwiaXRlbS1mb290ZXJcIj4nLFxyXG4gICAgJ3slISAkJC5yZWxhdGVkSXRlbUZvb3RlclRlbXBsYXRlICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIGxvYWRpbmdUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8ZGl2IGNsYXNzPVwiYnVzeUluZGljYXRvcl9fY29udGFpbmVyIGJ1c3lJbmRpY2F0b3ItLWFjdGl2ZVwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPicsXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiYnVzeUluZGljYXRvciBidXN5SW5kaWNhdG9yLS1sYXJnZVwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19iYXIgYnVzeUluZGljYXRvcl9fYmFyLS1sYXJnZSBidXN5SW5kaWNhdG9yX19iYXItLW9uZVwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19iYXIgYnVzeUluZGljYXRvcl9fYmFyLS1sYXJnZSBidXN5SW5kaWNhdG9yX19iYXItLXR3b1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19iYXIgYnVzeUluZGljYXRvcl9fYmFyLS1sYXJnZSBidXN5SW5kaWNhdG9yX19iYXItLXRocmVlXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX2JhciBidXN5SW5kaWNhdG9yX19iYXItLWxhcmdlIGJ1c3lJbmRpY2F0b3JfX2Jhci0tZm91clwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19iYXIgYnVzeUluZGljYXRvcl9fYmFyLS1sYXJnZSBidXN5SW5kaWNhdG9yX19iYXItLWZpdmVcIj48L2Rpdj4nLFxyXG4gICAgICAnPC9kaXY+JyxcclxuICAgICAgJzxzcGFuIGNsYXNzPVwiYnVzeUluZGljYXRvcl9fbGFiZWxcIj57JTogJC5sb2FkaW5nVGV4dCAlfTwvc3Bhbj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXSksXHJcblxyXG4gIHJlbGF0ZWRBY3Rpb25UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8c3BhbiBjbGFzcz1cImFjdGlvbi1pdGVtXCIgZGF0YS1pZD1cInslPSAkLmFjdGlvbkluZGV4ICV9XCI+JyxcclxuICAgICc8aW1nIHNyYz1cInslPSAkLmljb24gJX1cIiBhbHQ9XCJ7JT0gJC5sYWJlbCAlfVwiIC8+JyxcclxuICAgICc8L3NwYW4+JyxcclxuICBdKSxcclxuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgbGFuZy5taXhpbih0aGlzLCBvcHRpb25zKTtcclxuICAgIGlmICh0aGlzLnRpdGxlVGV4dCkge1xyXG4gICAgICB0aGlzLnRpdGxlID0gdGhpcy50aXRsZVRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3Vic2NyaWJlcyA9IFtdO1xyXG4gICAgdGhpcy5fc3Vic2NyaWJlcy5wdXNoKGNvbm5lY3Quc3Vic2NyaWJlKCcvYXBwL3JlZnJlc2gnLCB0aGlzLCB0aGlzLl9vbkFwcFJlZnJlc2gpKTtcclxuICB9LFxyXG4gIHBvc3RDcmVhdGU6IGZ1bmN0aW9uIHBvc3RDcmVhdGUoKSB7XHJcbiAgICBpZiAoKCF0aGlzLnNob3dUYWIpICYmICh0aGlzLnRhYk5vZGUpKSB7XHJcbiAgICAgIGRvbUNsYXNzLnRvZ2dsZSh0aGlzLnRhYk5vZGUsICdoaWRkZW4nKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmVuYWJsZUFjdGlvbnMpIHtcclxuICAgICAgdGhpcy5jcmVhdGVBY3Rpb25zKHRoaXMuX2NyZWF0ZUN1c3RvbWl6ZWRMYXlvdXQodGhpcy5jcmVhdGVBY3Rpb25MYXlvdXQoKSwgJ3JlbGF0ZWR2aWV3LWFjdGlvbnMnKSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjcmVhdGVBY3Rpb25MYXlvdXQ6IGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbkxheW91dCgpIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGlvbnMgfHwgKHRoaXMuYWN0aW9ucyA9IFt7XHJcbiAgICAgIGlkOiAncmVmcmVzaCcsXHJcbiAgICAgIGNsczogJ2ZhIGZhLXJlZnJlc2ggZmEtMngnLFxyXG4gICAgICBsYWJlbDogdGhpcy5yZWZyZXNoVmlld1RleHQsXHJcbiAgICAgIGFjdGlvbjogJ29uUmVmcmVzaFZpZXcnLFxyXG4gICAgICBpc0VuYWJsZWQ6IHRydWUsXHJcbiAgICB9LCB7XHJcbiAgICAgIGlkOiAnbmF2dG9MaXN0VmlldycsXHJcbiAgICAgIGxhYmVsOiB0aGlzLnZpZXdDb250YWN0c0FjdGlvblRleHQsXHJcbiAgICAgIGNsczogJ2ZhIGZhLWxpc3QgZmEtMngnLFxyXG4gICAgICBhY3Rpb246ICdvbk5hdmlnYXRlVG9MaXN0JyxcclxuICAgICAgaXNFbmFibGVkOiB0cnVlLFxyXG4gICAgICBmbjogdGhpcy5vbk5hdmlnYXRlVG9MaXN0LmJpbmQodGhpcyksXHJcbiAgICB9XSk7XHJcbiAgfSxcclxuICBjcmVhdGVBY3Rpb25zOiBmdW5jdGlvbiBjcmVhdGVBY3Rpb25zKGFjdGlvbnMpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2ldO1xyXG4gICAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgIGFjdGlvbkluZGV4OiBpLFxyXG4gICAgICB9O1xyXG4gICAgICBsYW5nLm1peGluKGFjdGlvbiwgb3B0aW9ucyk7XHJcbiAgICAgIGNvbnN0IGFjdGlvblRlbXBsYXRlID0gYWN0aW9uLnRlbXBsYXRlIHx8IHRoaXMucmVsYXRlZEFjdGlvblRlbXBsYXRlO1xyXG4gICAgICBjb25zdCBhY3Rpb25Ob2RlID0gZG9tQ29uc3RydWN0LnRvRG9tKGFjdGlvblRlbXBsYXRlLmFwcGx5KGFjdGlvbiwgYWN0aW9uLmlkKSk7XHJcbiAgICAgIG9uKGFjdGlvbk5vZGUsICdjbGljaycsIHRoaXMub25JbnZva2VBY3Rpb25JdGVtLmJpbmQodGhpcykpO1xyXG4gICAgICBkb21Db25zdHJ1Y3QucGxhY2UoYWN0aW9uTm9kZSwgdGhpcy5hY3Rpb25zTm9kZSwgJ2xhc3QnKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xyXG4gIH0sXHJcbiAgb25JbnZva2VBY3Rpb25JdGVtOiBmdW5jdGlvbiBvbkludm9rZUFjdGlvbkl0ZW0oZXZ0KSB7XHJcbiAgICBjb25zdCBpbmRleCA9IGV2dC5jdXJyZW50VGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtaWQnXS52YWx1ZTtcclxuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuYWN0aW9uc1tpbmRleF07XHJcbiAgICBpZiAoYWN0aW9uKSB7XHJcbiAgICAgIGlmIChhY3Rpb24uaXNFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKGFjdGlvbi5mbikge1xyXG4gICAgICAgICAgYWN0aW9uLmZuLmNhbGwoYWN0aW9uLnNjb3BlIHx8IHRoaXMsIGFjdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1thY3Rpb24uYWN0aW9uXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzW2FjdGlvbi5hY3Rpb25dKGV2dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBldmVudC5zdG9wKGV2dCk7XHJcbiAgfSxcclxuICBnZXRTdG9yZTogZnVuY3Rpb24gZ2V0U3RvcmUoKSB7XHJcbiAgICBjb25zdCBzdG9yZSA9IG5ldyBTRGF0YVN0b3JlKHtcclxuICAgICAgc2VydmljZTogQXBwLmdldFNlcnZpY2UoKSxcclxuICAgICAgcmVzb3VyY2VLaW5kOiB0aGlzLnJlc291cmNlS2luZCxcclxuICAgICAgY29udHJhY3ROYW1lOiB0aGlzLmNvbnRyYWN0TmFtZSxcclxuICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzdG9yZTtcclxuICB9LFxyXG4gIGdldFF1ZXJ5T3B0aW9uczogZnVuY3Rpb24gZ2V0UXVlcnlPcHRpb25zKCkge1xyXG4gICAgbGV0IHdoZXJlRXhwcmVzc2lvbiA9ICcnO1xyXG4gICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ3doZXJlJykpIHtcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLndoZXJlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgd2hlcmVFeHByZXNzaW9uID0gdGhpcy53aGVyZSh0aGlzLnBhcmVudEVudHJ5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aGVyZUV4cHJlc3Npb24gPSB0aGlzLndoZXJlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcXVlcnlPcHRpb25zID0ge1xyXG4gICAgICBjb3VudDogdGhpcy5wYWdlU2l6ZSB8fCAxLFxyXG4gICAgICBzdGFydDogMCxcclxuICAgICAgc2VsZWN0OiB0aGlzLnNlbGVjdCB8fCAnJyxcclxuICAgICAgd2hlcmU6IHdoZXJlRXhwcmVzc2lvbixcclxuICAgICAgc29ydDogdGhpcy5zb3J0IHx8ICcnLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcXVlcnlPcHRpb25zO1xyXG4gIH0sXHJcbiAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XHJcbiAgICBpZiAodGhpcy5zdGFydEluZGV4IDwgMSkge1xyXG4gICAgICB0aGlzLnN0YXJ0SW5kZXggPSAxO1xyXG4gICAgfVxyXG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuc3RhcnQgPSB0aGlzLnN0YXJ0SW5kZXggLSAxO1xyXG4gICAgY29uc3QgcXVlcnlSZXN1bHRzID0gdGhpcy5zdG9yZS5xdWVyeShudWxsLCB0aGlzLnF1ZXJ5T3B0aW9ucyk7XHJcbiAgICB0aGlzLnN0YXJ0SW5kZXggPSB0aGlzLnN0YXJ0SW5kZXggPiAwICYmIHRoaXMucGFnZVNpemUgPiAwID8gdGhpcy5zdGFydEluZGV4ICsgdGhpcy5wYWdlU2l6ZSA6IDE7XHJcbiAgICByZXR1cm4gcXVlcnlSZXN1bHRzO1xyXG4gIH0sXHJcbiAgb25Jbml0OiBmdW5jdGlvbiBvbkluaXQoKSB7XHJcbiAgICB0aGlzLl9pc0luaXRMb2FkID0gdHJ1ZTtcclxuICAgIHRoaXMuc3RvcmUgPSB0aGlzLnN0b3JlIHx8IHRoaXMuZ2V0U3RvcmUoKTtcclxuICAgIHRoaXMucXVlcnlPcHRpb25zID0gdGhpcy5xdWVyeU9wdGlvbnMgfHwgdGhpcy5nZXRRdWVyeU9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5hdXRvTG9hZCkge1xyXG4gICAgICB0aGlzLm9uTG9hZCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQoKSB7XHJcbiAgICBsZXQgZGF0YTtcclxuICAgIGlmICh0aGlzLnJlbGF0ZWREYXRhKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5yZWxhdGVkRGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGRhdGEgPSB0aGlzLnJlbGF0ZWREYXRhKHRoaXMucGFyZW50RW50cnkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGEgPSB0aGlzLnJlbGF0ZWREYXRhO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5yZWxhdGVkUmVzdWx0cyA9IHtcclxuICAgICAgICAgIHRvdGFsOiBkYXRhLmxlbmd0aCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGFnZVNpemUgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICB0aGlzLm9uQXBwbHkoZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICAgIHRoaXMucmVsYXRlZFJlc3VsdHMgPSB7XHJcbiAgICAgICAgdG90YWw6IHRoaXMucGFyZW50RW50cnlbdGhpcy5wYXJlbnRDb2xsZWN0aW9uUHJvcGVydHldLiRyZXNvdXJjZXMubGVuZ3RoLFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy5yZWxhdGVkUmVzdWx0cy50b3RhbDtcclxuICAgICAgdGhpcy5vbkFwcGx5KHRoaXMucGFyZW50RW50cnlbdGhpcy5wYXJlbnRDb2xsZWN0aW9uUHJvcGVydHldLiRyZXNvdXJjZXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCF0aGlzLmxvYWRpbmdOb2RlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZSA9IGRvbUNvbnN0cnVjdC50b0RvbSh0aGlzLmxvYWRpbmdUZW1wbGF0ZS5hcHBseSh0aGlzKSk7XHJcbiAgICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMubG9hZGluZ05vZGUsIHRoaXMucmVsYXRlZFZpZXdOb2RlLCAnbGFzdCcsIHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICAgIGRvbUNsYXNzLnRvZ2dsZSh0aGlzLmxvYWRpbmdOb2RlLCAnbG9hZGluZycpO1xyXG4gICAgICBpZiAodGhpcy53YWl0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucmVsYXRlZFJlc3VsdHMgPSB0aGlzLmZldGNoRGF0YSgpO1xyXG4gICAgICAoKGNvbnRleHQsIHJlbGF0ZWRSZXN1bHRzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHdoZW4ocmVsYXRlZFJlc3VsdHMsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVsYXRlZEZlZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkFwcGx5KHJlbGF0ZWRGZWVkKTtcclxuICAgICAgICAgIH0uYmluZChjb250ZXh0KSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBmZXRjaGluZyByZWxhdGVkIHZpZXcgZGF0YTonICsgZXJyb3IpOy8vZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkodGhpcywgdGhpcy5yZWxhdGVkUmVzdWx0cyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICB9LFxyXG4gIG9uQXBwbHk6IGZ1bmN0aW9uIG9uQXBwbHkocmVsYXRlZEZlZWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghdGhpcy5pdGVtc05vZGUpIHtcclxuICAgICAgICB0aGlzLml0ZW1zTm9kZSA9IGRvbUNvbnN0cnVjdC50b0RvbShcIjxkaXYgaWQ9J2l0ZW1zTm9kZScgY2xhc3M9J2l0ZW1zJz48ZGl2PlwiKTtcclxuICAgICAgICBkb21Db25zdHJ1Y3QucGxhY2UodGhpcy5pdGVtc05vZGUsIHRoaXMucmVsYXRlZFZpZXdOb2RlLCAnbGFzdCcsIHRoaXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVsYXRlZEZlZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCBtb3JlRGF0YTtcclxuICAgICAgICBkb21DbGFzcy5yZW1vdmUodGhpcy5jb250YWluZXJOb2RlLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgZG9tQ2xhc3MucmVtb3ZlKHRoaXMudGFiTm9kZSwgJ2NvbGxhcHNlZCcpO1xyXG4gICAgICAgIHRoaXMuaXRlbUNvdW50ID0gdGhpcy5pdGVtQ291bnQgKyByZWxhdGVkRmVlZC5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgcmVzdENvdW50ID0gdGhpcy5yZWxhdGVkUmVzdWx0cy50b3RhbCAtIHRoaXMuaXRlbUNvdW50O1xyXG4gICAgICAgIGlmIChyZXN0Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBtb3JlQ291bnQgPSAocmVzdENvdW50ID49IHRoaXMucGFnZVNpemUpID8gdGhpcy5wYWdlU2l6ZSA6IHJlc3RDb3VudDtcclxuICAgICAgICAgIG1vcmVEYXRhID0gc3RyaW5nLnN1YnN0aXR1dGUodGhpcy5zZWxlY3RNb3JlRGF0YVRleHQsIFttb3JlQ291bnQsIHRoaXMucmVsYXRlZFJlc3VsdHMudG90YWxdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9yZURhdGEgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNob3dTZWxlY3RNb3JlKSB7XHJcbiAgICAgICAgICBkb21BdHRyLnNldCh0aGlzLnNlbGVjdE1vcmVOb2RlLCB7XHJcbiAgICAgICAgICAgIGlubmVySFRNTDogbW9yZURhdGEsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZG9tQXR0ci5zZXQodGhpcy5zZWxlY3RNb3JlTm9kZSwge1xyXG4gICAgICAgICAgICBpbm5lckhUTUw6ICcnLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zaG93VG90YWxJblRhYikge1xyXG4gICAgICAgICAgZG9tQXR0ci5zZXQodGhpcy50aXRsZU5vZGUsIHtcclxuICAgICAgICAgICAgaW5uZXJIVE1MOiB0aGlzLnRpdGxlICsgJyAgJyArIHN0cmluZy5zdWJzdGl0dXRlKHRoaXMudG90YWxDb3VudFRleHQsIFt0aGlzLnJlbGF0ZWRSZXN1bHRzLnRvdGFsXSksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWxhdGVkRmVlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgaXRlbUVudHJ5ID0gcmVsYXRlZEZlZWRbaV07XHJcbiAgICAgICAgICBpdGVtRW50cnkuJGRlc2NyaXB0b3IgPSBpdGVtRW50cnkuJGRlc2NyaXB0b3IgfHwgcmVsYXRlZEZlZWQuJGRlc2NyaXB0b3I7XHJcbiAgICAgICAgICBjb25zdCBpdGVtSFRNTCA9IHRoaXMucmVsYXRlZFZpZXdSb3dUZW1wbGF0ZS5hcHBseShpdGVtRW50cnksIHRoaXMpO1xyXG4gICAgICAgICAgY29uc3QgaXRlbU5vZGUgPSBkb21Db25zdHJ1Y3QudG9Eb20oaXRlbUhUTUwpO1xyXG4gICAgICAgICAgb24oaXRlbU5vZGUsICdjbGljaycsIHRoaXMub25TZWxlY3RWaWV3Um93LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKGl0ZW1Ob2RlLCB0aGlzLml0ZW1zTm9kZSwgJ2xhc3QnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGlkZVdoZW5Ob0RhdGEpIHtcclxuICAgICAgICAgIGRvbUNsYXNzLmFkZCh0aGlzLmNvbnRhaW5lck5vZGUsICdoaWRkZW4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZG9tQ2xhc3MucmVtb3ZlKHRoaXMuY29udGFpbmVyTm9kZSwgJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb21Db25zdHJ1Y3QucGxhY2UodGhpcy5ub2RhdGFUZW1wbGF0ZS5hcHBseSh0aGlzLnBhcmVudEVudHJ5LCB0aGlzKSwgdGhpcy5pdGVtc05vZGUsICdsYXN0Jyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd1RvdGFsSW5UYWIpIHtcclxuICAgICAgICAgIGRvbUF0dHIuc2V0KHRoaXMudGl0bGVOb2RlLCB7XHJcbiAgICAgICAgICAgIGlubmVySFRNTDogdGhpcy50aXRsZSArICcgICcgKyBzdHJpbmcuc3Vic3RpdHV0ZSh0aGlzLnRvdGFsQ291bnRUZXh0LCBbMCwgMF0pLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvbUF0dHIuc2V0KHRoaXMuc2VsZWN0TW9yZU5vZGUsIHtcclxuICAgICAgICAgIGlubmVySFRNTDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdExvYWQpIHtcclxuICAgICAgICAgIHRoaXMuX2lzSW5pdExvYWQgPSBmYWxzZTtcclxuICAgICAgICAgIGRvbUNsYXNzLnRvZ2dsZSh0aGlzLnRhYk5vZGUsICdjb2xsYXBzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZG9tQ2xhc3MudG9nZ2xlKHRoaXMubG9hZGluZ05vZGUsICdsb2FkaW5nJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnRXJyb3IgYXBwbHlpbmcgZGF0YSBmb3IgcmVsYXRlZCB2aWV3IHdpZGdldDonICsgZXJyb3IpOy8vZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgdG9nZ2xlVmlldzogZnVuY3Rpb24gdG9nZ2xlVmlldyhldnQpIHtcclxuICAgIGRvbUNsYXNzLnRvZ2dsZSh0aGlzLnRhYk5vZGUsICdjb2xsYXBzZWQnKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNMb2FkZWQpIHtcclxuICAgICAgdGhpcy5vbkxvYWQoKTtcclxuICAgIH1cclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9LFxyXG4gIG9uU2VsZWN0Vmlld1JvdzogZnVuY3Rpb24gb25TZWxlY3RWaWV3Um93KGV2dCkge1xyXG4gICAgY29uc3QgcmVsYXRlZEtleSA9IGV2dC5jdXJyZW50VGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtcmVsYXRlZGtleSddLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRvciA9IGV2dC5jdXJyZW50VGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtZGVzY3JpcHRvciddLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXHJcbiAgICAgIGtleTogcmVsYXRlZEtleSxcclxuICAgICAgdGl0bGU6IGRlc2NyaXB0b3IsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyh0aGlzLmRldGFpbFZpZXdJZCk7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICB2aWV3LnNob3cob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSxcclxuICBvbk5hdmlnYXRlVG9MaXN0OiBmdW5jdGlvbiBvbk5hdmlnYXRlVG9MaXN0KGV2dCkge1xyXG4gICAgbGV0IHdoZXJlRXhwcmVzc2lvbjtcclxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdsaXN0Vmlld1doZXJlJykpIHtcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmxpc3RWaWV3V2hlcmUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB3aGVyZUV4cHJlc3Npb24gPSB0aGlzLmxpc3RWaWV3V2hlcmUodGhpcy5wYXJlbnRFbnRyeSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2hlcmVFeHByZXNzaW9uID0gdGhpcy5saXN0Vmlld1doZXJlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnd2hlcmUnKSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy53aGVyZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgd2hlcmVFeHByZXNzaW9uID0gdGhpcy53aGVyZSh0aGlzLnBhcmVudEVudHJ5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2hlcmVFeHByZXNzaW9uID0gdGhpcy53aGVyZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICBkZXNjcmlwdG9yOiB0aGlzLnRpdGxlLFxyXG4gICAgICB3aGVyZTogd2hlcmVFeHByZXNzaW9uLFxyXG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHRoaXMubGlzdFZpZXdJZCk7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICB2aWV3LnNob3cob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSxcclxuICBvblNlbGVjdE1vcmVEYXRhOiBmdW5jdGlvbiBvblNlbGVjdE1vcmVEYXRhKGV2dCkge1xyXG4gICAgdGhpcy5vbkxvYWQoKTtcclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9LFxyXG4gIG9uUmVmcmVzaFZpZXc6IGZ1bmN0aW9uIG9uUmVmcmVzaFZpZXcoZXZ0KSB7XHJcbiAgICB0aGlzLl9vblJlZnJlc2hWaWV3KCk7XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSxcclxuICBfb25SZWZyZXNoVmlldzogZnVuY3Rpb24gX29uUmVmcmVzaFZpZXcoKSB7XHJcbiAgICBpZiAodGhpcy5pdGVtc05vZGUpIHtcclxuICAgICAgZG9tQ29uc3RydWN0LmRlc3Ryb3kodGhpcy5pdGVtc05vZGUpO1xyXG4gICAgICB0aGlzLml0ZW1zTm9kZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXJ0SW5kZXggPSAxO1xyXG4gICAgdGhpcy5pdGVtQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5vbkxvYWQoKTtcclxuICB9LFxyXG4gIF9vbkFwcFJlZnJlc2g6IGZ1bmN0aW9uIF9vbkFwcFJlZnJlc2goZGF0YSkge1xyXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5kYXRhKSB7XHJcbiAgICAgIGlmIChkYXRhLnJlc291cmNlS2luZCA9PT0gdGhpcy5yZXNvdXJjZUtpbmQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnRFbnRyeSAmJiAodGhpcy5wYXJlbnRFbnRyeVt0aGlzLnBhcmVudFByb3BlcnR5XSA9PT0gZGF0YS5kYXRhW3RoaXMucmVsYXRlZFByb3BlcnR5XSkpIHtcclxuICAgICAgICAgIHRoaXMuX29uUmVmcmVzaFZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICBhcnJheS5mb3JFYWNoKHRoaXMuX3N1YnNjcmliZXMsIChoYW5kbGUpID0+IHtcclxuICAgICAgY29ubmVjdC51bnN1YnNjcmliZShoYW5kbGUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ1NhZ2UuUGxhdGZvcm0uTW9iaWxlLlJlbGF0ZWRWaWV3V2lkZ2V0JywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
