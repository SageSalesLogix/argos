<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Integrations/BOE/Views/Quotes/Detail', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'crm/Format', 'argos/Detail', 'argos/Dialogs/BusyIndicator', '../../Models/Names', 'argos/I18n', '../../PricingAvailabilityService', '../../Promote', '../../Utility'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _crmFormat, _argosDetail, _argosDialogsBusyIndicator, _ModelsNames, _argosI18n, _PricingAvailabilityService, _Promote, _Utility) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _format = _interopRequireDefault(_crmFormat);

  var _Detail = _interopRequireDefault(_argosDetail);

  var _BusyIndicator = _interopRequireDefault(_argosDialogsBusyIndicator);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var _getResource = _interopRequireDefault(_argosI18n);

  var _PricingAvailabilityService2 = _interopRequireDefault(_PricingAvailabilityService);

  var _Promote2 = _interopRequireDefault(_Promote);

  var _utility = _interopRequireDefault(_Utility);

  var resource = (0, _getResource['default'])('quoteDetail');

  var __class = (0, _declare['default'])('crm.Integrations.BOE.Views.Quotes.Detail', [_Detail['default']], {
    // View Properties
    id: 'quote_detail',
    editView: 'quote_edit',

    titleText: resource.titleText,
    actionsText: resource.actionsText,
    relatedItemsText: resource.relatedItemsText,
    moreDetailsText: resource.moreDetailsText,
    quoteNumberText: resource.quoteNumberText,
    accountText: resource.accountText,
    commentsText: resource.commentsText,
    opportunityText: resource.opportunityText,
    dateCreatedText: resource.dateCreatedText,
    orderIdText: resource.orderIdText,
    statusText: resource.statusText,
    subTotalText: resource.subTotalText,
    grandTotalText: resource.grandTotalText,
    baseSubTotalText: resource.baseSubTotalText,
    baseGrandTotalText: resource.baseGrandTotalText,
    billToText: resource.billToText,
    billToAddressText: resource.billToAddressText,
    shipToText: resource.shipToText,
    shipToAddressText: resource.shipToAddressText,
    payFromText: resource.payFromText,
    salesOrderText: resource.salesOrderText,
    quoteLinesText: resource.quoteLinesText,
    attachmentsText: resource.attachmentsText,
    salesPersonsText: resource.salesPersonsText,
    addLineItemsText: resource.addLineItemsText,
    removeLineItemsText: resource.removeLineItemsText,
    hasWonErrorText: resource.hasWonErrorText,
    wonStatusCode: resource.wonStatusCode,
    convertQuoteText: resource.convertQuoteText,
    convertQuoteMessage: resource.convertQuoteMessage,
    needToPromoteAccount: resource.needToPromoteAccount,
    billingAddressText: resource.billingAddressText,
    shippingAddressText: resource.shippingAddressText,
    promoteQuoteText: resource.promoteQuoteText,
    entityText: resource.entityText,
    syncStatusText: resource.syncStatusText,
    backOfficeText: resource.backOfficeText,
    accountingEntityText: resource.accountingEntityText,
    startDateText: resource.startDateText,
    endDateText: resource.endDateText,
    documentDateText: resource.documentDateText,
    expectedDeliveryDateText: resource.expectedDeliveryDateText,
    dropShipAllowedText: resource.dropShipAllowedText,
    shipEarlyAllowedText: resource.shipEarlyAllowedText,
    partialShipAllowedText: resource.partialShipAllowedText,
    warehouseText: resource.warehouseText,
    locationText: resource.locationText,
    accountingEntityRequiredText: resource.accountingEntityRequiredText,
    requestedByText: resource.requestedByText,
    syncHistoryText: resource.syncHistoryText,
    carrierText: resource.carrierText,
    getQuoteTotalText: resource.getQuoteTotalText,
    erpStatusText: resource.erpStatusText,
    erpStatusDateText: resource.erpStatusDateText,
    refreshPricingText: resource.refreshPricingText,

    resourceKind: 'quotes',
    modelName: _MODEL_NAMES['default'].QUOTE,
    _busyIndicator: null,

    _canPromote: function _canPromote() {
      var _this = this;

      var promise = new Promise(function (resolve) {
        _this.showBusy();
        var entry = {
          '$name': 'CanPromoteQuote',
          'request': {
            'quoteId': _this.entry.$key
          }
        };
        var request = new Sage.SData.Client.SDataServiceOperationRequest(_this.getService()).setResourceKind('quotes').setContractName('dynamic').setOperationName('CanPromoteQuote');

        var canPromote = {
          value: false,
          result: ''
        };

        request.execute(entry, {
          success: function success(result) {
            canPromote.value = result.response.Result;
            resolve(canPromote);
          },
          failure: function failure(err) {
            var response = JSON.parse(err.response)[0];
            canPromote.result = response.message;
            resolve(canPromote);
          },
          scope: _this
        });
      });

      return promise;
    },
    _convertToSalesOrder: function _convertToSalesOrder() {
      var _this2 = this;

      this.showBusy();
      var convertQuoteEntry = {
        '$name': 'ConvertQuoteToOrder',
        'request': {
          'QuoteId': this.entry.$key
        }
      };

      var request = new Sage.SData.Client.SDataServiceOperationRequest(this.getService()).setResourceKind('quotes').setContractName('dynamic').setOperationName('ConvertQuoteToOrder');

      request.execute(convertQuoteEntry, {
        success: function success(result) {
          _this2.hideBusy();
          _this2.refreshRequired = true;
          var view = App.getView('salesorder_detail');
          var options = {
            key: result.response.Result,
            fromContext: _this2
          };
          if (view) {
            view.show(options);
          }
        },
        failure: function failure(err) {
          _this2.hideBusy();
          var options = {
            title: 'alert',
            content: err.statusText,
            getContent: null
          };
          App.modal.createSimpleDialog(options);
          console.error(err); // eslint-disable-line
        },
        scope: this
      });
    },
    _isClosed: function _isClosed() {
      var quoteEntry = {
        '$name': 'IsClosed',
        'request': {
          'QuoteId': this.entry.$key
        }
      };

      var request = new Sage.SData.Client.SDataServiceOperationRequest(this.getService()).setResourceKind('quotes').setContractName('dynamic').setOperationName('IsClosed');

      var closed = false;

      request.execute(quoteEntry, {
        async: false,
        success: function success(result) {
          closed = result.response.Result;
        },
        failure: function failure(err) {
          console.error(err); // eslint-disable-line
        },
        scope: this
      });
      return closed;
    },
    addLineItems: function addLineItems() {
      var _this3 = this;

      if (!this.entry.ErpLogicalId) {
        App.modal.createSimpleDialog({
          title: 'alert',
          content: this.accountingEntityRequiredText,
          getContent: function getContent() {
            return;
          }
        }).then(function () {
          _this3.navigateToEditView();
        });
        return;
      }
      var view = App.getView('quote_line_edit');
      if (view) {
        var quoteItemView = App.getView('quote_lines_related');
        var count = 0;
        if (quoteItemView) {
          quoteItemView.getListCount({ where: 'Quote.$key eq &quot;' + this.entry.$key + '&quot;' }).then(function (result) {
            count = result;
          });
        }
        var options = {
          insert: true,
          context: {
            Quote: this.entry,
            CurrentCount: count
          }
        };
        this.refreshRequired = true;
        view.show(options);
      } // TODO: direct to line items list view and allow multi-select. On save will attach items to quote product and update the quote.
    },
    hideBusy: function hideBusy() {
      this._busyIndicator.complete();
      App.modal.disableClose = false;
      App.modal.hide();
    },
    convertQuote: function convertQuote() {
      if (!this.entry.$key) {
        return;
      }
      if (!this.entry.Account.ErpExtId) {
        var options = {
          title: 'warning',
          content: resource.needToPromoteAccount,
          getContent: null
        };
        App.modal.createSimpleDialog(options).then(this.navigateToRelatedView.bind(this, 'account_detail', 0, this.entry.Account.AccountName));
        return;
      }

      this._convertToSalesOrder();
    },
    handlePricingSuccess: function handlePricingSuccess(result) {
      this._refreshClicked();
      return result;
    },
    onGetOrderTotal: function onGetOrderTotal() {
      var _this4 = this;

      if (this.entry) {
        if (!this.options.context) {
          this.options.context = {
            'Quote': this.entry
          };
        } else {
          this.options.context.Quote = this.entry;
        }
        _PricingAvailabilityService2['default'].getQuotePricing(this.entry).then(function (result) {
          _this4.handlePricingSuccess(result);
        });
      }
    },
    onRePrice: function onRePrice() {
      var _this5 = this;

      if (this.entry) {
        if (!this.options.context) {
          this.options.context = {
            'Quote': this.entry
          };
        } else {
          this.options.context.Quote = this.entry;
        }
        _PricingAvailabilityService2['default'].quoteRePrice(this.entry).then(function (result) {
          _this5.handlePricingSuccess(result);
        });
      }
    },
    onPromoteQuote: function onPromoteQuote() {
      var _this6 = this;

      var canPromotePromise = this._canPromote();
      canPromotePromise.then(function (val) {
        _this6.hideBusy();
        if (!val.value) {
          App.modal.createSimpleDialog({
            title: 'alert',
            content: val.result,
            getContent: function getContent() {
              return;
            }
          });
          return;
        }
        var promote = new _Promote2['default']();
        promote.promoteToBackOffice(_this6.entry, 'Quote', _this6);
      });
    },
    showBusy: function showBusy() {
      if (!this._busyIndicator || this._busyIndicator._destroyed) {
        this._busyIndicator = new _BusyIndicator['default']({ id: this.id + '-busyIndicator' });
      }
      this._busyIndicator.start();
      App.modal.disableClose = true;
      App.modal.showToolbar = false;
      App.modal.add(this._busyIndicator);
    },
    createLayout: function createLayout() {
      var _this7 = this;

      return this.layout || (this.layout = [{
        title: this.actionsText,
        list: true,
        cls: 'action-list',
        name: 'QuickActionsSection',
        children: [{
          name: 'ConvertQuote',
          property: 'QuoteNumber',
          label: this.convertQuoteText,
          iconClass: 'fa fa-shopping-cart fa-2x',
          action: 'convertQuote',
          disabled: function disabled(entry) {
            return entry &amp;&amp; _this7._isClosed();
          },
          security: 'Entities/Quote/ConvertToSalesOrder'
        }, {
          name: 'PromoteQuote',
          property: 'QuoteNumber',
          label: this.promoteQuoteText,
          iconClass: 'fa fa-level-up fa-2x',
          action: 'onPromoteQuote',
          security: 'Entities/Quote/Promote'
        }, {
          name: 'GetOrderTotal',
          property: 'QuoteNumber',
          label: this.getQuoteTotalText,
          iconClass: 'fa fa-money fa-2x',
          action: 'onGetOrderTotal',
          security: 'Entities/Quote/GetOrderTotal'
        }, {
          name: 'AddLineItems',
          property: 'QuoteNumber',
          label: this.addLineItemsText,
          iconClass: 'fa fa-list-ul fa-2x',
          action: 'addLineItems',
          security: 'Entities/Quote/Add'
        }, {
          name: 'RePrice',
          property: 'QuoteNumber',
          label: this.refreshPricingText,
          iconClass: 'fa fa-money fa-2x',
          action: 'onRePrice',
          security: 'Entities/Quote/Add'
        }]
      }, {
        title: this.detailsText,
        name: 'DetailsSection',
        children: [{
          name: 'QuoteNumber',
          property: 'QuoteNumber',
          label: this.quoteNumberText
        }, {
          name: 'AccountName',
          property: 'Account.AccountName',
          label: this.accountText,
          view: 'account_detail',
          key: 'Account.$key'
        }, {
          name: 'RequestedBy',
          property: 'RequestedBy.NameLF',
          label: this.requestedByText,
          view: 'contact_detail',
          key: 'RequestedBy.$key'
        }, {
          name: 'Opportunity',
          property: 'Opportunity.Description',
          label: this.opportunityText,
          view: 'opportunity_detail',
          key: 'Opportunity.$key'
        }, {
          name: 'SalesOrder',
          property: 'SalesOrder.SalesOrderNumber',
          label: this.salesOrderText,
          view: 'salesorder_detail',
          key: 'SalesOrder.$key'
        }, {
          name: 'OrderId',
          property: 'ErpExtId',
          label: this.orderIdText
        }, {
          name: 'BackOffice',
          property: 'ErpLogicalId',
          label: this.backOfficeText,
          renderer: function renderer(val) {
            if (val) {
              return val;
            }
            return '';
          }
        }, {
          name: 'ErpAccountingEntityId',
          property: 'ErpAccountingEntityId',
          label: this.accountingEntityText,
          renderer: function renderer(val) {
            if (val) {
              return val;
            }
            return '';
          }
        }, {
          name: 'CreateDate',
          property: 'CreateDate',
          label: this.dateCreatedText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'StartDate',
          property: 'StartDate',
          label: this.startDateText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'EndDate',
          property: 'EndDate',
          label: this.endDateText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'ExpectedDeliveryDate',
          property: 'ExpectedDeliveryDate',
          label: this.expectedDeliveryDateText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'DocumentDate',
          property: 'DocumentDate',
          label: this.documentDateText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'Status',
          property: 'Status',
          label: this.statusText,
          renderer: function renderer(val) {
            if (val) {
              return val;
            }
            return '';
          }
        }, {
          name: 'SyncStatus',
          property: 'SyncStatus',
          label: this.syncStatusText,
          renderer: function renderer(value) {
            var text = App.picklistService.getPicklistItemTextByCode('SyncStatus', value);
            if (text) {
              return text;
            }
            return value;
          }
        }, {
          name: 'ErpStatus',
          property: 'ErpStatus',
          label: this.erpStatusText,
          renderer: function renderer(value) {
            var text = App.picklistService.getPicklistItemTextByCode('ErpQuoteStatus', value);
            if (text) {
              return text;
            }
            return value;
          }
        }, {
          name: 'StatusDate',
          property: 'StatusDate',
          label: this.erpStatusDateText,
          renderer: function renderer(data) {
            return _format['default'].date(data);
          }
        }, {
          name: 'SubTotal',
          property: 'Total',
          label: this.baseSubTotalText,
          renderer: function renderer(value) {
            return _utility['default'].formatMultiCurrency(value, _this7.entry.BaseCurrencyCode);
          }
        }, {
          name: 'GrandTotal',
          property: 'GrandTotal',
          label: this.baseGrandTotalText,
          renderer: function renderer(value) {
            return _utility['default'].formatMultiCurrency(value, _this7.entry.BaseCurrencyCode);
          }
        }, {
          name: 'DocSubTotal',
          property: 'DocTotal',
          label: this.subTotalText,
          renderer: function renderer(value) {
            return _utility['default'].formatMultiCurrency(value, _this7.entry.CurrencyCode);
          }
        }, {
          name: 'DocGrandTotal',
          property: 'DocGrandTotal',
          label: this.grandTotalText,
          renderer: function renderer(value) {
            return _utility['default'].formatMultiCurrency(value, _this7.entry.CurrencyCode);
          }
        }, {
          name: 'Comments',
          property: 'Comments',
          label: this.commentsText
        }]
      }, {
        title: this.moreDetailsText,
        name: 'MoreDetailsSection',
        collapsed: true,
        children: [{
          name: 'BillTo',
          property: 'BillTo.Name',
          label: this.billToText,
          view: 'erpbillto_detail',
          key: 'BillTo.$key'
        }, {
          name: 'BillToAddress',
          property: 'BillTo.Address',
          label: this.billToAddressText,
          renderer: function renderer(data) {
            if (data) {
              return _format['default'].address(data);
            }
          }
        }, {
          name: 'BillingContactAddress',
          property: 'BillingContact.Address',
          label: this.billingAddressText,
          renderer: function renderer(data) {
            if (data) {
              return _format['default'].address(data);
            }
          }
        }, {
          name: 'ShipTo',
          property: 'ShipTo.Name',
          label: this.shipToText,
          view: 'erpshipto_detail',
          key: 'ShipTo.$key'
        }, {
          name: 'ShipToAddress',
          property: 'ShipTo.Address',
          label: this.shipToAddressText,
          renderer: function renderer(data) {
            if (data) {
              return _format['default'].address(data);
            }
          }
        }, {
          name: 'Location',
          property: 'Location',
          label: this.locationText,
          renderer: function renderer(data) {
            if (data) {
              if (data.Address &amp;&amp; data.Address.FullAddress) {
                return _format['default'].address(data.Address);
              }
              return data.Description;
            }
          }
        }, {
          name: 'Warehouse',
          property: 'Warehouse',
          label: this.warehouseText,
          renderer: function renderer(data) {
            if (data) {
              if (data.Address &amp;&amp; data.Address.FullAddress) {
                return _format['default'].address(data.Address);
              }
              return data.Description;
            }
          }
        }, {
          name: 'ShippingContactAddress',
          property: 'ShippingContact.Address',
          label: this.shippingAddressText,
          renderer: function renderer(data) {
            if (data) {
              return _format['default'].address(data);
            }
          }
        }, {
          name: 'Carrier',
          property: 'Carrier.CarrierName',
          label: this.carrierText,
          renderer: function renderer(data) {
            if (data) {
              return data;
            }
            return '';
          }
        }, {
          name: 'DropShip',
          property: 'DropShip',
          label: this.dropShipAllowedText,
          renderer: function renderer(data) {
            return _format['default'].yesNo(data);
          }
        }, {
          name: 'ShipEarly',
          property: 'ShipEarly',
          label: this.shipEarlyAllowedText,
          renderer: function renderer(data) {
            return _format['default'].yesNo(data);
          }
        }, {
          name: 'PartialShip',
          property: 'PartialShip',
          label: this.partialShipAllowedText,
          renderer: function renderer(data) {
            return _format['default'].yesNo(data);
          }
        }]
      }, {
        title: this.relatedItemsText,
        list: true,
        name: 'RelatedItemsSection',
        children: [{
          name: 'QuoteLines',
          label: this.quoteLinesText,
          where: function where(entry) {
            return 'Quote.$key eq &quot;' + entry.$key + '&quot;';
          },
          view: 'quote_lines_related'
        }, {
          name: 'Attachments',
          label: this.attachmentsText,
          where: function where(entry) {
            return 'quoteId eq &quot;' + entry.$key + '&quot;';
          },
          view: 'quote_attachments_related'
        }, {
          name: 'QuotePersons',
          label: this.salesPersonsText,
          where: function where(entry) {
            return 'Quote.Id eq &quot;' + entry.$key + '&quot;';
          },
          view: 'quotepersons_related'
        }, {
          name: 'SyncHistory',
          label: this.syncHistoryText,
          where: function where(entry) {
            return 'EntityType eq &quot;Quote&quot; and EntityId eq &quot;' + entry.$key + '&quot;';
          },
          view: 'quote_syncresult_related'
        }]
      }]);
    }
  });

  _lang['default'].setObject('icboe.Views.Quotes.Detail', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL1F1b3Rlcy9EZXRhaWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZQSxNQUFNLFFBQVEsR0FBRyw2QkFBWSxhQUFhLENBQUMsQ0FBQzs7QUFFNUMsTUFBTSxPQUFPLEdBQUcseUJBQVEsMENBQTBDLEVBQUUsb0JBQVEsRUFBRTs7QUFFNUUsTUFBRSxFQUFFLGNBQWM7QUFDbEIsWUFBUSxFQUFFLFlBQVk7O0FBRXRCLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3QixlQUFXLEVBQUUsUUFBUSxDQUFDLFdBQVc7QUFDakMsb0JBQWdCLEVBQUUsUUFBUSxDQUFDLGdCQUFnQjtBQUMzQyxtQkFBZSxFQUFFLFFBQVEsQ0FBQyxlQUFlO0FBQ3pDLG1CQUFlLEVBQUUsUUFBUSxDQUFDLGVBQWU7QUFDekMsZUFBVyxFQUFFLFFBQVEsQ0FBQyxXQUFXO0FBQ2pDLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTtBQUN6QyxtQkFBZSxFQUFFLFFBQVEsQ0FBQyxlQUFlO0FBQ3pDLGVBQVcsRUFBRSxRQUFRLENBQUMsV0FBVztBQUNqQyxjQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7QUFDL0IsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxrQkFBYyxFQUFFLFFBQVEsQ0FBQyxjQUFjO0FBQ3ZDLG9CQUFnQixFQUFFLFFBQVEsQ0FBQyxnQkFBZ0I7QUFDM0Msc0JBQWtCLEVBQUUsUUFBUSxDQUFDLGtCQUFrQjtBQUMvQyxjQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7QUFDL0IscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3QyxjQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7QUFDL0IscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3QyxlQUFXLEVBQUUsUUFBUSxDQUFDLFdBQVc7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LEVBQUUsMEJBQTBCO1NBQ2pDLENBQUM7T0FDTCxDQUFDLENBQUEsQUFBQyxDQUFDO0tBQ1A7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLDJCQUEyQixFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUN0QyxPQUFPIiwiZmlsZSI6InNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL1F1b3Rlcy9EZXRhaWwuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IGZvcm1hdCBmcm9tICdjcm0vRm9ybWF0JztcclxuaW1wb3J0IERldGFpbCBmcm9tICdhcmdvcy9EZXRhaWwnO1xyXG5pbXBvcnQgQnVzeUluZGljYXRvciBmcm9tICdhcmdvcy9EaWFsb2dzL0J1c3lJbmRpY2F0b3InO1xyXG5pbXBvcnQgTU9ERUxfTkFNRVMgZnJvbSAnLi4vLi4vTW9kZWxzL05hbWVzJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5pbXBvcnQgUHJpY2luZ0F2YWlsYWJpbGl0eVNlcnZpY2UgZnJvbSAnLi4vLi4vUHJpY2luZ0F2YWlsYWJpbGl0eVNlcnZpY2UnO1xyXG5pbXBvcnQgUHJvbW90ZSBmcm9tICcuLi8uLi9Qcm9tb3RlJztcclxuaW1wb3J0IHV0aWxpdHkgZnJvbSAnLi4vLi4vVXRpbGl0eSc7XHJcblxyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgncXVvdGVEZXRhaWwnKTtcclxuXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uSW50ZWdyYXRpb25zLkJPRS5WaWV3cy5RdW90ZXMuRGV0YWlsJywgW0RldGFpbF0sIHtcclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBpZDogJ3F1b3RlX2RldGFpbCcsXHJcbiAgZWRpdFZpZXc6ICdxdW90ZV9lZGl0JyxcclxuXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgYWN0aW9uc1RleHQ6IHJlc291cmNlLmFjdGlvbnNUZXh0LFxyXG4gIHJlbGF0ZWRJdGVtc1RleHQ6IHJlc291cmNlLnJlbGF0ZWRJdGVtc1RleHQsXHJcbiAgbW9yZURldGFpbHNUZXh0OiByZXNvdXJjZS5tb3JlRGV0YWlsc1RleHQsXHJcbiAgcXVvdGVOdW1iZXJUZXh0OiByZXNvdXJjZS5xdW90ZU51bWJlclRleHQsXHJcbiAgYWNjb3VudFRleHQ6IHJlc291cmNlLmFjY291bnRUZXh0LFxyXG4gIGNvbW1lbnRzVGV4dDogcmVzb3VyY2UuY29tbWVudHNUZXh0LFxyXG4gIG9wcG9ydHVuaXR5VGV4dDogcmVzb3VyY2Uub3Bwb3J0dW5pdHlUZXh0LFxyXG4gIGRhdGVDcmVhdGVkVGV4dDogcmVzb3VyY2UuZGF0ZUNyZWF0ZWRUZXh0LFxyXG4gIG9yZGVySWRUZXh0OiByZXNvdXJjZS5vcmRlcklkVGV4dCxcclxuICBzdGF0dXNUZXh0OiByZXNvdXJjZS5zdGF0dXNUZXh0LFxyXG4gIHN1YlRvdGFsVGV4dDogcmVzb3VyY2Uuc3ViVG90YWxUZXh0LFxyXG4gIGdyYW5kVG90YWxUZXh0OiByZXNvdXJjZS5ncmFuZFRvdGFsVGV4dCxcclxuICBiYXNlU3ViVG90YWxUZXh0OiByZXNvdXJjZS5iYXNlU3ViVG90YWxUZXh0LFxyXG4gIGJhc2VHcmFuZFRvdGFsVGV4dDogcmVzb3VyY2UuYmFzZUdyYW5kVG90YWxUZXh0LFxyXG4gIGJpbGxUb1RleHQ6IHJlc291cmNlLmJpbGxUb1RleHQsXHJcbiAgYmlsbFRvQWRkcmVzc1RleHQ6IHJlc291cmNlLmJpbGxUb0FkZHJlc3NUZXh0LFxyXG4gIHNoaXBUb1RleHQ6IHJlc291cmNlLnNoaXBUb1RleHQsXHJcbiAgc2hpcFRvQWRkcmVzc1RleHQ6IHJlc291cmNlLnNoaXBUb0FkZHJlc3NUZXh0LFxyXG4gIHBheUZyb21UZXh0OiByZXNvdXJjZS5wYXlGcm9tVGV4dCxcclxuICBzYWxlc09yZGVyVGV4dDogcmVzb3VyY2Uuc2FsZXNPcmRlclRleHQsXHJcbiAgcXVvdGVMaW5lc1RleHQ6IHJlc291cmNlLnF1b3RlTGluZXNUZXh0LFxyXG4gIGF0dGFjaG1lbnRzVGV4dDogcmVzb3VyY2UuYXR0YWNobWVudHNUZXh0LFxyXG4gIHNhbGVzUGVyc29uc1RleHQ6IHJlc291cmNlLnNhbGVzUGVyc29uc1RleHQsXHJcbiAgYWRkTGluZUl0ZW1zVGV4dDogcmVzb3VyY2UuYWRkTGluZUl0ZW1zVGV4dCxcclxuICByZW1vdmVMaW5lSXRlbXNUZXh0OiByZXNvdXJjZS5yZW1vdmVMaW5lSXRlbXNUZXh0LFxyXG4gIGhhc1dvbkVycm9yVGV4dDogcmVzb3VyY2UuaGFzV29uRXJyb3JUZXh0LFxyXG4gIHdvblN0YXR1c0NvZGU6IHJlc291cmNlLndvblN0YXR1c0NvZGUsXHJcbiAgY29udmVydFF1b3RlVGV4dDogcmVzb3VyY2UuY29udmVydFF1b3RlVGV4dCxcclxuICBjb252ZXJ0UXVvdGVNZXNzYWdlOiByZXNvdXJjZS5jb252ZXJ0UXVvdGVNZXNzYWdlLFxyXG4gIG5lZWRUb1Byb21vdGVBY2NvdW50OiByZXNvdXJjZS5uZWVkVG9Qcm9tb3RlQWNjb3VudCxcclxuICBiaWxsaW5nQWRkcmVzc1RleHQ6IHJlc291cmNlLmJpbGxpbmdBZGRyZXNzVGV4dCxcclxuICBzaGlwcGluZ0FkZHJlc3NUZXh0OiByZXNvdXJjZS5zaGlwcGluZ0FkZHJlc3NUZXh0LFxyXG4gIHByb21vdGVRdW90ZVRleHQ6IHJlc291cmNlLnByb21vdGVRdW90ZVRleHQsXHJcbiAgZW50aXR5VGV4dDogcmVzb3VyY2UuZW50aXR5VGV4dCxcclxuICBzeW5jU3RhdHVzVGV4dDogcmVzb3VyY2Uuc3luY1N0YXR1c1RleHQsXHJcbiAgYmFja09mZmljZVRleHQ6IHJlc291cmNlLmJhY2tPZmZpY2VUZXh0LFxyXG4gIGFjY291bnRpbmdFbnRpdHlUZXh0OiByZXNvdXJjZS5hY2NvdW50aW5nRW50aXR5VGV4dCxcclxuICBzdGFydERhdGVUZXh0OiByZXNvdXJjZS5zdGFydERhdGVUZXh0LFxyXG4gIGVuZERhdGVUZXh0OiByZXNvdXJjZS5lbmREYXRlVGV4dCxcclxuICBkb2N1bWVudERhdGVUZXh0OiByZXNvdXJjZS5kb2N1bWVudERhdGVUZXh0LFxyXG4gIGV4cGVjdGVkRGVsaXZlcnlEYXRlVGV4dDogcmVzb3VyY2UuZXhwZWN0ZWREZWxpdmVyeURhdGVUZXh0LFxyXG4gIGRyb3BTaGlwQWxsb3dlZFRleHQ6IHJlc291cmNlLmRyb3BTaGlwQWxsb3dlZFRleHQsXHJcbiAgc2hpcEVhcmx5QWxsb3dlZFRleHQ6IHJlc291cmNlLnNoaXBFYXJseUFsbG93ZWRUZXh0LFxyXG4gIHBhcnRpYWxTaGlwQWxsb3dlZFRleHQ6IHJlc291cmNlLnBhcnRpYWxTaGlwQWxsb3dlZFRleHQsXHJcbiAgd2FyZWhvdXNlVGV4dDogcmVzb3VyY2Uud2FyZWhvdXNlVGV4dCxcclxuICBsb2NhdGlvblRleHQ6IHJlc291cmNlLmxvY2F0aW9uVGV4dCxcclxuICBhY2NvdW50aW5nRW50aXR5UmVxdWlyZWRUZXh0OiByZXNvdXJjZS5hY2NvdW50aW5nRW50aXR5UmVxdWlyZWRUZXh0LFxyXG4gIHJlcXVlc3RlZEJ5VGV4dDogcmVzb3VyY2UucmVxdWVzdGVkQnlUZXh0LFxyXG4gIHN5bmNIaXN0b3J5VGV4dDogcmVzb3VyY2Uuc3luY0hpc3RvcnlUZXh0LFxyXG4gIGNhcnJpZXJUZXh0OiByZXNvdXJjZS5jYXJyaWVyVGV4dCxcclxuICBnZXRRdW90ZVRvdGFsVGV4dDogcmVzb3VyY2UuZ2V0UXVvdGVUb3RhbFRleHQsXHJcbiAgZXJwU3RhdHVzVGV4dDogcmVzb3VyY2UuZXJwU3RhdHVzVGV4dCxcclxuICBlcnBTdGF0dXNEYXRlVGV4dDogcmVzb3VyY2UuZXJwU3RhdHVzRGF0ZVRleHQsXHJcbiAgcmVmcmVzaFByaWNpbmdUZXh0OiByZXNvdXJjZS5yZWZyZXNoUHJpY2luZ1RleHQsXHJcblxyXG4gIHJlc291cmNlS2luZDogJ3F1b3RlcycsXHJcbiAgbW9kZWxOYW1lOiBNT0RFTF9OQU1FUy5RVU9URSxcclxuICBfYnVzeUluZGljYXRvcjogbnVsbCxcclxuXHJcbiAgX2NhblByb21vdGU6IGZ1bmN0aW9uIF9jYW5Qcm9tb3RlKCkge1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKFxyXG4gICAgICAocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0J1c3koKTtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHtcclxuICAgICAgICAgICckbmFtZSc6ICdDYW5Qcm9tb3RlUXVvdGUnLFxyXG4gICAgICAgICAgJ3JlcXVlc3QnOiB7XHJcbiAgICAgICAgICAgICdxdW90ZUlkJzogdGhpcy5lbnRyeS4ka2V5LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgU2FnZS5TRGF0YS5DbGllbnQuU0RhdGFTZXJ2aWNlT3BlcmF0aW9uUmVxdWVzdCh0aGlzLmdldFNlcnZpY2UoKSlcclxuICAgICAgICAgIC5zZXRSZXNvdXJjZUtpbmQoJ3F1b3RlcycpXHJcbiAgICAgICAgICAuc2V0Q29udHJhY3ROYW1lKCdkeW5hbWljJylcclxuICAgICAgICAgIC5zZXRPcGVyYXRpb25OYW1lKCdDYW5Qcm9tb3RlUXVvdGUnKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuUHJvbW90ZSA9IHtcclxuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICAgIHJlc3VsdDogJycsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5leGVjdXRlKGVudHJ5LCB7XHJcbiAgICAgICAgICBzdWNjZXNzOiAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNhblByb21vdGUudmFsdWUgPSByZXN1bHQucmVzcG9uc2UuUmVzdWx0O1xyXG4gICAgICAgICAgICByZXNvbHZlKGNhblByb21vdGUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZhaWx1cmU6IChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGVyci5yZXNwb25zZSlbMF07XHJcbiAgICAgICAgICAgIGNhblByb21vdGUucmVzdWx0ID0gcmVzcG9uc2UubWVzc2FnZTtcclxuICAgICAgICAgICAgcmVzb2x2ZShjYW5Qcm9tb3RlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzY29wZTogdGhpcyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9LFxyXG4gIF9jb252ZXJ0VG9TYWxlc09yZGVyOiBmdW5jdGlvbiBfY29udmVydFRvU2FsZXNPcmRlcigpIHtcclxuICAgIHRoaXMuc2hvd0J1c3koKTtcclxuICAgIGNvbnN0IGNvbnZlcnRRdW90ZUVudHJ5ID0ge1xyXG4gICAgICAnJG5hbWUnOiAnQ29udmVydFF1b3RlVG9PcmRlcicsXHJcbiAgICAgICdyZXF1ZXN0Jzoge1xyXG4gICAgICAgICdRdW90ZUlkJzogdGhpcy5lbnRyeS4ka2V5LFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFNhZ2UuU0RhdGEuQ2xpZW50LlNEYXRhU2VydmljZU9wZXJhdGlvblJlcXVlc3QodGhpcy5nZXRTZXJ2aWNlKCkpXHJcbiAgICAgIC5zZXRSZXNvdXJjZUtpbmQoJ3F1b3RlcycpXHJcbiAgICAgIC5zZXRDb250cmFjdE5hbWUoJ2R5bmFtaWMnKVxyXG4gICAgICAuc2V0T3BlcmF0aW9uTmFtZSgnQ29udmVydFF1b3RlVG9PcmRlcicpO1xyXG5cclxuICAgIHJlcXVlc3QuZXhlY3V0ZShjb252ZXJ0UXVvdGVFbnRyeSwge1xyXG4gICAgICBzdWNjZXNzOiAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5oaWRlQnVzeSgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcoJ3NhbGVzb3JkZXJfZGV0YWlsJyk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgIGtleTogcmVzdWx0LnJlc3BvbnNlLlJlc3VsdCxcclxuICAgICAgICAgIGZyb21Db250ZXh0OiB0aGlzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZpZXcpIHtcclxuICAgICAgICAgIHZpZXcuc2hvdyhvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWx1cmU6IChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLmhpZGVCdXN5KCk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgIHRpdGxlOiAnYWxlcnQnLFxyXG4gICAgICAgICAgY29udGVudDogZXJyLnN0YXR1c1RleHQsXHJcbiAgICAgICAgICBnZXRDb250ZW50OiBudWxsLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXBwLm1vZGFsLmNyZWF0ZVNpbXBsZURpYWxvZyhvcHRpb25zKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7Ly8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICB9LFxyXG4gICAgICBzY29wZTogdGhpcyxcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgX2lzQ2xvc2VkOiBmdW5jdGlvbiBfaXNDbG9zZWQoKSB7XHJcbiAgICBjb25zdCBxdW90ZUVudHJ5ID0ge1xyXG4gICAgICAnJG5hbWUnOiAnSXNDbG9zZWQnLFxyXG4gICAgICAncmVxdWVzdCc6IHtcclxuICAgICAgICAnUXVvdGVJZCc6IHRoaXMuZW50cnkuJGtleSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVNlcnZpY2VPcGVyYXRpb25SZXF1ZXN0KHRoaXMuZ2V0U2VydmljZSgpKVxyXG4gICAgICAuc2V0UmVzb3VyY2VLaW5kKCdxdW90ZXMnKVxyXG4gICAgICAuc2V0Q29udHJhY3ROYW1lKCdkeW5hbWljJylcclxuICAgICAgLnNldE9wZXJhdGlvbk5hbWUoJ0lzQ2xvc2VkJyk7XHJcblxyXG4gICAgbGV0IGNsb3NlZCA9IGZhbHNlO1xyXG5cclxuICAgIHJlcXVlc3QuZXhlY3V0ZShxdW90ZUVudHJ5LCB7XHJcbiAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNsb3NlZCA9IHJlc3VsdC5yZXNwb25zZS5SZXN1bHQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWx1cmU6IChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcclxuICAgICAgfSxcclxuICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBjbG9zZWQ7XHJcbiAgfSxcclxuICBhZGRMaW5lSXRlbXM6IGZ1bmN0aW9uIGFkZExpbmVJdGVtcygpIHtcclxuICAgIGlmICghdGhpcy5lbnRyeS5FcnBMb2dpY2FsSWQpIHtcclxuICAgICAgQXBwLm1vZGFsLmNyZWF0ZVNpbXBsZURpYWxvZyh7XHJcbiAgICAgICAgdGl0bGU6ICdhbGVydCcsXHJcbiAgICAgICAgY29udGVudDogdGhpcy5hY2NvdW50aW5nRW50aXR5UmVxdWlyZWRUZXh0LFxyXG4gICAgICAgIGdldENvbnRlbnQ6ICgpID0+IHsgcmV0dXJuOyB9LFxyXG4gICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLm5hdmlnYXRlVG9FZGl0VmlldygpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KCdxdW90ZV9saW5lX2VkaXQnKTtcclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IHF1b3RlSXRlbVZpZXcgPSBBcHAuZ2V0VmlldygncXVvdGVfbGluZXNfcmVsYXRlZCcpO1xyXG4gICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICBpZiAocXVvdGVJdGVtVmlldykge1xyXG4gICAgICAgIHF1b3RlSXRlbVZpZXcuZ2V0TGlzdENvdW50KHsgd2hlcmU6IGBRdW90ZS4ka2V5IGVxIFwiJHt0aGlzLmVudHJ5LiRrZXl9XCJgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgY291bnQgPSByZXN1bHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICBpbnNlcnQ6IHRydWUsXHJcbiAgICAgICAgY29udGV4dDoge1xyXG4gICAgICAgICAgUXVvdGU6IHRoaXMuZW50cnksXHJcbiAgICAgICAgICBDdXJyZW50Q291bnQ6IGNvdW50LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMucmVmcmVzaFJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgdmlldy5zaG93KG9wdGlvbnMpO1xyXG4gICAgfSAvLyBUT0RPOiBkaXJlY3QgdG8gbGluZSBpdGVtcyBsaXN0IHZpZXcgYW5kIGFsbG93IG11bHRpLXNlbGVjdC4gT24gc2F2ZSB3aWxsIGF0dGFjaCBpdGVtcyB0byBxdW90ZSBwcm9kdWN0IGFuZCB1cGRhdGUgdGhlIHF1b3RlLlxyXG4gIH0sXHJcbiAgaGlkZUJ1c3k6IGZ1bmN0aW9uIGhpZGVCdXN5KCkge1xyXG4gICAgdGhpcy5fYnVzeUluZGljYXRvci5jb21wbGV0ZSgpO1xyXG4gICAgQXBwLm1vZGFsLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xyXG4gICAgQXBwLm1vZGFsLmhpZGUoKTtcclxuICB9LFxyXG4gIGNvbnZlcnRRdW90ZTogZnVuY3Rpb24gY29udmVydFF1b3RlKCkge1xyXG4gICAgaWYgKCF0aGlzLmVudHJ5LiRrZXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmVudHJ5LkFjY291bnQuRXJwRXh0SWQpIHtcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICB0aXRsZTogJ3dhcm5pbmcnLFxyXG4gICAgICAgIGNvbnRlbnQ6IHJlc291cmNlLm5lZWRUb1Byb21vdGVBY2NvdW50LFxyXG4gICAgICAgIGdldENvbnRlbnQ6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICAgIEFwcC5tb2RhbC5jcmVhdGVTaW1wbGVEaWFsb2cob3B0aW9ucykudGhlbih0aGlzLm5hdmlnYXRlVG9SZWxhdGVkVmlldy5iaW5kKHRoaXMsICdhY2NvdW50X2RldGFpbCcsIDAsIHRoaXMuZW50cnkuQWNjb3VudC5BY2NvdW50TmFtZSkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fY29udmVydFRvU2FsZXNPcmRlcigpO1xyXG4gIH0sXHJcbiAgaGFuZGxlUHJpY2luZ1N1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVByaWNpbmdTdWNjZXNzKHJlc3VsdCkge1xyXG4gICAgdGhpcy5fcmVmcmVzaENsaWNrZWQoKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSxcclxuICBvbkdldE9yZGVyVG90YWw6IGZ1bmN0aW9uIG9uR2V0T3JkZXJUb3RhbCgpIHtcclxuICAgIGlmICh0aGlzLmVudHJ5KSB7XHJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dCA9IHtcclxuICAgICAgICAgICdRdW90ZSc6IHRoaXMuZW50cnksXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC5RdW90ZSA9IHRoaXMuZW50cnk7XHJcbiAgICAgIH1cclxuICAgICAgUHJpY2luZ0F2YWlsYWJpbGl0eVNlcnZpY2UuZ2V0UXVvdGVQcmljaW5nKHRoaXMuZW50cnkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUHJpY2luZ1N1Y2Nlc3MocmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBvblJlUHJpY2U6IGZ1bmN0aW9uIG9uUmVQcmljZSgpIHtcclxuICAgIGlmICh0aGlzLmVudHJ5KSB7XHJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dCA9IHtcclxuICAgICAgICAgICdRdW90ZSc6IHRoaXMuZW50cnksXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGV4dC5RdW90ZSA9IHRoaXMuZW50cnk7XHJcbiAgICAgIH1cclxuICAgICAgUHJpY2luZ0F2YWlsYWJpbGl0eVNlcnZpY2UucXVvdGVSZVByaWNlKHRoaXMuZW50cnkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUHJpY2luZ1N1Y2Nlc3MocmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBvblByb21vdGVRdW90ZTogZnVuY3Rpb24gb25Qcm9tb3RlUXVvdGUoKSB7XHJcbiAgICBjb25zdCBjYW5Qcm9tb3RlUHJvbWlzZSA9IHRoaXMuX2NhblByb21vdGUoKTtcclxuICAgIGNhblByb21vdGVQcm9taXNlLnRoZW4oKHZhbCkgPT4ge1xyXG4gICAgICB0aGlzLmhpZGVCdXN5KCk7XHJcbiAgICAgIGlmICghdmFsLnZhbHVlKSB7XHJcbiAgICAgICAgQXBwLm1vZGFsLmNyZWF0ZVNpbXBsZURpYWxvZyh7XHJcbiAgICAgICAgICB0aXRsZTogJ2FsZXJ0JyxcclxuICAgICAgICAgIGNvbnRlbnQ6IHZhbC5yZXN1bHQsXHJcbiAgICAgICAgICBnZXRDb250ZW50OiAoKSA9PiB7IHJldHVybjsgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcHJvbW90ZSA9IG5ldyBQcm9tb3RlKCk7XHJcbiAgICAgIHByb21vdGUucHJvbW90ZVRvQmFja09mZmljZSh0aGlzLmVudHJ5LCAnUXVvdGUnLCB0aGlzKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2hvd0J1c3k6IGZ1bmN0aW9uIHNob3dCdXN5KCkge1xyXG4gICAgaWYgKCF0aGlzLl9idXN5SW5kaWNhdG9yIHx8IHRoaXMuX2J1c3lJbmRpY2F0b3IuX2Rlc3Ryb3llZCkge1xyXG4gICAgICB0aGlzLl9idXN5SW5kaWNhdG9yID0gbmV3IEJ1c3lJbmRpY2F0b3IoeyBpZDogdGhpcy5pZCArICctYnVzeUluZGljYXRvcicgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9idXN5SW5kaWNhdG9yLnN0YXJ0KCk7XHJcbiAgICBBcHAubW9kYWwuZGlzYWJsZUNsb3NlID0gdHJ1ZTtcclxuICAgIEFwcC5tb2RhbC5zaG93VG9vbGJhciA9IGZhbHNlO1xyXG4gICAgQXBwLm1vZGFsLmFkZCh0aGlzLl9idXN5SW5kaWNhdG9yKTtcclxuICB9LFxyXG4gIGNyZWF0ZUxheW91dDogZnVuY3Rpb24gY3JlYXRlTGF5b3V0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGF5b3V0IHx8ICh0aGlzLmxheW91dCA9IFt7XHJcbiAgICAgIHRpdGxlOiB0aGlzLmFjdGlvbnNUZXh0LFxyXG4gICAgICBsaXN0OiB0cnVlLFxyXG4gICAgICBjbHM6ICdhY3Rpb24tbGlzdCcsXHJcbiAgICAgIG5hbWU6ICdRdWlja0FjdGlvbnNTZWN0aW9uJyxcclxuICAgICAgY2hpbGRyZW46IFt7XHJcbiAgICAgICAgbmFtZTogJ0NvbnZlcnRRdW90ZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdRdW90ZU51bWJlcicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuY29udmVydFF1b3RlVGV4dCxcclxuICAgICAgICBpY29uQ2xhc3M6ICdmYSBmYS1zaG9wcGluZy1jYXJ0IGZhLTJ4JyxcclxuICAgICAgICBhY3Rpb246ICdjb252ZXJ0UXVvdGUnLFxyXG4gICAgICAgIGRpc2FibGVkOiAoZW50cnkpID0+IHtcclxuICAgICAgICAgIHJldHVybiAoZW50cnkgJiYgdGhpcy5faXNDbG9zZWQoKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWN1cml0eTogJ0VudGl0aWVzL1F1b3RlL0NvbnZlcnRUb1NhbGVzT3JkZXInLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ1Byb21vdGVRdW90ZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdRdW90ZU51bWJlcicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMucHJvbW90ZVF1b3RlVGV4dCxcclxuICAgICAgICBpY29uQ2xhc3M6ICdmYSBmYS1sZXZlbC11cCBmYS0yeCcsXHJcbiAgICAgICAgYWN0aW9uOiAnb25Qcm9tb3RlUXVvdGUnLFxyXG4gICAgICAgIHNlY3VyaXR5OiAnRW50aXRpZXMvUXVvdGUvUHJvbW90ZScsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnR2V0T3JkZXJUb3RhbCcsXHJcbiAgICAgICAgcHJvcGVydHk6ICdRdW90ZU51bWJlcicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuZ2V0UXVvdGVUb3RhbFRleHQsXHJcbiAgICAgICAgaWNvbkNsYXNzOiAnZmEgZmEtbW9uZXkgZmEtMngnLFxyXG4gICAgICAgIGFjdGlvbjogJ29uR2V0T3JkZXJUb3RhbCcsXHJcbiAgICAgICAgc2VjdXJpdHk6ICdFbnRpdGllcy9RdW90ZS9HZXRPcmRlclRvdGFsJyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdBZGRMaW5lSXRlbXMnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnUXVvdGVOdW1iZXInLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmFkZExpbmVJdGVtc1RleHQsXHJcbiAgICAgICAgaWNvbkNsYXNzOiAnZmEgZmEtbGlzdC11bCBmYS0yeCcsXHJcbiAgICAgICAgYWN0aW9uOiAnYWRkTGluZUl0ZW1zJyxcclxuICAgICAgICBzZWN1cml0eTogJ0VudGl0aWVzL1F1b3RlL0FkZCcsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnUmVQcmljZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdRdW90ZU51bWJlcicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMucmVmcmVzaFByaWNpbmdUZXh0LFxyXG4gICAgICAgIGljb25DbGFzczogJ2ZhIGZhLW1vbmV5IGZhLTJ4JyxcclxuICAgICAgICBhY3Rpb246ICdvblJlUHJpY2UnLFxyXG4gICAgICAgIHNlY3VyaXR5OiAnRW50aXRpZXMvUXVvdGUvQWRkJyxcclxuICAgICAgfV0sXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiB0aGlzLmRldGFpbHNUZXh0LFxyXG4gICAgICBuYW1lOiAnRGV0YWlsc1NlY3Rpb24nLFxyXG4gICAgICBjaGlsZHJlbjogW3tcclxuICAgICAgICBuYW1lOiAnUXVvdGVOdW1iZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnUXVvdGVOdW1iZXInLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLnF1b3RlTnVtYmVyVGV4dCxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdBY2NvdW50TmFtZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdBY2NvdW50LkFjY291bnROYW1lJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5hY2NvdW50VGV4dCxcclxuICAgICAgICB2aWV3OiAnYWNjb3VudF9kZXRhaWwnLFxyXG4gICAgICAgIGtleTogJ0FjY291bnQuJGtleScsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnUmVxdWVzdGVkQnknLFxyXG4gICAgICAgIHByb3BlcnR5OiAnUmVxdWVzdGVkQnkuTmFtZUxGJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5yZXF1ZXN0ZWRCeVRleHQsXHJcbiAgICAgICAgdmlldzogJ2NvbnRhY3RfZGV0YWlsJyxcclxuICAgICAgICBrZXk6ICdSZXF1ZXN0ZWRCeS4ka2V5JyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdPcHBvcnR1bml0eScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdPcHBvcnR1bml0eS5EZXNjcmlwdGlvbicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMub3Bwb3J0dW5pdHlUZXh0LFxyXG4gICAgICAgIHZpZXc6ICdvcHBvcnR1bml0eV9kZXRhaWwnLFxyXG4gICAgICAgIGtleTogJ09wcG9ydHVuaXR5LiRrZXknLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ1NhbGVzT3JkZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnU2FsZXNPcmRlci5TYWxlc09yZGVyTnVtYmVyJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5zYWxlc09yZGVyVGV4dCxcclxuICAgICAgICB2aWV3OiAnc2FsZXNvcmRlcl9kZXRhaWwnLFxyXG4gICAgICAgIGtleTogJ1NhbGVzT3JkZXIuJGtleScsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnT3JkZXJJZCcsXHJcbiAgICAgICAgcHJvcGVydHk6ICdFcnBFeHRJZCcsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMub3JkZXJJZFRleHQsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnQmFja09mZmljZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdFcnBMb2dpY2FsSWQnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmJhY2tPZmZpY2VUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcih2YWwpIHtcclxuICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9LFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0VycEFjY291bnRpbmdFbnRpdHlJZCcsXHJcbiAgICAgICAgcHJvcGVydHk6ICdFcnBBY2NvdW50aW5nRW50aXR5SWQnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmFjY291bnRpbmdFbnRpdHlUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcih2YWwpIHtcclxuICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9LFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0NyZWF0ZURhdGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnQ3JlYXRlRGF0ZScsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuZGF0ZUNyZWF0ZWRUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm9ybWF0LmRhdGUoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdTdGFydERhdGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnU3RhcnREYXRlJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5zdGFydERhdGVUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm9ybWF0LmRhdGUoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdFbmREYXRlJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0VuZERhdGUnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmVuZERhdGVUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm9ybWF0LmRhdGUoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgICAgbmFtZTogJ0V4cGVjdGVkRGVsaXZlcnlEYXRlJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnRXhwZWN0ZWREZWxpdmVyeURhdGUnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZXhwZWN0ZWREZWxpdmVyeURhdGVUZXh0LFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5kYXRlKGRhdGEpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdEb2N1bWVudERhdGUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRG9jdW1lbnREYXRlJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5kb2N1bWVudERhdGVUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm9ybWF0LmRhdGUoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSwge1xyXG4gICAgICAgICAgbmFtZTogJ1N0YXR1cycsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ1N0YXR1cycsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdTeW5jU3RhdHVzJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnU3luY1N0YXR1cycsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5zeW5jU3RhdHVzVGV4dCxcclxuICAgICAgICAgIHJlbmRlcmVyOiAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IEFwcC5waWNrbGlzdFNlcnZpY2UuZ2V0UGlja2xpc3RJdGVtVGV4dEJ5Q29kZSgnU3luY1N0YXR1cycsIHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdFcnBTdGF0dXMnLFxyXG4gICAgICAgICAgcHJvcGVydHk6ICdFcnBTdGF0dXMnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZXJwU3RhdHVzVGV4dCxcclxuICAgICAgICAgIHJlbmRlcmVyOiAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IEFwcC5waWNrbGlzdFNlcnZpY2UuZ2V0UGlja2xpc3RJdGVtVGV4dEJ5Q29kZSgnRXJwUXVvdGVTdGF0dXMnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnU3RhdHVzRGF0ZScsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ1N0YXR1c0RhdGUnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZXJwU3RhdHVzRGF0ZVRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0LmRhdGUoZGF0YSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdTdWJUb3RhbCcsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ1RvdGFsJyxcclxuICAgICAgICAgIGxhYmVsOiB0aGlzLmJhc2VTdWJUb3RhbFRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlsaXR5LmZvcm1hdE11bHRpQ3VycmVuY3kodmFsdWUsIHRoaXMuZW50cnkuQmFzZUN1cnJlbmN5Q29kZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdHcmFuZFRvdGFsJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnR3JhbmRUb3RhbCcsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5iYXNlR3JhbmRUb3RhbFRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlsaXR5LmZvcm1hdE11bHRpQ3VycmVuY3kodmFsdWUsIHRoaXMuZW50cnkuQmFzZUN1cnJlbmN5Q29kZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdEb2NTdWJUb3RhbCcsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ0RvY1RvdGFsJyxcclxuICAgICAgICAgIGxhYmVsOiB0aGlzLnN1YlRvdGFsVGV4dCxcclxuICAgICAgICAgIHJlbmRlcmVyOiAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHV0aWxpdHkuZm9ybWF0TXVsdGlDdXJyZW5jeSh2YWx1ZSwgdGhpcy5lbnRyeS5DdXJyZW5jeUNvZGUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnRG9jR3JhbmRUb3RhbCcsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ0RvY0dyYW5kVG90YWwnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZ3JhbmRUb3RhbFRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlsaXR5LmZvcm1hdE11bHRpQ3VycmVuY3kodmFsdWUsIHRoaXMuZW50cnkuQ3VycmVuY3lDb2RlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgbmFtZTogJ0NvbW1lbnRzJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnQ29tbWVudHMnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuY29tbWVudHNUZXh0LFxyXG4gICAgICAgIH1dLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGl0bGU6IHRoaXMubW9yZURldGFpbHNUZXh0LFxyXG4gICAgICAgIG5hbWU6ICdNb3JlRGV0YWlsc1NlY3Rpb24nLFxyXG4gICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICBjaGlsZHJlbjogW3tcclxuICAgICAgICAgIG5hbWU6ICdCaWxsVG8nLFxyXG4gICAgICAgICAgcHJvcGVydHk6ICdCaWxsVG8uTmFtZScsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5iaWxsVG9UZXh0LFxyXG4gICAgICAgICAgdmlldzogJ2VycGJpbGx0b19kZXRhaWwnLFxyXG4gICAgICAgICAga2V5OiAnQmlsbFRvLiRrZXknLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdCaWxsVG9BZGRyZXNzJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnQmlsbFRvLkFkZHJlc3MnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuYmlsbFRvQWRkcmVzc1RleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmb3JtYXQuYWRkcmVzcyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnQmlsbGluZ0NvbnRhY3RBZGRyZXNzJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnQmlsbGluZ0NvbnRhY3QuQWRkcmVzcycsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5iaWxsaW5nQWRkcmVzc1RleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmb3JtYXQuYWRkcmVzcyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnU2hpcFRvJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnU2hpcFRvLk5hbWUnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuc2hpcFRvVGV4dCxcclxuICAgICAgICAgIHZpZXc6ICdlcnBzaGlwdG9fZGV0YWlsJyxcclxuICAgICAgICAgIGtleTogJ1NoaXBUby4ka2V5JyxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnU2hpcFRvQWRkcmVzcycsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ1NoaXBUby5BZGRyZXNzJyxcclxuICAgICAgICAgIGxhYmVsOiB0aGlzLnNoaXBUb0FkZHJlc3NUZXh0LFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0LmFkZHJlc3MoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgbmFtZTogJ0xvY2F0aW9uJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnTG9jYXRpb24nLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMubG9jYXRpb25UZXh0LFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICBpZiAoZGF0YS5BZGRyZXNzICYmIGRhdGEuQWRkcmVzcy5GdWxsQWRkcmVzcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5hZGRyZXNzKGRhdGEuQWRkcmVzcyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhLkRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdXYXJlaG91c2UnLFxyXG4gICAgICAgICAgcHJvcGVydHk6ICdXYXJlaG91c2UnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMud2FyZWhvdXNlVGV4dCxcclxuICAgICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGRhdGEuQWRkcmVzcyAmJiBkYXRhLkFkZHJlc3MuRnVsbEFkZHJlc3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQuYWRkcmVzcyhkYXRhLkFkZHJlc3MpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YS5EZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnU2hpcHBpbmdDb250YWN0QWRkcmVzcycsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ1NoaXBwaW5nQ29udGFjdC5BZGRyZXNzJyxcclxuICAgICAgICAgIGxhYmVsOiB0aGlzLnNoaXBwaW5nQWRkcmVzc1RleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmb3JtYXQuYWRkcmVzcyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnQ2FycmllcicsXHJcbiAgICAgICAgICBwcm9wZXJ0eTogJ0NhcnJpZXIuQ2Fycmllck5hbWUnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuY2FycmllclRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgbmFtZTogJ0Ryb3BTaGlwJyxcclxuICAgICAgICAgIHByb3BlcnR5OiAnRHJvcFNoaXAnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZHJvcFNoaXBBbGxvd2VkVGV4dCxcclxuICAgICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJlcihkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQueWVzTm8oZGF0YSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG5hbWU6ICdTaGlwRWFybHknLFxyXG4gICAgICAgICAgcHJvcGVydHk6ICdTaGlwRWFybHknLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMuc2hpcEVhcmx5QWxsb3dlZFRleHQsXHJcbiAgICAgICAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0Lnllc05vKGRhdGEpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBuYW1lOiAnUGFydGlhbFNoaXAnLFxyXG4gICAgICAgICAgcHJvcGVydHk6ICdQYXJ0aWFsU2hpcCcsXHJcbiAgICAgICAgICBsYWJlbDogdGhpcy5wYXJ0aWFsU2hpcEFsbG93ZWRUZXh0LFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC55ZXNObyhkYXRhKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfV0sXHJcbiAgICAgIH0sIHtcclxuICAgICAgICB0aXRsZTogdGhpcy5yZWxhdGVkSXRlbXNUZXh0LFxyXG4gICAgICAgIGxpc3Q6IHRydWUsXHJcbiAgICAgICAgbmFtZTogJ1JlbGF0ZWRJdGVtc1NlY3Rpb24nLFxyXG4gICAgICAgIGNoaWxkcmVuOiBbe1xyXG4gICAgICAgICAgbmFtZTogJ1F1b3RlTGluZXMnLFxyXG4gICAgICAgICAgbGFiZWw6IHRoaXMucXVvdGVMaW5lc1RleHQsXHJcbiAgICAgICAgICB3aGVyZTogZnVuY3Rpb24gd2hlcmUoZW50cnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdRdW90ZS4ka2V5IGVxIFwiJyArIGVudHJ5LiRrZXkgKyAnXCInO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHZpZXc6ICdxdW90ZV9saW5lc19yZWxhdGVkJyxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdBdHRhY2htZW50cycsXHJcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmF0dGFjaG1lbnRzVGV4dCxcclxuICAgICAgICAgICAgd2hlcmU6IGZ1bmN0aW9uIHdoZXJlKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICdxdW90ZUlkIGVxIFwiJyArIGVudHJ5LiRrZXkgKyAnXCInO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2aWV3OiAncXVvdGVfYXR0YWNobWVudHNfcmVsYXRlZCcsXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdRdW90ZVBlcnNvbnMnLFxyXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5zYWxlc1BlcnNvbnNUZXh0LFxyXG4gICAgICAgICAgICB3aGVyZTogZnVuY3Rpb24gd2hlcmUoZW50cnkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gJ1F1b3RlLklkIGVxIFwiJyArIGVudHJ5LiRrZXkgKyAnXCInO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2aWV3OiAncXVvdGVwZXJzb25zX3JlbGF0ZWQnLFxyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBuYW1lOiAnU3luY0hpc3RvcnknLFxyXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5zeW5jSGlzdG9yeVRleHQsXHJcbiAgICAgICAgICAgIHdoZXJlOiAoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gYEVudGl0eVR5cGUgZXEgXCJRdW90ZVwiIGFuZCBFbnRpdHlJZCBlcSBcIiR7ZW50cnkuJGtleX1cImA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZpZXc6ICdxdW90ZV9zeW5jcmVzdWx0X3JlbGF0ZWQnLFxyXG4gICAgICAgICAgfV0sXHJcbiAgICAgIH1dKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmxhbmcuc2V0T2JqZWN0KCdpY2JvZS5WaWV3cy5RdW90ZXMuRGV0YWlsJywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
