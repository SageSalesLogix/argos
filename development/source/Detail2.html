<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Activity/Detail', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', 'argos/Utility', 'argos/Convert', 'argos/Detail', '../../Template', '../../Format', '../../Environment', '../../Recurrence', '../../Utility', '../../Models/Names', 'argos/I18n', 'dojo/Deferred'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoString, _argosUtility, _argosConvert, _argosDetail, _Template, _Format, _Environment, _Recurrence, _Utility, _ModelsNames, _argosI18n, _dojoDeferred) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _string = _interopRequireDefault(_dojoString);

  var _platformUtility = _interopRequireDefault(_argosUtility);

  var _convert = _interopRequireDefault(_argosConvert);

  var _Detail = _interopRequireDefault(_argosDetail);

  var _template = _interopRequireDefault(_Template);

  var _format = _interopRequireDefault(_Format);

  var _environment = _interopRequireDefault(_Environment);

  var _recur = _interopRequireDefault(_Recurrence);

  var _utility = _interopRequireDefault(_Utility);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var _getResource = _interopRequireDefault(_argosI18n);

  var _Deferred = _interopRequireDefault(_dojoDeferred);

  var resource = (0, _getResource['default'])('activityDetail');

<span id='crm-Views-Activity-Detail'>  /**
</span>   * @class crm.Views.Activity.Detail
   *
   *
   * @extends argos.Detail
   * @mixins argos.Detail
   *
   * @requires argos.Detail
   * @requires argos.Utility
   * @requires argos.Convert
   * @requires crm.Format
   * @requires crm.Template
   * @requires crm.Environment
   * @requires crm.Recurrence
   * @requires crm.Utility
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Activity.Detail', [_Detail['default']], {
    // Localization
    actionsText: resource.actionsText,
    completeActivityText: resource.completeActivityText,
    completeOccurrenceText: resource.completeOccurrenceText,
    completeSeriesText: resource.completeSeriesText,
    locationText: resource.locationText,
    alarmText: resource.alarmText,
    alarmTimeText: resource.alarmTimeText,
    categoryText: resource.categoryText,
    durationText: resource.durationText,
    leaderText: resource.leaderText,
    longNotesText: resource.longNotesText,
    priorityText: resource.priorityText,
    regardingText: resource.regardingText,
    rolloverText: resource.rolloverText,
    startTimeText: resource.startTimeText,
    allDayText: resource.allDayText,
    timelessText: resource.timelessText,
    titleText: resource.titleText,
    typeText: resource.typeText,
    companyText: resource.companyText,
    leadText: resource.leadText,
    accountText: resource.accountText,
    contactText: resource.contactText,
    opportunityText: resource.opportunityText,
    ticketNumberText: resource.ticketNumberText,
    startDateFormatText: resource.startDateFormatText,
    timelessDateFormatText: resource.timelessDateFormatText,
    alarmDateFormatText: resource.alarmDateFormatText,
    recurrenceText: resource.recurrenceText,
    confirmEditRecurrenceText: resource.confirmEditRecurrenceText,
    relatedAttachmentText: resource.relatedAttachmentText,
    relatedAttachmentTitleText: resource.relatedAttachmentTitleText,
    relatedItemsText: resource.relatedItemsText,
    phoneText: resource.phoneText,
    moreDetailsText: resource.moreDetailsText,
    entityText: resource.entityText,
    activityTypeText: {
      'atToDo': resource.toDoText,
      'atPhoneCall': resource.phoneCallText,
      'atAppointment': resource.meetingText,
      'atLiterature': resource.literatureText,
      'atPersonal': resource.personalText
    },

    // View Properties
    id: 'activity_detail',
    completeView: 'activity_complete',
    editView: 'activity_edit',
    security: null, // 'Entities/Activity/View',
    enableOffline: true,
    resourceKind: 'activities',
    modelName: _MODEL_NAMES['default'].ACTIVITY,
    recurringActivityIdSeparator: ';',

    formatActivityType: function formatActivityType(val) {
      return this.activityTypeText[val] || val;
    },
    navigateToEditView: function navigateToEditView() {
      var _this = this;

      if (!this.isActivityRecurringSeries(this.entry)) {
        // normal activity
        this.onEditActivity(this.entry);
      } else {
        if (confirm(this.confirmEditRecurrenceText)) {
          // eslint-disable-line
          // edit series
          this.entry.recurrence.Leader = this.entry.Leader;
          this.onEditActivity(this.entry.recurrence);
        } else {
          // complete the occrence
          if (this.entry.RecurrenceState === 'rstOccurrence') {
            this.onEditActivity(this.entry);
          } else {
            // we need to resolve occurance
            this.getOccurance(this.entry).then(function (occurance) {
              if (occurance) {
                if (_this.entry.Leader) {
                  occurance.Leader = _this.entry.Leader;
                }
                _this.onEditActivity(occurance);
              }
            });
          }
        }
      }
    },
    getOccurance: function getOccurance(entry) {
      var def = new _Deferred['default']();
      var key = entry.$key;
      // Check to ensure we have a composite key (meaning we have the occurance, not the master)
      if (this.isActivityRecurring(entry) &amp;&amp; key.split(this.recurringActivityIdSeparator).length !== 2) {
        // Fetch the occurance, and continue on to the complete screen
        var request = new Sage.SData.Client.SDataResourceCollectionRequest(this.getService()).setResourceKind('activities').setContractName('system').setQueryArg('where', &quot;id eq '&quot; + key + &quot;'&quot;).setCount(1);

        request.read({
          success: function success(feed) {
            if (feed &amp;&amp; feed.$resources &amp;&amp; feed.$resources.length &gt; 0) {
              def.resolve(feed.$resources[0]);
            }
            def.reject();
          },
          scope: this
        });
      } else {
        def.reject();
      }
      return def.promise;
    },
    onEditActivity: function onEditActivity(entry) {
      var view = App.getView(this.editView);
      if (view) {
        view.show({
          entry: entry
        });
      }
    },
    navigateToCompleteView: function navigateToCompleteView(completionTitle, isSeries) {
      var view = App.getView(this.completeView);

      if (view) {
        _environment['default'].refreshActivityLists();
        var options = {
          title: completionTitle,
          template: {}
        };

        if (isSeries) {
          this.entry.recurrence.Leader = this.entry.Leader;
          options.entry = this.entry.recurrence;
        } else {
          options.entry = this.entry;
        }

        view.show(options, {
          returnTo: -1
        });
      }
    },
    completeActivity: function completeActivity() {
      this.navigateToCompleteView(this.completeActivityText);
    },
    completeOccurrence: function completeOccurrence() {
      var entry = this.entry;
      var key = entry.$key;

      // Check to ensure we have a composite key (meaning we have the occurance, not the master)
      if (this.isActivityRecurring(entry) &amp;&amp; key.split(this.recurringActivityIdSeparator).length !== 2) {
        // Fetch the occurance, and continue on to the complete screen
        var request = new Sage.SData.Client.SDataResourceCollectionRequest(this.getService()).setResourceKind('activities').setContractName('system').setQueryArg('where', &quot;id eq '&quot; + key + &quot;'&quot;).setCount(1);

        request.read({
          success: this.processOccurance,
          scope: this
        });
      } else {
        this.navigateToCompleteView(this.completeOccurrenceText);
      }
    },
    processOccurance: function processOccurance(feed) {
      if (feed &amp;&amp; feed.$resources &amp;&amp; feed.$resources.length &gt; 0) {
        if (this.entry.Leader) {
          feed.$resources[0].Leader = this.entry.Leader;
        }
        this.entry = feed.$resources[0];
        this.navigateToCompleteView(this.completeOccurrenceText);
      }
    },
    completeSeries: function completeSeries() {
      this.navigateToCompleteView(this.completeSeriesText, true);
    },
    isActivityRecurring: function isActivityRecurring(entry) {
      return entry &amp;&amp; (entry.Recurring || entry.RecurrenceState === 'rstOccurrence');
    },
    isActivityRecurringSeries: function isActivityRecurringSeries(entry) {
      return this.isActivityRecurring(entry) &amp;&amp; !_recur['default'].isAfterCompletion(entry.RecurPeriod);
    },
    isActivityForLead: function isActivityForLead(entry) {
      return entry &amp;&amp; /^[\w]{12}$/.test(entry.LeadId);
    },
    isActivityTimeless: function isActivityTimeless(entry) {
      return entry &amp;&amp; _convert['default'].toBoolean(entry.Timeless);
    },
    doesActivityHaveReminder: function doesActivityHaveReminder(entry) {
      return _convert['default'].toBoolean(entry &amp;&amp; entry.Alarm);
    },
    checkCanComplete: function checkCanComplete(entry) {
      return !(entry &amp;&amp; entry.AllowComplete);
    },
    formatRelatedQuery: function formatRelatedQuery(entry, fmt, property) {
      var toReturn = undefined;
      if (property === 'activityId') {
        toReturn = _string['default'].substitute(fmt, [_utility['default'].getRealActivityId(entry.$key)]);
      } else {
        var theProperty = property || '$key';
        toReturn = _string['default'].substitute(fmt, [_platformUtility['default'].getValue(entry, theProperty, '')]);
      }
      return toReturn;
    },
    createLayout: function createLayout() {
      return this.layout || (this.layout = [{
        list: true,
        title: this.actionsText,
        cls: 'action-list',
        name: 'QuickActionsSection',
        children: [{
          name: 'CompleteActivityAction',
          property: 'Description',
          label: this.completeActivityText,
          iconClass: 'fa fa-check-square fa-lg',
          action: 'completeActivity',
          disabled: this.checkCanComplete.bind(this),
          exclude: this.isActivityRecurringSeries.bind(this)
        }, {
          name: 'completeOccurrenceAction',
          property: 'StartDate',
          label: this.completeOccurrenceText,
          iconClass: 'fa fa-check-square fa-lg',
          action: 'completeOccurrence',
          disabled: this.checkCanComplete.bind(this),
          renderer: _format['default'].date.bindDelegate(this, this.startDateFormatText, false),
          include: this.isActivityRecurringSeries.bind(this)
        }, {
          name: 'completeSeriesAction',
          property: 'Description',
          label: this.completeSeriesText,
          iconClass: 'fa fa-check-square fa-lg',
          action: 'completeSeries',
          disabled: this.checkCanComplete.bind(this),
          include: this.isActivityRecurringSeries.bind(this)
        }]
      }, {
        title: this.detailsText,
        name: 'DetailsSection',
        children: [{
          name: 'Description',
          property: 'Description',
          label: this.regardingText
        }, {
          name: 'LongNotes',
          property: 'LongNotes',
          label: this.longNotesText
        }, {
          name: 'ContactName',
          property: 'ContactName',
          exclude: this.isActivityForLead.bind(this),
          label: this.contactText,
          view: 'contact_detail',
          key: 'ContactId',
          descriptor: 'ContactName'
        }, {
          name: 'PhoneNumber',
          property: 'PhoneNumber',
          label: this.phoneText,
          renderer: _format['default'].phone.bindDelegate(this, true)
        }]
      }, {
        title: this.moreDetailsText,
        name: 'MoreDetailsSection',
        collapsed: true,
        children: [{
          name: 'Type',
          property: 'Type',
          label: this.typeText,
          renderer: this.formatActivityType.bindDelegate(this)
        }, {
          name: 'Category',
          property: 'Category',
          label: this.categoryText
        }, {
          name: 'Location',
          property: 'Location',
          label: this.locationText
        }, {
          name: 'Priority',
          property: 'Priority',
          label: this.priorityText
        }, {
          name: 'Leader',
          property: 'Leader.UserInfo',
          label: this.leaderText,
          template: _template['default'].nameLF
        }, {
          name: 'AccountName',
          property: 'AccountName',
          exclude: this.isActivityForLead.bind(this),
          label: this.accountText,
          view: 'account_detail',
          key: 'AccountId',
          descriptor: 'AccountName'
        }, {
          name: 'OpportunityName',
          property: 'OpportunityName',
          exclude: this.isActivityForLead.bind(this),
          label: this.opportunityText,
          view: 'opportunity_detail',
          key: 'OpportunityId',
          descriptor: 'OpportunityName'
        }, {
          name: 'TicketNumber',
          property: 'TicketNumber',
          exclude: this.isActivityForLead.bind(this),
          label: this.ticketNumberText,
          view: 'ticket_detail',
          key: 'TicketId',
          descriptor: 'TicketNumber'
        }, {
          name: 'LeadName',
          property: 'LeadName',
          include: this.isActivityForLead.bind(this),
          label: this.leadText,
          view: 'lead_detail',
          key: 'LeadId',
          descriptor: 'LeadName'
        }, {
          name: 'AccountName',
          property: 'AccountName',
          include: this.isActivityForLead.bind(this),
          label: this.companyText
        }, {
          name: 'StartDate',
          property: 'StartDate',
          label: this.startTimeText,
          renderer: _format['default'].date.bindDelegate(this, this.startDateFormatText, false),
          exclude: this.isActivityTimeless.bind(this)
        }, {
          name: 'StartDateTimeless',
          property: 'StartDate',
          label: this.allDayText,
          renderer: _format['default'].date.bindDelegate(this, this.timelessDateFormatText, true),
          include: this.isActivityTimeless.bind(this)
        }, {
          name: 'Timeless',
          property: 'Timeless',
          label: this.timelessText,
          type: 'boolean',
          include: false
        }, {
          name: 'Duration',
          property: 'Duration',
          label: this.durationText,
          renderer: _format['default'].timespan,
          exclude: this.isActivityTimeless.bind(this)
        }, {
          name: 'Alarm',
          property: 'Alarm',
          label: this.alarmText,
          renderer: _format['default'].yesNo,
          exclude: this.doesActivityHaveReminder.bind(this)
        }, {
          name: 'AlarmTime',
          property: 'AlarmTime',
          label: this.alarmTimeText,
          renderer: _format['default'].date.bindDelegate(this, this.alarmDateFormatText, null, true),
          include: this.doesActivityHaveReminder.bind(this)
        }, {
          name: 'Rollover',
          property: 'Rollover',
          label: this.rolloverText,
          include: this.isActivityTimeless.bind(this),
          renderer: _format['default'].yesNo
        }, {
          name: 'RecurrenceUI',
          property: 'recurrence',
          label: this.recurrenceText,
          include: this.isActivityRecurring.bind(this),
          renderer: function renderRecurrence(value) {
            return _recur['default'].toString(value);
          }
        }]
      }, {
        title: this.relatedItemsText,
        list: true,
        name: 'RelatedItemsSection',
        children: [{
          name: 'AttachmentRelated',
          label: this.relatedAttachmentText,
          where: this.formatRelatedQuery.bindDelegate(this, 'activityId eq &quot;${0}&quot;', 'activityId'), // must be lower case because of feed
          view: 'activity_attachment_related',
          title: this.relatedAttachmentTitleText
        }]
      }]);
    },
    getOfflineIcon: function getOfflineIcon() {
      var model = this.getModel();
      return model.getIconClass(this.entry);
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Activity.Detail', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9BY3Rpdml0eS9EZXRhaWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGdCQUFnQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQi9DLE1BQU0sT0FBTyxHQUFHLHlCQUFRLDJCQUEyQixFQUFFLG9CQUFRLEVBQUU7O0FBRTdELGVBQVcsRUFBRSxRQUFRLENBQUMsV0FBVztBQUNqQyx3QkFBb0IsRUFBRSxRQUFRLENBQUMsb0JBQW9CO0FBQ25ELDBCQUFzQixFQUFFLFFBQVEsQ0FBQyxzQkFBc0I7QUFDdkQsc0JBQWtCLEVBQUUsUUFBUSxDQUFDLGtCQUFrQjtBQUMvQyxnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3QixpQkFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO0FBQ3JDLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxjQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7QUFDL0IsaUJBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtBQUNyQyxnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLGlCQUFhLEVBQUUsUUFBUSxDQUFDLGFBQWE7QUFDckMsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxpQkFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO0FBQ3JDLGNBQVUsRUFBRSxRQUFRLENBQUMsVUFBVTtBQUMvQixnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3QixZQUFRLEVBQUUsUUFBUSxDQUFDLFFBQVE7QUFDM0IsZUFBVyxFQUFFLFFBQVEsQ0FBQyxXQUFXO0FBQ2pDLFlBQVEsRUFBRSxRQUFRLENBQUMsUUFBUTtBQUMz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QztLQUNMO0FBQ0Qsa0JBQWMsRUFBRSxTQUFTLGNBQWMsR0FBRztBQUN4QyxVQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDOUIsYUFBTyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN2QztHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMseUNBQXlDLEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQ3BELE9BQU8iLCJmaWxlIjoic3JjL1ZpZXdzL0FjdGl2aXR5L0RldGFpbC5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IHBsYXRmb3JtVXRpbGl0eSBmcm9tICdhcmdvcy9VdGlsaXR5JztcclxuaW1wb3J0IGNvbnZlcnQgZnJvbSAnYXJnb3MvQ29udmVydCc7XHJcbmltcG9ydCBEZXRhaWwgZnJvbSAnYXJnb3MvRGV0YWlsJztcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4uLy4uL1RlbXBsYXRlJztcclxuaW1wb3J0IGZvcm1hdCBmcm9tICcuLi8uLi9Gb3JtYXQnO1xyXG5pbXBvcnQgZW52aXJvbm1lbnQgZnJvbSAnLi4vLi4vRW52aXJvbm1lbnQnO1xyXG5pbXBvcnQgcmVjdXIgZnJvbSAnLi4vLi4vUmVjdXJyZW5jZSc7XHJcbmltcG9ydCB1dGlsaXR5IGZyb20gJy4uLy4uL1V0aWxpdHknO1xyXG5pbXBvcnQgTU9ERUxfTkFNRVMgZnJvbSAnLi4vLi4vTW9kZWxzL05hbWVzJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5pbXBvcnQgRGVmZXJyZWQgZnJvbSAnZG9qby9EZWZlcnJlZCc7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY3Rpdml0eURldGFpbCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuQWN0aXZpdHkuRGV0YWlsXHJcbiAqXHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkRldGFpbFxyXG4gKiBAbWl4aW5zIGFyZ29zLkRldGFpbFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgYXJnb3MuRGV0YWlsXHJcbiAqIEByZXF1aXJlcyBhcmdvcy5VdGlsaXR5XHJcbiAqIEByZXF1aXJlcyBhcmdvcy5Db252ZXJ0XHJcbiAqIEByZXF1aXJlcyBjcm0uRm9ybWF0XHJcbiAqIEByZXF1aXJlcyBjcm0uVGVtcGxhdGVcclxuICogQHJlcXVpcmVzIGNybS5FbnZpcm9ubWVudFxyXG4gKiBAcmVxdWlyZXMgY3JtLlJlY3VycmVuY2VcclxuICogQHJlcXVpcmVzIGNybS5VdGlsaXR5XHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLkFjdGl2aXR5LkRldGFpbCcsIFtEZXRhaWxdLCB7XHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgYWN0aW9uc1RleHQ6IHJlc291cmNlLmFjdGlvbnNUZXh0LFxyXG4gIGNvbXBsZXRlQWN0aXZpdHlUZXh0OiByZXNvdXJjZS5jb21wbGV0ZUFjdGl2aXR5VGV4dCxcclxuICBjb21wbGV0ZU9jY3VycmVuY2VUZXh0OiByZXNvdXJjZS5jb21wbGV0ZU9jY3VycmVuY2VUZXh0LFxyXG4gIGNvbXBsZXRlU2VyaWVzVGV4dDogcmVzb3VyY2UuY29tcGxldGVTZXJpZXNUZXh0LFxyXG4gIGxvY2F0aW9uVGV4dDogcmVzb3VyY2UubG9jYXRpb25UZXh0LFxyXG4gIGFsYXJtVGV4dDogcmVzb3VyY2UuYWxhcm1UZXh0LFxyXG4gIGFsYXJtVGltZVRleHQ6IHJlc291cmNlLmFsYXJtVGltZVRleHQsXHJcbiAgY2F0ZWdvcnlUZXh0OiByZXNvdXJjZS5jYXRlZ29yeVRleHQsXHJcbiAgZHVyYXRpb25UZXh0OiByZXNvdXJjZS5kdXJhdGlvblRleHQsXHJcbiAgbGVhZGVyVGV4dDogcmVzb3VyY2UubGVhZGVyVGV4dCxcclxuICBsb25nTm90ZXNUZXh0OiByZXNvdXJjZS5sb25nTm90ZXNUZXh0LFxyXG4gIHByaW9yaXR5VGV4dDogcmVzb3VyY2UucHJpb3JpdHlUZXh0LFxyXG4gIHJlZ2FyZGluZ1RleHQ6IHJlc291cmNlLnJlZ2FyZGluZ1RleHQsXHJcbiAgcm9sbG92ZXJUZXh0OiByZXNvdXJjZS5yb2xsb3ZlclRleHQsXHJcbiAgc3RhcnRUaW1lVGV4dDogcmVzb3VyY2Uuc3RhcnRUaW1lVGV4dCxcclxuICBhbGxEYXlUZXh0OiByZXNvdXJjZS5hbGxEYXlUZXh0LFxyXG4gIHRpbWVsZXNzVGV4dDogcmVzb3VyY2UudGltZWxlc3NUZXh0LFxyXG4gIHRpdGxlVGV4dDogcmVzb3VyY2UudGl0bGVUZXh0LFxyXG4gIHR5cGVUZXh0OiByZXNvdXJjZS50eXBlVGV4dCxcclxuICBjb21wYW55VGV4dDogcmVzb3VyY2UuY29tcGFueVRleHQsXHJcbiAgbGVhZFRleHQ6IHJlc291cmNlLmxlYWRUZXh0LFxyXG4gIGFjY291bnRUZXh0OiByZXNvdXJjZS5hY2NvdW50VGV4dCxcclxuICBjb250YWN0VGV4dDogcmVzb3VyY2UuY29udGFjdFRleHQsXHJcbiAgb3Bwb3J0dW5pdHlUZXh0OiByZXNvdXJjZS5vcHBvcnR1bml0eVRleHQsXHJcbiAgdGlja2V0TnVtYmVyVGV4dDogcmVzb3VyY2UudGlja2V0TnVtYmVyVGV4dCxcclxuICBzdGFydERhdGVGb3JtYXRUZXh0OiByZXNvdXJjZS5zdGFydERhdGVGb3JtYXRUZXh0LFxyXG4gIHRpbWVsZXNzRGF0ZUZvcm1hdFRleHQ6IHJlc291cmNlLnRpbWVsZXNzRGF0ZUZvcm1hdFRleHQsXHJcbiAgYWxhcm1EYXRlRm9ybWF0VGV4dDogcmVzb3VyY2UuYWxhcm1EYXRlRm9ybWF0VGV4dCxcclxuICByZWN1cnJlbmNlVGV4dDogcmVzb3VyY2UucmVjdXJyZW5jZVRleHQsXHJcbiAgY29uZmlybUVkaXRSZWN1cnJlbmNlVGV4dDogcmVzb3VyY2UuY29uZmlybUVkaXRSZWN1cnJlbmNlVGV4dCxcclxuICByZWxhdGVkQXR0YWNobWVudFRleHQ6IHJlc291cmNlLnJlbGF0ZWRBdHRhY2htZW50VGV4dCxcclxuICByZWxhdGVkQXR0YWNobWVudFRpdGxlVGV4dDogcmVzb3VyY2UucmVsYXRlZEF0dGFjaG1lbnRUaXRsZVRleHQsXHJcbiAgcmVsYXRlZEl0ZW1zVGV4dDogcmVzb3VyY2UucmVsYXRlZEl0ZW1zVGV4dCxcclxuICBwaG9uZVRleHQ6IHJlc291cmNlLnBob25lVGV4dCxcclxuICBtb3JlRGV0YWlsc1RleHQ6IHJlc291cmNlLm1vcmVEZXRhaWxzVGV4dCxcclxuICBlbnRpdHlUZXh0OiByZXNvdXJjZS5lbnRpdHlUZXh0LFxyXG4gIGFjdGl2aXR5VHlwZVRleHQ6IHtcclxuICAgICdhdFRvRG8nOiByZXNvdXJjZS50b0RvVGV4dCxcclxuICAgICdhdFBob25lQ2FsbCc6IHJlc291cmNlLnBob25lQ2FsbFRleHQsXHJcbiAgICAnYXRBcHBvaW50bWVudCc6IHJlc291cmNlLm1lZXRpbmdUZXh0LFxyXG4gICAgJ2F0TGl0ZXJhdHVyZSc6IHJlc291cmNlLmxpdGVyYXR1cmVUZXh0LFxyXG4gICAgJ2F0UGVyc29uYWwnOiByZXNvdXJjZS5wZXJzb25hbFRleHQsXHJcbiAgfSxcclxuXHJcbiAgLy8gVmlldyBQcm9wZXJ0aWVzXHJcbiAgaWQ6ICdhY3Rpdml0eV9kZXRhaWwnLFxyXG4gIGNvbXBsZXRlVmlldzogJ2FjdGl2aXR5X2NvbXBsZXRlJyxcclxuICBlZGl0VmlldzogJ2FjdGl2aXR5X2VkaXQnLFxyXG4gIHNlY3VyaXR5OiBudWxsLCAvLyAnRW50aXRpZXMvQWN0aXZpdHkvVmlldycsXHJcbiAgZW5hYmxlT2ZmbGluZTogdHJ1ZSxcclxuICByZXNvdXJjZUtpbmQ6ICdhY3Rpdml0aWVzJyxcclxuICBtb2RlbE5hbWU6IE1PREVMX05BTUVTLkFDVElWSVRZLFxyXG4gIHJlY3VycmluZ0FjdGl2aXR5SWRTZXBhcmF0b3I6ICc7JyxcclxuXHJcbiAgZm9ybWF0QWN0aXZpdHlUeXBlOiBmdW5jdGlvbiBmb3JtYXRBY3Rpdml0eVR5cGUodmFsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3Rpdml0eVR5cGVUZXh0W3ZhbF0gfHwgdmFsO1xyXG4gIH0sXHJcbiAgbmF2aWdhdGVUb0VkaXRWaWV3OiBmdW5jdGlvbiBuYXZpZ2F0ZVRvRWRpdFZpZXcoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNBY3Rpdml0eVJlY3VycmluZ1Nlcmllcyh0aGlzLmVudHJ5KSkge1xyXG4gICAgICAvLyBub3JtYWwgYWN0aXZpdHlcclxuICAgICAgdGhpcy5vbkVkaXRBY3Rpdml0eSh0aGlzLmVudHJ5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChjb25maXJtKHRoaXMuY29uZmlybUVkaXRSZWN1cnJlbmNlVGV4dCkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgLy8gZWRpdCBzZXJpZXNcclxuICAgICAgICB0aGlzLmVudHJ5LnJlY3VycmVuY2UuTGVhZGVyID0gdGhpcy5lbnRyeS5MZWFkZXI7XHJcbiAgICAgICAgdGhpcy5vbkVkaXRBY3Rpdml0eSh0aGlzLmVudHJ5LnJlY3VycmVuY2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbXBsZXRlIHRoZSBvY2NyZW5jZVxyXG4gICAgICAgIGlmICh0aGlzLmVudHJ5LlJlY3VycmVuY2VTdGF0ZSA9PT0gJ3JzdE9jY3VycmVuY2UnKSB7XHJcbiAgICAgICAgICB0aGlzLm9uRWRpdEFjdGl2aXR5KHRoaXMuZW50cnkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlc29sdmUgb2NjdXJhbmNlXHJcbiAgICAgICAgICB0aGlzLmdldE9jY3VyYW5jZSh0aGlzLmVudHJ5KS50aGVuKFxyXG4gICAgICAgICAgICAob2NjdXJhbmNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG9jY3VyYW5jZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW50cnkuTGVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9jY3VyYW5jZS5MZWFkZXIgPSB0aGlzLmVudHJ5LkxlYWRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub25FZGl0QWN0aXZpdHkob2NjdXJhbmNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZ2V0T2NjdXJhbmNlOiBmdW5jdGlvbiBnZXRPY2N1cmFuY2UoZW50cnkpIHtcclxuICAgIGNvbnN0IGRlZiA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgY29uc3Qga2V5ID0gZW50cnkuJGtleTtcclxuICAgIC8vIENoZWNrIHRvIGVuc3VyZSB3ZSBoYXZlIGEgY29tcG9zaXRlIGtleSAobWVhbmluZyB3ZSBoYXZlIHRoZSBvY2N1cmFuY2UsIG5vdCB0aGUgbWFzdGVyKVxyXG4gICAgaWYgKHRoaXMuaXNBY3Rpdml0eVJlY3VycmluZyhlbnRyeSkgJiYga2V5LnNwbGl0KHRoaXMucmVjdXJyaW5nQWN0aXZpdHlJZFNlcGFyYXRvcilcclxuICAgICAgLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAvLyBGZXRjaCB0aGUgb2NjdXJhbmNlLCBhbmQgY29udGludWUgb24gdG8gdGhlIGNvbXBsZXRlIHNjcmVlblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFNhZ2UuU0RhdGEuQ2xpZW50LlNEYXRhUmVzb3VyY2VDb2xsZWN0aW9uUmVxdWVzdCh0aGlzLmdldFNlcnZpY2UoKSlcclxuICAgICAgICAuc2V0UmVzb3VyY2VLaW5kKCdhY3Rpdml0aWVzJylcclxuICAgICAgICAuc2V0Q29udHJhY3ROYW1lKCdzeXN0ZW0nKVxyXG4gICAgICAgIC5zZXRRdWVyeUFyZygnd2hlcmUnLCBcImlkIGVxICdcIiArIGtleSArIFwiJ1wiKVxyXG4gICAgICAgIC5zZXRDb3VudCgxKTtcclxuXHJcbiAgICAgIHJlcXVlc3QucmVhZCh7XHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhmZWVkKSB7XHJcbiAgICAgICAgICBpZiAoZmVlZCAmJiBmZWVkLiRyZXNvdXJjZXMgJiYgZmVlZC4kcmVzb3VyY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZGVmLnJlc29sdmUoZmVlZC4kcmVzb3VyY2VzWzBdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRlZi5yZWplY3QoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjb3BlOiB0aGlzLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlZi5yZWplY3QoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWYucHJvbWlzZTtcclxuICB9LFxyXG4gIG9uRWRpdEFjdGl2aXR5OiBmdW5jdGlvbiBvbkVkaXRBY3Rpdml0eShlbnRyeSkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHRoaXMuZWRpdFZpZXcpO1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdmlldy5zaG93KHtcclxuICAgICAgICBlbnRyeTogZW50cnksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbmF2aWdhdGVUb0NvbXBsZXRlVmlldzogZnVuY3Rpb24gbmF2aWdhdGVUb0NvbXBsZXRlVmlldyhjb21wbGV0aW9uVGl0bGUsIGlzU2VyaWVzKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcodGhpcy5jb21wbGV0ZVZpZXcpO1xyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGVudmlyb25tZW50LnJlZnJlc2hBY3Rpdml0eUxpc3RzKCk7XHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgdGl0bGU6IGNvbXBsZXRpb25UaXRsZSxcclxuICAgICAgICB0ZW1wbGF0ZToge30sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoaXNTZXJpZXMpIHtcclxuICAgICAgICB0aGlzLmVudHJ5LnJlY3VycmVuY2UuTGVhZGVyID0gdGhpcy5lbnRyeS5MZWFkZXI7XHJcbiAgICAgICAgb3B0aW9ucy5lbnRyeSA9IHRoaXMuZW50cnkucmVjdXJyZW5jZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zLmVudHJ5ID0gdGhpcy5lbnRyeTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmlldy5zaG93KG9wdGlvbnMsIHtcclxuICAgICAgICByZXR1cm5UbzogLTEsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tcGxldGVBY3Rpdml0eTogZnVuY3Rpb24gY29tcGxldGVBY3Rpdml0eSgpIHtcclxuICAgIHRoaXMubmF2aWdhdGVUb0NvbXBsZXRlVmlldyh0aGlzLmNvbXBsZXRlQWN0aXZpdHlUZXh0KTtcclxuICB9LFxyXG4gIGNvbXBsZXRlT2NjdXJyZW5jZTogZnVuY3Rpb24gY29tcGxldGVPY2N1cnJlbmNlKCkge1xyXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudHJ5O1xyXG4gICAgY29uc3Qga2V5ID0gZW50cnkuJGtleTtcclxuXHJcbiAgICAvLyBDaGVjayB0byBlbnN1cmUgd2UgaGF2ZSBhIGNvbXBvc2l0ZSBrZXkgKG1lYW5pbmcgd2UgaGF2ZSB0aGUgb2NjdXJhbmNlLCBub3QgdGhlIG1hc3RlcilcclxuICAgIGlmICh0aGlzLmlzQWN0aXZpdHlSZWN1cnJpbmcoZW50cnkpICYmIGtleS5zcGxpdCh0aGlzLnJlY3VycmluZ0FjdGl2aXR5SWRTZXBhcmF0b3IpXHJcbiAgICAgIC5sZW5ndGggIT09IDIpIHtcclxuICAgICAgLy8gRmV0Y2ggdGhlIG9jY3VyYW5jZSwgYW5kIGNvbnRpbnVlIG9uIHRvIHRoZSBjb21wbGV0ZSBzY3JlZW5cclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVJlc291cmNlQ29sbGVjdGlvblJlcXVlc3QodGhpcy5nZXRTZXJ2aWNlKCkpXHJcbiAgICAgICAgLnNldFJlc291cmNlS2luZCgnYWN0aXZpdGllcycpXHJcbiAgICAgICAgLnNldENvbnRyYWN0TmFtZSgnc3lzdGVtJylcclxuICAgICAgICAuc2V0UXVlcnlBcmcoJ3doZXJlJywgXCJpZCBlcSAnXCIgKyBrZXkgKyBcIidcIilcclxuICAgICAgICAuc2V0Q291bnQoMSk7XHJcblxyXG4gICAgICByZXF1ZXN0LnJlYWQoe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRoaXMucHJvY2Vzc09jY3VyYW5jZSxcclxuICAgICAgICBzY29wZTogdGhpcyxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5hdmlnYXRlVG9Db21wbGV0ZVZpZXcodGhpcy5jb21wbGV0ZU9jY3VycmVuY2VUZXh0KTtcclxuICAgIH1cclxuICB9LFxyXG4gIHByb2Nlc3NPY2N1cmFuY2U6IGZ1bmN0aW9uIHByb2Nlc3NPY2N1cmFuY2UoZmVlZCkge1xyXG4gICAgaWYgKGZlZWQgJiYgZmVlZC4kcmVzb3VyY2VzICYmIGZlZWQuJHJlc291cmNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGlmICh0aGlzLmVudHJ5LkxlYWRlcikge1xyXG4gICAgICAgIGZlZWQuJHJlc291cmNlc1swXS5MZWFkZXIgPSB0aGlzLmVudHJ5LkxlYWRlcjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVudHJ5ID0gZmVlZC4kcmVzb3VyY2VzWzBdO1xyXG4gICAgICB0aGlzLm5hdmlnYXRlVG9Db21wbGV0ZVZpZXcodGhpcy5jb21wbGV0ZU9jY3VycmVuY2VUZXh0KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNvbXBsZXRlU2VyaWVzOiBmdW5jdGlvbiBjb21wbGV0ZVNlcmllcygpIHtcclxuICAgIHRoaXMubmF2aWdhdGVUb0NvbXBsZXRlVmlldyh0aGlzLmNvbXBsZXRlU2VyaWVzVGV4dCwgdHJ1ZSk7XHJcbiAgfSxcclxuICBpc0FjdGl2aXR5UmVjdXJyaW5nOiBmdW5jdGlvbiBpc0FjdGl2aXR5UmVjdXJyaW5nKGVudHJ5KSB7XHJcbiAgICByZXR1cm4gZW50cnkgJiYgKGVudHJ5LlJlY3VycmluZyB8fCBlbnRyeS5SZWN1cnJlbmNlU3RhdGUgPT09ICdyc3RPY2N1cnJlbmNlJyk7XHJcbiAgfSxcclxuICBpc0FjdGl2aXR5UmVjdXJyaW5nU2VyaWVzOiBmdW5jdGlvbiBpc0FjdGl2aXR5UmVjdXJyaW5nU2VyaWVzKGVudHJ5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc0FjdGl2aXR5UmVjdXJyaW5nKGVudHJ5KSAmJiAhcmVjdXIuaXNBZnRlckNvbXBsZXRpb24oZW50cnkuUmVjdXJQZXJpb2QpO1xyXG4gIH0sXHJcbiAgaXNBY3Rpdml0eUZvckxlYWQ6IGZ1bmN0aW9uIGlzQWN0aXZpdHlGb3JMZWFkKGVudHJ5KSB7XHJcbiAgICByZXR1cm4gZW50cnkgJiYgL15bXFx3XXsxMn0kLy50ZXN0KGVudHJ5LkxlYWRJZCk7XHJcbiAgfSxcclxuICBpc0FjdGl2aXR5VGltZWxlc3M6IGZ1bmN0aW9uIGlzQWN0aXZpdHlUaW1lbGVzcyhlbnRyeSkge1xyXG4gICAgcmV0dXJuIGVudHJ5ICYmIGNvbnZlcnQudG9Cb29sZWFuKGVudHJ5LlRpbWVsZXNzKTtcclxuICB9LFxyXG4gIGRvZXNBY3Rpdml0eUhhdmVSZW1pbmRlcjogZnVuY3Rpb24gZG9lc0FjdGl2aXR5SGF2ZVJlbWluZGVyKGVudHJ5KSB7XHJcbiAgICByZXR1cm4gY29udmVydC50b0Jvb2xlYW4oZW50cnkgJiYgZW50cnkuQWxhcm0pO1xyXG4gIH0sXHJcbiAgY2hlY2tDYW5Db21wbGV0ZTogZnVuY3Rpb24gY2hlY2tDYW5Db21wbGV0ZShlbnRyeSkge1xyXG4gICAgcmV0dXJuICEoZW50cnkgJiYgKGVudHJ5LkFsbG93Q29tcGxldGUpKTtcclxuICB9LFxyXG4gIGZvcm1hdFJlbGF0ZWRRdWVyeTogZnVuY3Rpb24gZm9ybWF0UmVsYXRlZFF1ZXJ5KGVudHJ5LCBmbXQsIHByb3BlcnR5KSB7XHJcbiAgICBsZXQgdG9SZXR1cm47XHJcbiAgICBpZiAocHJvcGVydHkgPT09ICdhY3Rpdml0eUlkJykge1xyXG4gICAgICB0b1JldHVybiA9IHN0cmluZy5zdWJzdGl0dXRlKGZtdCwgW3V0aWxpdHkuZ2V0UmVhbEFjdGl2aXR5SWQoZW50cnkuJGtleSldKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHRoZVByb3BlcnR5ID0gcHJvcGVydHkgfHwgJyRrZXknO1xyXG4gICAgICB0b1JldHVybiA9IHN0cmluZy5zdWJzdGl0dXRlKGZtdCwgW3BsYXRmb3JtVXRpbGl0eS5nZXRWYWx1ZShlbnRyeSwgdGhlUHJvcGVydHksICcnKV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvUmV0dXJuO1xyXG4gIH0sXHJcbiAgY3JlYXRlTGF5b3V0OiBmdW5jdGlvbiBjcmVhdGVMYXlvdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sYXlvdXQgfHwgKHRoaXMubGF5b3V0ID0gW3tcclxuICAgICAgbGlzdDogdHJ1ZSxcclxuICAgICAgdGl0bGU6IHRoaXMuYWN0aW9uc1RleHQsXHJcbiAgICAgIGNsczogJ2FjdGlvbi1saXN0JyxcclxuICAgICAgbmFtZTogJ1F1aWNrQWN0aW9uc1NlY3Rpb24nLFxyXG4gICAgICBjaGlsZHJlbjogW3tcclxuICAgICAgICBuYW1lOiAnQ29tcGxldGVBY3Rpdml0eUFjdGlvbicsXHJcbiAgICAgICAgcHJvcGVydHk6ICdEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuY29tcGxldGVBY3Rpdml0eVRleHQsXHJcbiAgICAgICAgaWNvbkNsYXNzOiAnZmEgZmEtY2hlY2stc3F1YXJlIGZhLWxnJyxcclxuICAgICAgICBhY3Rpb246ICdjb21wbGV0ZUFjdGl2aXR5JyxcclxuICAgICAgICBkaXNhYmxlZDogdGhpcy5jaGVja0NhbkNvbXBsZXRlLmJpbmQodGhpcyksXHJcbiAgICAgICAgZXhjbHVkZTogdGhpcy5pc0FjdGl2aXR5UmVjdXJyaW5nU2VyaWVzLmJpbmQodGhpcyksXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnY29tcGxldGVPY2N1cnJlbmNlQWN0aW9uJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ1N0YXJ0RGF0ZScsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuY29tcGxldGVPY2N1cnJlbmNlVGV4dCxcclxuICAgICAgICBpY29uQ2xhc3M6ICdmYSBmYS1jaGVjay1zcXVhcmUgZmEtbGcnLFxyXG4gICAgICAgIGFjdGlvbjogJ2NvbXBsZXRlT2NjdXJyZW5jZScsXHJcbiAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY2hlY2tDYW5Db21wbGV0ZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgIHJlbmRlcmVyOiBmb3JtYXQuZGF0ZS5iaW5kRGVsZWdhdGUodGhpcywgdGhpcy5zdGFydERhdGVGb3JtYXRUZXh0LCBmYWxzZSksXHJcbiAgICAgICAgaW5jbHVkZTogdGhpcy5pc0FjdGl2aXR5UmVjdXJyaW5nU2VyaWVzLmJpbmQodGhpcyksXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnY29tcGxldGVTZXJpZXNBY3Rpb24nLFxyXG4gICAgICAgIHByb3BlcnR5OiAnRGVzY3JpcHRpb24nLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmNvbXBsZXRlU2VyaWVzVGV4dCxcclxuICAgICAgICBpY29uQ2xhc3M6ICdmYSBmYS1jaGVjay1zcXVhcmUgZmEtbGcnLFxyXG4gICAgICAgIGFjdGlvbjogJ2NvbXBsZXRlU2VyaWVzJyxcclxuICAgICAgICBkaXNhYmxlZDogdGhpcy5jaGVja0NhbkNvbXBsZXRlLmJpbmQodGhpcyksXHJcbiAgICAgICAgaW5jbHVkZTogdGhpcy5pc0FjdGl2aXR5UmVjdXJyaW5nU2VyaWVzLmJpbmQodGhpcyksXHJcbiAgICAgIH1dLFxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogdGhpcy5kZXRhaWxzVGV4dCxcclxuICAgICAgbmFtZTogJ0RldGFpbHNTZWN0aW9uJyxcclxuICAgICAgY2hpbGRyZW46IFt7XHJcbiAgICAgICAgbmFtZTogJ0Rlc2NyaXB0aW9uJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0Rlc2NyaXB0aW9uJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5yZWdhcmRpbmdUZXh0LFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0xvbmdOb3RlcycsXHJcbiAgICAgICAgcHJvcGVydHk6ICdMb25nTm90ZXMnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmxvbmdOb3Rlc1RleHQsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnQ29udGFjdE5hbWUnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnQ29udGFjdE5hbWUnLFxyXG4gICAgICAgIGV4Y2x1ZGU6IHRoaXMuaXNBY3Rpdml0eUZvckxlYWQuYmluZCh0aGlzKSxcclxuICAgICAgICBsYWJlbDogdGhpcy5jb250YWN0VGV4dCxcclxuICAgICAgICB2aWV3OiAnY29udGFjdF9kZXRhaWwnLFxyXG4gICAgICAgIGtleTogJ0NvbnRhY3RJZCcsXHJcbiAgICAgICAgZGVzY3JpcHRvcjogJ0NvbnRhY3ROYW1lJyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdQaG9uZU51bWJlcicsXHJcbiAgICAgICAgcHJvcGVydHk6ICdQaG9uZU51bWJlcicsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMucGhvbmVUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmb3JtYXQucGhvbmUuYmluZERlbGVnYXRlKHRoaXMsIHRydWUpLFxyXG4gICAgICB9XSxcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6IHRoaXMubW9yZURldGFpbHNUZXh0LFxyXG4gICAgICBuYW1lOiAnTW9yZURldGFpbHNTZWN0aW9uJyxcclxuICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogW3tcclxuICAgICAgICBuYW1lOiAnVHlwZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdUeXBlJyxcclxuICAgICAgICBsYWJlbDogdGhpcy50eXBlVGV4dCxcclxuICAgICAgICByZW5kZXJlcjogdGhpcy5mb3JtYXRBY3Rpdml0eVR5cGUuYmluZERlbGVnYXRlKHRoaXMpLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0NhdGVnb3J5JyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0NhdGVnb3J5JyxcclxuICAgICAgICBsYWJlbDogdGhpcy5jYXRlZ29yeVRleHQsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnTG9jYXRpb24nLFxyXG4gICAgICAgIHByb3BlcnR5OiAnTG9jYXRpb24nLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmxvY2F0aW9uVGV4dCxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdQcmlvcml0eScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdQcmlvcml0eScsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMucHJpb3JpdHlUZXh0LFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0xlYWRlcicsXHJcbiAgICAgICAgcHJvcGVydHk6ICdMZWFkZXIuVXNlckluZm8nLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmxlYWRlclRleHQsXHJcbiAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLm5hbWVMRixcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdBY2NvdW50TmFtZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdBY2NvdW50TmFtZScsXHJcbiAgICAgICAgZXhjbHVkZTogdGhpcy5pc0FjdGl2aXR5Rm9yTGVhZC5iaW5kKHRoaXMpLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmFjY291bnRUZXh0LFxyXG4gICAgICAgIHZpZXc6ICdhY2NvdW50X2RldGFpbCcsXHJcbiAgICAgICAga2V5OiAnQWNjb3VudElkJyxcclxuICAgICAgICBkZXNjcmlwdG9yOiAnQWNjb3VudE5hbWUnLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ09wcG9ydHVuaXR5TmFtZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdPcHBvcnR1bml0eU5hbWUnLFxyXG4gICAgICAgIGV4Y2x1ZGU6IHRoaXMuaXNBY3Rpdml0eUZvckxlYWQuYmluZCh0aGlzKSxcclxuICAgICAgICBsYWJlbDogdGhpcy5vcHBvcnR1bml0eVRleHQsXHJcbiAgICAgICAgdmlldzogJ29wcG9ydHVuaXR5X2RldGFpbCcsXHJcbiAgICAgICAga2V5OiAnT3Bwb3J0dW5pdHlJZCcsXHJcbiAgICAgICAgZGVzY3JpcHRvcjogJ09wcG9ydHVuaXR5TmFtZScsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnVGlja2V0TnVtYmVyJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ1RpY2tldE51bWJlcicsXHJcbiAgICAgICAgZXhjbHVkZTogdGhpcy5pc0FjdGl2aXR5Rm9yTGVhZC5iaW5kKHRoaXMpLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLnRpY2tldE51bWJlclRleHQsXHJcbiAgICAgICAgdmlldzogJ3RpY2tldF9kZXRhaWwnLFxyXG4gICAgICAgIGtleTogJ1RpY2tldElkJyxcclxuICAgICAgICBkZXNjcmlwdG9yOiAnVGlja2V0TnVtYmVyJyxcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdMZWFkTmFtZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdMZWFkTmFtZScsXHJcbiAgICAgICAgaW5jbHVkZTogdGhpcy5pc0FjdGl2aXR5Rm9yTGVhZC5iaW5kKHRoaXMpLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmxlYWRUZXh0LFxyXG4gICAgICAgIHZpZXc6ICdsZWFkX2RldGFpbCcsXHJcbiAgICAgICAga2V5OiAnTGVhZElkJyxcclxuICAgICAgICBkZXNjcmlwdG9yOiAnTGVhZE5hbWUnLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0FjY291bnROYW1lJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0FjY291bnROYW1lJyxcclxuICAgICAgICBpbmNsdWRlOiB0aGlzLmlzQWN0aXZpdHlGb3JMZWFkLmJpbmQodGhpcyksXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuY29tcGFueVRleHQsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnU3RhcnREYXRlJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ1N0YXJ0RGF0ZScsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuc3RhcnRUaW1lVGV4dCxcclxuICAgICAgICByZW5kZXJlcjogZm9ybWF0LmRhdGUuYmluZERlbGVnYXRlKHRoaXMsIHRoaXMuc3RhcnREYXRlRm9ybWF0VGV4dCwgZmFsc2UpLFxyXG4gICAgICAgIGV4Y2x1ZGU6IHRoaXMuaXNBY3Rpdml0eVRpbWVsZXNzLmJpbmQodGhpcyksXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnU3RhcnREYXRlVGltZWxlc3MnLFxyXG4gICAgICAgIHByb3BlcnR5OiAnU3RhcnREYXRlJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5hbGxEYXlUZXh0LFxyXG4gICAgICAgIHJlbmRlcmVyOiBmb3JtYXQuZGF0ZS5iaW5kRGVsZWdhdGUodGhpcywgdGhpcy50aW1lbGVzc0RhdGVGb3JtYXRUZXh0LCB0cnVlKSxcclxuICAgICAgICBpbmNsdWRlOiB0aGlzLmlzQWN0aXZpdHlUaW1lbGVzcy5iaW5kKHRoaXMpLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ1RpbWVsZXNzJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ1RpbWVsZXNzJyxcclxuICAgICAgICBsYWJlbDogdGhpcy50aW1lbGVzc1RleHQsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgIGluY2x1ZGU6IGZhbHNlLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0R1cmF0aW9uJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0R1cmF0aW9uJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5kdXJhdGlvblRleHQsXHJcbiAgICAgICAgcmVuZGVyZXI6IGZvcm1hdC50aW1lc3BhbixcclxuICAgICAgICBleGNsdWRlOiB0aGlzLmlzQWN0aXZpdHlUaW1lbGVzcy5iaW5kKHRoaXMpLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0FsYXJtJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ0FsYXJtJyxcclxuICAgICAgICBsYWJlbDogdGhpcy5hbGFybVRleHQsXHJcbiAgICAgICAgcmVuZGVyZXI6IGZvcm1hdC55ZXNObyxcclxuICAgICAgICBleGNsdWRlOiB0aGlzLmRvZXNBY3Rpdml0eUhhdmVSZW1pbmRlci5iaW5kKHRoaXMpLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ0FsYXJtVGltZScsXHJcbiAgICAgICAgcHJvcGVydHk6ICdBbGFybVRpbWUnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLmFsYXJtVGltZVRleHQsXHJcbiAgICAgICAgcmVuZGVyZXI6IGZvcm1hdC5kYXRlLmJpbmREZWxlZ2F0ZSh0aGlzLCB0aGlzLmFsYXJtRGF0ZUZvcm1hdFRleHQsIG51bGwsIHRydWUpLFxyXG4gICAgICAgIGluY2x1ZGU6IHRoaXMuZG9lc0FjdGl2aXR5SGF2ZVJlbWluZGVyLmJpbmQodGhpcyksXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnUm9sbG92ZXInLFxyXG4gICAgICAgIHByb3BlcnR5OiAnUm9sbG92ZXInLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLnJvbGxvdmVyVGV4dCxcclxuICAgICAgICBpbmNsdWRlOiB0aGlzLmlzQWN0aXZpdHlUaW1lbGVzcy5iaW5kKHRoaXMpLFxyXG4gICAgICAgIHJlbmRlcmVyOiBmb3JtYXQueWVzTm8sXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnUmVjdXJyZW5jZVVJJyxcclxuICAgICAgICBwcm9wZXJ0eTogJ3JlY3VycmVuY2UnLFxyXG4gICAgICAgIGxhYmVsOiB0aGlzLnJlY3VycmVuY2VUZXh0LFxyXG4gICAgICAgIGluY2x1ZGU6IHRoaXMuaXNBY3Rpdml0eVJlY3VycmluZy5iaW5kKHRoaXMpLFxyXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiByZW5kZXJSZWN1cnJlbmNlKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVjdXIudG9TdHJpbmcodmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH1dLFxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogdGhpcy5yZWxhdGVkSXRlbXNUZXh0LFxyXG4gICAgICBsaXN0OiB0cnVlLFxyXG4gICAgICBuYW1lOiAnUmVsYXRlZEl0ZW1zU2VjdGlvbicsXHJcbiAgICAgIGNoaWxkcmVuOiBbe1xyXG4gICAgICAgIG5hbWU6ICdBdHRhY2htZW50UmVsYXRlZCcsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMucmVsYXRlZEF0dGFjaG1lbnRUZXh0LFxyXG4gICAgICAgIHdoZXJlOiB0aGlzLmZvcm1hdFJlbGF0ZWRRdWVyeS5iaW5kRGVsZWdhdGUodGhpcywgJ2FjdGl2aXR5SWQgZXEgXCIkezB9XCInLCAnYWN0aXZpdHlJZCcpLCAvLyBtdXN0IGJlIGxvd2VyIGNhc2UgYmVjYXVzZSBvZiBmZWVkXHJcbiAgICAgICAgdmlldzogJ2FjdGl2aXR5X2F0dGFjaG1lbnRfcmVsYXRlZCcsXHJcbiAgICAgICAgdGl0bGU6IHRoaXMucmVsYXRlZEF0dGFjaG1lbnRUaXRsZVRleHQsXHJcbiAgICAgIH1dLFxyXG4gICAgfV0pO1xyXG4gIH0sXHJcbiAgZ2V0T2ZmbGluZUljb246IGZ1bmN0aW9uIGdldE9mZmxpbmVJY29uKCkge1xyXG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XHJcbiAgICByZXR1cm4gbW9kZWwuZ2V0SWNvbkNsYXNzKHRoaXMuZW50cnkpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLkFjdGl2aXR5LkRldGFpbCcsIF9fY2xhc3MpO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
