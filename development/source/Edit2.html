<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Activity/Edit', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/_base/connect', 'dojo/_base/array', 'dojo/string', '../../Environment', '../../Validator', 'argos/Utility', 'argos/Edit', '../../Recurrence', 'argos/Format', 'argos/I18n', '../../Models/Names'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojo_baseConnect, _dojo_baseArray, _dojoString, _Environment, _Validator, _argosUtility, _argosEdit, _Recurrence, _argosFormat, _argosI18n, _ModelsNames) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _connect = _interopRequireDefault(_dojo_baseConnect);

  var _array = _interopRequireDefault(_dojo_baseArray);

  var _string = _interopRequireDefault(_dojoString);

  var _environment = _interopRequireDefault(_Environment);

  var _validator = _interopRequireDefault(_Validator);

  var _utility = _interopRequireDefault(_argosUtility);

  var _Edit = _interopRequireDefault(_argosEdit);

  var _recur = _interopRequireDefault(_Recurrence);

  var _format = _interopRequireDefault(_argosFormat);

  var _getResource = _interopRequireDefault(_argosI18n);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var resource = (0, _getResource['default'])('activityEdit');

<span id='crm-Views-Activity-Edit'>  /**
</span>   * @class crm.Views.Activity.Edit
   *
   * @extends argos.Edit
   *
   * @requires argos.Edit
   * @requires argos.Utility
   * @requires crm.Format
   * @requires crm.Validator
   * @requires crm.Template
   * @requires crm.Environment
   * @requires crm.Recurrence
   *
   * @requires moment
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Activity.Edit', [_Edit['default']], {
    // Localization
    activityCategoryTitleText: resource.activityCategoryTitleText,
    activityDescriptionTitleText: resource.activityDescriptionTitleText,
    locationText: resource.locationText,
    activityTypeTitleText: resource.activityTypeTitleText,
    alarmText: resource.alarmText,
    reminderText: resource.reminderText,
    categoryText: resource.categoryText,
    durationText: resource.durationText,
    durationTitleText: resource.durationTitleText,
    durationInvalidText: resource.durationInvalidText,
    reminderInvalidText: resource.reminderInvalidText,
    reminderTitleText: resource.reminderInvalidText,
    leaderText: resource.leaderText,
    longNotesText: resource.longNotesText,
    longNotesTitleText: resource.longNotesTitleText,
    priorityText: resource.priorityText,
    priorityTitleText: resource.priorityTitleText,
    regardingText: resource.regardingText,
    rolloverText: resource.rolloverText,
    startingText: resource.startingText,
    startingFormatText: resource.startingFormatText,
    startingTimelessFormatText: resource.startingTimelessFormatText,
    repeatsText: resource.repeatsText,
    recurringText: resource.recurringText,
    recurringTitleText: resource.recurringTitleText,
    timelessText: resource.timelessText,
    titleText: resource.titleText,
    typeText: resource.typeText,
    accountText: resource.accountText,
    contactText: resource.contactText,
    opportunityText: resource.opportunityText,
    ticketNumberText: resource.ticketNumberText,
    companyText: resource.companyText,
    leadText: resource.leadText,
    isLeadText: resource.isLeadText,
    yesText: resource.yesText,
    noText: resource.noText,
    phoneText: resource.phoneText,
    updateUserActErrorText: resource.updateUserActErrorText,
    reminderValueText: {
      0: resource.noneText,
      5: resource.fiveMinText,
      15: resource.quarterHourText,
      30: resource.halfHourText,
      60: resource.hourText,
      1440: resource.dayText
    },
    durationValueText: {
      0: resource.noneText,
      15: resource.quarterHourText,
      30: resource.halfHourText,
      60: resource.hourText,
      90: resource.hourAndHalfText,
      120: resource.twoHoursText
    },

<span id='crm-Views-Activity-Edit-property-ROUND_MINUTES'>    /**
</span>     * @property {Number}
     * The number of minutes that should be rounded to as a default start when creating a new activity
     */
    ROUND_MINUTES: 15,

    // View Properties
    id: 'activity_edit',
    detailView: 'activity_detail',
    fieldsForLeads: ['AccountName', 'Lead'],
    fieldsForStandard: ['Account', 'Contact', 'Opportunity', 'Ticket'],
    picklistsByType: {
      'atAppointment': {
        'Category': 'Meeting Category Codes',
        'Description': 'Meeting Regarding'
      },
      'atLiterature': {
        'Description': 'Lit Request Regarding'
      },
      'atPersonal': {
        'Category': 'Meeting Category Codes',
        'Description': 'Personal Activity Regarding'
      },
      'atPhoneCall': {
        'Category': 'Phone Call Category Codes',
        'Description': 'Phone Call Regarding'
      },
      'atToDo': {
        'Category': 'To Do Category Codes',
        'Description': 'To Do Regarding'
      },
      'atEMail': {
        'Category': 'E-mail Category Codes',
        'Description': 'E-mail Regarding'
      }
    },
    groupOptionsByType: {
      atToDo: 'ActivityToDoOptions',
      atPersonal: 'ActivityPersonalOptions',
      atPhoneCall: 'ActivityPhoneOptions',
      atAppointment: 'ActivityMeetingOptions'
    },

    entityName: 'Activity',
    modelName: _MODEL_NAMES['default'].ACTIVITY,
    insertSecurity: null, // 'Entities/Activity/Add',
    updateSecurity: null, // 'Entities/Activity/Edit',
    contractName: 'system',
    resourceKind: 'activities',
    recurrence: null,
    _previousRecurrence: null,

    init: function init() {
      this.inherited(arguments);

      this.recurrence = {
        RecurIterations: '0',
        RecurPeriod: '-1',
        RecurPeriodSpec: '0'
      };

      this.connect(this.fields.Lead, 'onChange', this.onLeadChange);
      this.connect(this.fields.IsLead, 'onChange', this.onIsLeadChange);
      this.connect(this.fields.Leader, 'onChange', this.onLeaderChange);
      this.connect(this.fields.Timeless, 'onChange', this.onTimelessChange);
      this.connect(this.fields.Alarm, 'onChange', this.onAlarmChange);

      this.connect(this.fields.Account, 'onChange', this.onAccountChange);
      this.connect(this.fields.Contact, 'onChange', this.onContactChange);
      this.connect(this.fields.Opportunity, 'onChange', this.onOpportunityChange);
      this.connect(this.fields.Ticket, 'onChange', this.onTicketChange);
      this.connect(this.fields.StartDate, 'onChange', this.onStartDateChange);
      this.connect(this.fields.RecurrenceUI, 'onChange', this.onRecurrenceUIChange);
      this.connect(this.fields.Recurrence, 'onChange', this.onRecurrenceChange);
    },
    onAddComplete: function onAddComplete() {
      _environment['default'].refreshActivityLists();
      this.inherited(arguments);
    },
    onPutComplete: function onPutComplete(entry, updatedEntry) {
      var view = App.getView(this.detailView);
      var originalKey = this.options.entry &amp;&amp; this.options.entry.$key || updatedEntry.$key;

      this.enable();

      _environment['default'].refreshActivityLists();
      _connect['default'].publish('/app/refresh', [{
        resourceKind: this.resourceKind,
        key: updatedEntry.$key,
        data: updatedEntry
      }]);

      if (updatedEntry.$key !== originalKey &amp;&amp; view) {
        // Editing single occurrence results in new $key/record
        view.show({
          key: updatedEntry.$key
        }, {
          returnTo: -2
        });
      } else {
        this.onUpdateCompleted(updatedEntry);
      }
    },
    convertEntry: function convertEntry() {
      var entry = this.inherited(arguments);
      if (!this.options.entry) {
        if (entry &amp;&amp; entry.Leader.$key) {
          this.requestLeader(entry.Leader.$key);
        }
      }

      return entry;
    },
    requestLeader: function requestLeader(userId) {
      var request = new Sage.SData.Client.SDataSingleResourceRequest(this.getConnection()).setResourceKind('users').setResourceSelector(_string['default'].substitute(&quot;'${0}'&quot;, [userId])).setQueryArg('select', ['UserInfo/FirstName', 'UserInfo/LastName'].join(','));

      request.read({
        success: this.processLeader,
        failure: this.requestLeaderFailure,
        scope: this
      });
    },
    requestLeaderFailure: function requestLeaderFailure() {},
    processLeader: function processLeader(leader) {
      if (leader) {
        this.entry.Leader = leader;
        this.fields.Leader.setValue(leader);
      }
    },
    currentUserCanEdit: function currentUserCanEdit(entry) {
      return entry &amp;&amp; entry.AllowEdit;
    },
    currentUserCanSetAlarm: function currentUserCanSetAlarm(entry) {
      return !!entry &amp;&amp; entry.Leader.$key === App.context.user.$key;
    },
    isActivityForLead: function isActivityForLead(entry) {
      return entry &amp;&amp; /^[\w]{12}$/.test(entry.LeadId);
    },
    isActivityRecurring: function isActivityRecurring() {
      return (/rstMaster/.test(this.fields.RecurrenceState.getValue())
      );
    },
    isInLeadContext: function isInLeadContext() {
      var insert = this.options &amp;&amp; this.options.insert;
      var entry = this.options &amp;&amp; this.options.entry;
      var context = this._getNavContext();
      var isLeadContext = false;

      if (context.resourceKind === 'leads') {
        isLeadContext = true;
      }

      var lead = insert &amp;&amp; isLeadContext || this.isActivityForLead(entry);

      return !!lead;
    },
    beforeTransitionTo: function beforeTransitionTo() {
      this.inherited(arguments);

      // we hide the lead or standard fields here, as the view is currently hidden, in order to prevent flashing.
      // the value for the 'IsLead' field will be set later, based on the value derived here.
      if (this.options.isForLead !== undefined) {
        return;
      }

      this.options.isForLead = this.isInLeadContext();

      if (this.options.isForLead) {
        this.showFieldsForLead();
      } else {
        this.showFieldsForStandard();
      }
    },
    disableFields: function disableFields(predicate) {
      for (var _name in this.fields) {
        if (!predicate || predicate(this.fields[_name])) {
          this.fields[_name].disable();
        }
      }
    },
    enableFields: function enableFields(predicate) {
      for (var _name2 in this.fields) {
        if (!predicate || predicate(this.fields[_name2])) {
          this.fields[_name2].enable();
        }
      }
    },
    onIsLeadChange: function onIsLeadChange(value) {
      this.options.isForLead = value;

      if (this.options.isForLead) {
        this.showFieldsForLead();
      } else {
        this.showFieldsForStandard();
      }
    },
    showFieldsForLead: function showFieldsForLead() {
      _array['default'].forEach(this.fieldsForStandard.concat(this.fieldsForLeads), function hideItemsStandard(item) {
        if (this.fields[item]) {
          this.fields[item].hide();
        }
      }, this);

      _array['default'].forEach(this.fieldsForLeads, function showItemsLeads(item) {
        if (this.fields[item]) {
          this.fields[item].show();
        }
      }, this);
    },
    showFieldsForStandard: function showFieldsForStandard() {
      _array['default'].forEach(this.fieldsForStandard.concat(this.fieldsForLeads), function hideItemsStandard(item) {
        if (this.fields[item]) {
          this.fields[item].hide();
        }
      }, this);

      _array['default'].forEach(this.fieldsForStandard, function showItemsStandard(item) {
        if (this.fields[item]) {
          this.fields[item].show();
        }
      }, this);
    },
    toggleSelectField: function toggleSelectField(field, disable) {
      if (disable) {
        field.disable();
      } else {
        field.enable();
      }
    },
    onTimelessChange: function onTimelessChange(value) {
      this.toggleSelectField(this.fields.Duration, value);
      var startDateField = this.fields.StartDate;

      if (value) {
        // StartDate timeless
        this.fields.Rollover.enable();
        startDateField.dateFormatText = this.startingTimelessFormatText;
        startDateField.showTimePicker = false;
        startDateField.timeless = true;
        var startDate = this._getNewStartDate(startDateField.getValue(), true);

        if (startDate) {
          startDateField.setValue(startDate);
        }
      } else {
        // StartDate with out time (Timeless)
        this.fields.Rollover.setValue(false);
        this.fields.Rollover.disable();
        startDateField.dateFormatText = this.startingFormatText;
        startDateField.showTimePicker = true;
        startDateField.timeless = false;
        var startDate = this._getNewStartDate(startDateField.getValue(), false);

        if (startDate) {
          startDateField.setValue(startDate);
        }
      }
    },
    onAlarmChange: function onAlarmChange() {
      if (this.fields.Alarm.getValue()) {
        this.fields.Reminder.enable();
      } else {
        this.fields.Reminder.disable();
      }
    },
    onLeadChange: function onLeadChange(value, field) {
      var selection = field.getSelection();

      if (selection &amp;&amp; this.insert) {
        this.fields.AccountName.setValue(_utility['default'].getValue(selection, 'Company'));
      }

      var entry = field.currentSelection;
      if (entry.WorkPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.WorkPhone);
      }
    },
    onLeaderChange: function onLeaderChange(value, field) {
      var user = field.getValue();
      var resourceId = '';

      var key = user.$key;

      // The key is a composite key on activityresourceviews endpoint.
      // The format is 'ResourceId-AccessId'.
      // The feed does include these as seperate fields, but we need to keep the $key/$descriptor format for doing
      // the PUT to the activities endpoint. We will convert the composite key to something the activities endpoint will understand.
      if (key) {
        key = key.split('-');
        resourceId = key[0];
        if (resourceId) {
          this.fields.UserId.setValue(resourceId);

          // Set back to a single $key so the PUT request payload is not messed up
          this.fields.Leader.setValue({
            '$key': resourceId,
            '$descriptor': user.$descriptor
          });
        }
      }
    },
    onAccountChange: function onAccountChange(value, field) {
      var fields = this.fields;
      _array['default'].forEach(['Contact', 'Opportunity', 'Ticket'], function checkFields(f) {
        if (value) {
          fields[f].dependsOn = 'Account';
          fields[f].where = _string['default'].substitute('Account.Id eq &quot;${0}&quot;', [value.AccountId || value.key]);

          if (fields[f].currentSelection &amp;&amp; fields[f].currentSelection.Account.$key !== (value.AccountId || value.key)) {
            fields[f].setValue(false);
          }

          // No way to determine if the field is part of the changed account, clear it
          if (!fields[f].currentSelection) {
            fields[f].setValue(null);
          }
        } else {
          fields[f].dependsOn = null;
          fields[f].where = 'Account.AccountName ne null';
        }
      });

      if (value === null || typeof value === 'undefined') {
        return;
      }

      var entry = field.currentSelection;
      if (entry &amp;&amp; entry.MainPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.MainPhone);
      }
    },
    onContactChange: function onContactChange(value, field) {
      this.onAccountDependentChange(value, field);
      var entry = field.currentSelection;

      if (entry &amp;&amp; entry.WorkPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.WorkPhone);
      }
    },
    onOpportunityChange: function onOpportunityChange(value, field) {
      this.onAccountDependentChange(value, field);
      var entry = field.currentSelection;

      if (entry &amp;&amp; entry.Account &amp;&amp; entry.Account.MainPhone) {
        var phoneField = this.fieldsPhoneNumber;
        phoneField.setValue(entry.Account.MainPhone);
      }
    },
    onTicketChange: function onTicketChange(value, field) {
      this.onAccountDependentChange(value, field);
      var entry = field.currentSelection;
      var phone = entry &amp;&amp; entry.Contact &amp;&amp; entry.Contact.WorkPhone || entry &amp;&amp; entry.Account &amp;&amp; entry.Account.MainPhone;
      if (phone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(phone);
      }
    },
    onAccountDependentChange: function onAccountDependentChange(value, field) {
      if (value &amp;&amp; !field.dependsOn &amp;&amp; field.currentSelection &amp;&amp; field.currentSelection.Account) {
        var accountField = this.fields.Account;
        accountField.setValue({
          'AccountId': field.currentSelection.Account.$key,
          'AccountName': field.currentSelection.Account.AccountName
        });
        this.onAccountChange(accountField.getValue(), accountField);
      }
    },
    onStartDateChange: function onStartDateChange(value) {
      this.recurrence.StartDate = value;
      // Need recalculate RecurPeriodSpec in case weekday on StartDate changes
      this.recurrence.RecurPeriodSpec = _recur['default'].getRecurPeriodSpec(this.recurrence.RecurPeriod, this.recurrence.StartDate, this.recurrence.RecurPeriodSpec - this.recurrence.RecurPeriodSpec % 65536, // weekdays
      this.recurrence.RecurPeriodSpec % 65536 // interval
      );
      this.resetRecurrence(this.recurrence);

      _recur['default'].createSimplifiedOptions(value);

      var repeats = this.recurrence.RecurrenceState === 'rstMaster';
      this.fields.RecurrenceUI.setValue(_recur['default'].getPanel(repeats &amp;&amp; this.recurrence.RecurPeriod));
    },
    onRecurrenceUIChange: function onRecurrenceUIChange(value, field) {
      var key = field.currentValue &amp;&amp; field.currentValue.key;
      var opt = _recur['default'].simplifiedOptions[key];
      // preserve #iterations (and EndDate) if matching recurrence
      if (this._previousRecurrence === key) {
        opt.RecurIterations = this.recurrence.RecurIterations;
      }

      this.resetRecurrence(opt);
      this._previousRecurrence = key;
    },
    onRecurrenceChange: function onRecurrenceChange(value) {
      // did the StartDate change on the recurrence_edit screen?
      var startDate = argos.Convert.toDateFromString(value.StartDate);
      var currentDate = this.fields.StartDate.getValue();

      if (startDate.getDate() !== currentDate.getDate() || startDate.getMonth() !== currentDate.getMonth()) {
        this.fields.StartDate.setValue(startDate);
      }

      this.resetRecurrence(value);
    },
    resetRecurrence: function resetRecurrence(o) {
      this.recurrence.StartDate = this.fields.StartDate.getValue();

      if (typeof o.Recurring !== 'undefined' &amp;&amp; o.Recurring !== null) {
        this.recurrence.Recurring = o.Recurring;
      }

      if (typeof o.RecurrenceState !== 'undefined' &amp;&amp; o.RecurrenceState !== null) {
        this.recurrence.RecurrenceState = o.RecurrenceState;
      }

      if (typeof o.RecurPeriod !== 'undefined' &amp;&amp; o.RecurPeriod !== null) {
        this.recurrence.RecurPeriod = o.RecurPeriod;
      }

      if (typeof o.RecurPeriodSpec !== 'undefined' &amp;&amp; o.RecurPeriodSpec !== null) {
        this.recurrence.RecurPeriodSpec = o.RecurPeriodSpec;
      }

      if (typeof o.RecurIterations !== 'undefined' &amp;&amp; o.RecurIterations !== null) {
        this.recurrence.RecurIterations = o.RecurIterations;
      }

      this.recurrence.EndDate = _recur['default'].calcEndDate(this.recurrence.StartDate, this.recurrence);

      this.fields.RecurrenceUI.setValue(_recur['default'].getPanel(this.recurrence.RecurPeriod));
      this.fields.Recurrence.setValue(this.recurrence);

      this.fields.Recurring.setValue(this.recurrence.Recurring);
      this.fields.RecurPeriod.setValue(this.recurrence.RecurPeriod);
      this.fields.RecurPeriodSpec.setValue(this.recurrence.Recurring ? this.recurrence.RecurPeriodSpec : 0);
      this.fields.RecurrenceState.setValue(this.recurrence.RecurrenceState);
      this.fields.RecurIterations.setValue(this.recurrence.RecurIterations);
      this.fields.EndDate.setValue(this.recurrence.EndDate);

      if (o.Recurring) {
        this.fields.Recurrence.enable();
      } else {
        this.fields.Recurrence.disable();
      }
    },

    formatPicklistForType: function formatPicklistForType(type, which) {
      return this.picklistsByType[type] &amp;&amp; this.picklistsByType[type][which];
    },
    formatRecurrence: function formatRecurrence(recurrence) {
      if (typeof recurrence === 'string') {
        return recurrence;
      }

      return _recur['default'].toString(recurrence, true);
    },
    _getCalculatedStartTime: function _getCalculatedStartTime(selectedDate) {
      var now = moment();
      var thisSelectedDate = selectedDate;

      if (!moment.isMoment(selectedDate)) {
        thisSelectedDate = moment(selectedDate);
      }

      // Take the start of the selected date, add the *current* time to it,
      // and round it up to the nearest ROUND_MINUTES
      // Examples:
      // 11:24 -&gt; 11:30
      // 11:12 -&gt; 11:15
      // 11:31 -&gt; 11:45
      var startDate = thisSelectedDate.clone().startOf('day').hours(now.hours()).add({
        'minutes': Math.floor(now.minutes() / this.ROUND_MINUTES) * this.ROUND_MINUTES + this.ROUND_MINUTES
      });

      return startDate;
    },
    applyUserActivityContext: function applyUserActivityContext(optionsDate) {
      return this._getCalculatedStartTime(optionsDate);
    },
    applyContext: function applyContext() {
      this.inherited(arguments);

      var startDate = this._getCalculatedStartTime(moment());
      var activityType = this.options &amp;&amp; this.options.activityType;
      var activityGroup = this.groupOptionsByType[activityType] || '';
      var activityDuration = App.context.userOptions &amp;&amp; App.context.userOptions[activityGroup + ':Duration'] || 15;
      var alarmEnabled = App.context.userOptions &amp;&amp; App.context.userOptions[activityGroup + ':AlarmEnabled'] || true;
      var alarmDuration = App.context.userOptions &amp;&amp; App.context.userOptions[activityGroup + ':AlarmLead'] || 15;

      if (this.options &amp;&amp; this.options.currentDate) {
        startDate = this.applyUserActivityContext(moment(this.options.currentDate));
      }

      this.fields.StartDate.setValue(startDate.toDate());
      this.fields.Type.setValue(activityType);
      this.fields.Duration.setValue(activityDuration);
      this.fields.Alarm.setValue(alarmEnabled);
      this.fields.Reminder.setValue(alarmDuration);

      var user = App.context.user;
      if (user) {
        this.fields.UserId.setValue(user.$key);

        var leaderField = this.fields.Leader;
        leaderField.setValue(user);
        this.onLeaderChange(user, leaderField);
      }

      var found = this._getNavContext();

      var accountField = this.fields.Account;
      this.onAccountChange(accountField.getValue(), accountField);

      var context = found &amp;&amp; found.options &amp;&amp; found.options.source || found;
      var lookup = {
        'accounts': this.applyAccountContext,
        'contacts': this.applyContactContext,
        'opportunities': this.applyOpportunityContext,
        'tickets': this.applyTicketContext,
        'leads': this.applyLeadContext
      };

      if (context &amp;&amp; lookup[context.resourceKind]) {
        lookup[context.resourceKind].call(this, context);
      }
    },
    _getNavContext: function _getNavContext() {
      var navContext = App.queryNavigationContext(function checkContext(o) {
        var context = o.options &amp;&amp; o.options.source || o;

        if (/^(accounts|contacts|opportunities|tickets|leads)$/.test(context.resourceKind) &amp;&amp; context.key) {
          return true;
        }

        return false;
      });
      return navContext;
    },
    applyAccountContext: function applyAccountContext(context) {
      var view = App.getView(context.id);
      var entry = context.entry || view &amp;&amp; view.entry || context;

      if (!entry || !entry.$key) {
        return;
      }

      var accountField = this.fields.Account;
      accountField.setSelection(entry);
      accountField.setValue({
        'AccountId': entry.$key,
        'AccountName': entry.$descriptor
      });
      this.onAccountChange(accountField.getValue(), accountField);
    },
    applyContactContext: function applyContactContext(context) {
      var view = App.getView(context.id);
      var entry = context.entry || view &amp;&amp; view.entry || context;

      if (!entry || !entry.$key) {
        return;
      }

      var contactField = this.fields.Contact;

      contactField.setSelection(entry);
      contactField.setValue({
        'ContactId': entry.$key,
        'ContactName': entry.$descriptor
      });

      this.onAccountDependentChange(contactField.getValue(), contactField);

      var accountField = this.fields.Account;
      accountField.setValue({
        'AccountId': _utility['default'].getValue(entry, 'Account.$key'),
        'AccountName': _utility['default'].getValue(entry, 'Account.AccountName')
      });

      if (entry.WorkPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.WorkPhone);
      }
    },
    applyTicketContext: function applyTicketContext(context) {
      var view = App.getView(context.id);
      var entry = context.entry || view &amp;&amp; view.entry;

      if (!entry || !entry.$key) {
        return;
      }

      var ticketField = this.fields.Ticket;
      ticketField.setSelection(entry);
      ticketField.setValue({
        'TicketId': entry.$key,
        'TicketNumber': entry.$descriptor
      });
      this.onAccountDependentChange(ticketField.getValue(), ticketField);

      var contactField = this.fields.Contact;
      contactField.setValue({
        'ContactId': _utility['default'].getValue(entry, 'Contact.$key'),
        'ContactName': _utility['default'].getValue(entry, 'Contact.NameLF')
      });
      this.onAccountDependentChange(contactField.getValue(), contactField);

      var accountField = this.fields.Account;
      accountField.setValue({
        'AccountId': _utility['default'].getValue(entry, 'Account.$key'),
        'AccountName': _utility['default'].getValue(entry, 'Account.AccountName')
      });

      var phone = entry &amp;&amp; entry.Contact &amp;&amp; entry.Contact.WorkPhone || entry &amp;&amp; entry.Account &amp;&amp; entry.Account.MainPhone;
      if (phone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(phone);
      }
    },
    applyOpportunityContext: function applyOpportunityContext(context) {
      var view = App.getView(context.id);
      var entry = context.entry || view &amp;&amp; view.entry;

      if (!entry || !entry.$key) {
        return;
      }

      var opportunityField = this.fields.Opportunity;
      opportunityField.setSelection(entry);
      opportunityField.setValue({
        'OpportunityId': entry.$key,
        'OpportunityName': entry.$descriptor
      });

      this.onAccountDependentChange(opportunityField.getValue(), opportunityField);

      var accountField = this.fields.Account;
      accountField.setValue({
        'AccountId': _utility['default'].getValue(entry, 'Account.$key'),
        'AccountName': _utility['default'].getValue(entry, 'Account.AccountName')
      });

      if (entry.Account &amp;&amp; entry.Account.MainPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.Account.MainPhone);
      }
    },
    applyLeadContext: function applyLeadContext(context) {
      var view = App.getView(context.id);
      var entry = context.entry || view &amp;&amp; view.entry;

      if (!entry || !entry.$key) {
        return;
      }

      var leadField = this.fields.Lead;
      leadField.setSelection(entry);
      leadField.setValue({
        'LeadId': entry.$key,
        'LeadName': entry.$descriptor
      });
      this.onLeadChange(leadField.getValue(), leadField);

      this.fields.AccountName.setValue(entry.Company);

      var isLeadField = this.fields.IsLead;
      isLeadField.setValue(context.resourceKind === 'leads');
      this.onIsLeadChange(isLeadField.getValue(), isLeadField);

      if (entry.WorkPhone) {
        var phoneField = this.fields.PhoneNumber;
        phoneField.setValue(entry.WorkPhone);
      }
    },
    setValues: function setValues(values) {
      if (values.StartDate &amp;&amp; values.AlarmTime) {
        var startTime = this.isDateTimeless(values.StartDate) ? moment(values.StartDate).add({
          minutes: values.StartDate.getTimezoneOffset()
        }).toDate().getTime() : values.StartDate.getTime();

        var span = startTime - values.AlarmTime.getTime(); // ms
        var reminder = span / (1000 * 60);

        values.Reminder = _format['default'].fixed(reminder, 0);
      }

      this.inherited(arguments);

      this.enableFields();

      if (values.Timeless) {
        this.fields.Duration.disable();
        this.fields.Rollover.enable();
      } else {
        this.fields.Duration.enable();
        this.fields.Rollover.disable();
      }

      if (values.Alarm) {
        this.fields.Reminder.enable();
      } else {
        this.fields.Reminder.disable();
      }

      if (this.isInLeadContext()) {
        var isLeadField = this.fields.IsLead;
        isLeadField.setValue(true);
        this.onIsLeadChange(isLeadField.getValue(), isLeadField);
        this.fields.Lead.setValue(values, true);
        this.fields.AccountName.setValue(values.AccountName);
      }

      var entry = this.options.entry || this.entry;
      var denyEdit = !this.options.insert &amp;&amp; !this.currentUserCanEdit(entry);
      var allowSetAlarm = !denyEdit || this.currentUserCanSetAlarm(entry);

      if (denyEdit) {
        this.disableFields();
      }

      if (allowSetAlarm) {
        this.enableFields(function alarmReminderTest(f) {
          return (/^Alarm|Reminder$/.test(f.name)
          );
        });
      }

      this.recurrence.StartDate = argos.Convert.toDateFromString(values.StartDate);
      this.resetRecurrence(values);
      this.onStartDateChange(this.fields.StartDate.getValue(), this.fields.StartDate);
      if (this.isActivityRecurring) {
        this.fields.EndDate.hide();
      }
    },
    isDateTimeless: function isDateTimeless(date) {
      if (!date) {
        return false;
      }
      if (date.getUTCHours() !== 0) {
        return false;
      }
      if (date.getUTCMinutes() !== 0) {
        return false;
      }
      if (date.getUTCSeconds() !== 5) {
        return false;
      }

      return true;
    },
    isDateTimelessLocal: function isDateTimelessLocal(date) {
      if (!date) {
        return false;
      }
      if (date.getHours() !== 0) {
        return false;
      }
      if (date.getMinutes() !== 0) {
        return false;
      }
      if (date.getSeconds() !== 5) {
        return false;
      }

      return true;
    },
    getValues: function getValues() {
      var isStartDateDirty = this.fields.StartDate.isDirty();
      var isReminderDirty = this.fields.Reminder.isDirty();
      var reminderIn = this.fields.Reminder.getValue();
      var timeless = this.fields.Timeless.getValue();
      var startDate = this.fields.StartDate.getValue();
      var values = this.inherited(arguments);

      // Fix timeless if necessary (The date picker won't add 5 seconds)
      if (timeless) {
        values.StartDate = startDate = this._getNewStartDate(startDate, true);
      }

      // if StartDate is dirty, always update AlarmTime
      if (startDate &amp;&amp; (isStartDateDirty || isReminderDirty)) {
        values = values || {};
        var alarmTime = this._getNewAlarmTime(startDate, timeless, reminderIn);
        values.AlarmTime = alarmTime;
      }

      return values;
    },
    createReminderData: function createReminderData() {
      var list = [];

      for (var duration in this.reminderValueText) {
        if (this.reminderValueText.hasOwnProperty(duration)) {
          list.push({
            '$key': duration,
            '$descriptor': this.reminderValueText[duration]
          });
        }
      }

      return {
        '$resources': list
      };
    },
    createDurationData: function createDurationData() {
      var list = [];

      for (var duration in this.durationValueText) {
        if (this.durationValueText.hasOwnProperty(duration)) {
          list.push({
            '$key': duration,
            '$descriptor': this.durationValueText[duration]
          });
        }
      }

      return {
        '$resources': list
      };
    },
    createRecurringData: function createRecurringData() {
      return _recur['default'].createSimplifiedOptions(this.fields.StartDate.getValue());
    },
    formatDependentQuery: function formatDependentQuery(dependentValue, theFormat, property) {
      return _string['default'].substitute(theFormat, [_utility['default'].getValue(dependentValue, property || '$key')]);
    },
    _getNewStartDate: function _getNewStartDate(orginalStartDate, timeless) {
      if (!orginalStartDate) {
        return null;
      }

      var startDate = orginalStartDate;
      var isTimeLessDate = this.isDateTimeless(startDate) || this.isDateTimelessLocal(startDate);

      if (timeless) {
        if (!isTimeLessDate) {
          var wrapped = moment(startDate);
          wrapped = moment.utc(wrapped.format('YYYY-MM-DD'), 'YYYY-MM-DD');
          wrapped.add('seconds', 5);
          startDate = wrapped.toDate();
        }
      } else {
        if (isTimeLessDate) {
          var currentTime = moment();
          var wrapped = moment(startDate);
          wrapped.subtract({
            minutes: wrapped.utcOffset()
          });
          wrapped.hours(currentTime.hours());
          wrapped.minutes(currentTime.minutes());
          wrapped.seconds(0);
          startDate = wrapped.toDate();
        }
      }

      return startDate;
    },
    _getNewAlarmTime: function _getNewAlarmTime(startDate, timeless, reminderIn) {
      var alarmTime = undefined;
      if (!startDate) {
        return null;
      }

      if (timeless) {
        var wrapped = moment(startDate);
        wrapped.subtract({
          minutes: wrapped.utcOffset()
        });
        wrapped.hours(24);
        wrapped.minutes(0);
        wrapped.seconds(0);
        alarmTime = wrapped.toDate();
        alarmTime = moment(alarmTime).clone().add({
          'days': -1
        }).add({
          'minutes': -1 * reminderIn
        }).toDate();
      } else {
        alarmTime = moment(startDate).clone().add({
          'minutes': -1 * reminderIn
        }).toDate();
      }

      return alarmTime;
    },
    createLayout: function createLayout() {
      return this.layout || (this.layout = [{
        name: 'Type',
        property: 'Type',
        type: 'hidden'
      }, {
        dependsOn: 'Type',
        label: this.regardingText,
        name: 'Description',
        property: 'Description',
        picklist: this.formatPicklistForType.bindDelegate(this, 'Description'),
        title: this.activityDescriptionTitleText,
        orderBy: 'text asc',
        type: 'picklist',
        maxTextLength: 64,
        validator: _validator['default'].exceedsMaxTextLength,
        autoFocus: true
      }, {
        label: this.longNotesText,
        noteProperty: false,
        name: 'LongNotes',
        property: 'LongNotes',
        title: this.longNotesTitleText,
        type: 'note',
        view: 'text_edit'
      }, {
        name: 'Location',
        property: 'Location',
        label: this.locationText,
        type: 'text'
      }, {
        label: this.priorityText,
        name: 'Priority',
        property: 'Priority',
        picklist: 'Priorities',
        title: this.priorityTitleText,
        type: 'picklist',
        maxTextLength: 64,
        validator: _validator['default'].exceedsMaxTextLength
      }, {
        dependsOn: 'Type',
        label: this.categoryText,
        name: 'Category',
        property: 'Category',
        picklist: this.formatPicklistForType.bindDelegate(this, 'Category'),
        orderBy: 'text asc',
        title: this.activityCategoryTitleText,
        type: 'picklist',
        maxTextLength: 64,
        validator: _validator['default'].exceedsMaxTextLength
      }, {
        label: this.startingText,
        name: 'StartDate',
        property: 'StartDate',
        type: 'date',
        timeless: false,
        showTimePicker: true,
        dateFormatText: this.startingFormatText,
        minValue: new Date(1900, 0, 1),
        validator: [_validator['default'].exists, _validator['default'].isDateInRange]
      }, {
        type: 'date',
        name: 'EndDate',
        property: 'EndDate',
        include: true
      }, {
        dependsOn: 'StartDate',
        label: this.repeatsText,
        title: this.recurringTitleText,
        name: 'RecurrenceUI',
        property: 'RecurrenceUI',
        type: 'select',
        view: 'select_list',
        data: this.createRecurringData.bindDelegate(this),
        exclude: true
      }, {
        dependsOn: 'RecurrenceUI',
        label: this.recurringText,
        name: 'Recurrence',
        property: 'Recurrence',
        type: 'recurrences',
        applyTo: '.',
        view: 'recurrence_edit',
        exclude: true,
        formatValue: this.formatRecurrence.bindDelegate(this)
      }, {
        type: 'hidden',
        name: 'RecurPeriod',
        property: 'RecurPeriod',
        include: true
      }, {
        type: 'hidden',
        name: 'RecurPeriodSpec',
        property: 'RecurPeriodSpec',
        include: true
      }, {
        type: 'hidden',
        name: 'RecurrenceState',
        property: 'RecurrenceState',
        include: true
      }, {
        type: 'hidden',
        name: 'Recurring',
        property: 'Recurring',
        include: true
      }, {
        type: 'hidden',
        name: 'RecurIterations',
        property: 'RecurIterations',
        include: true
      }, {
        label: this.timelessText,
        name: 'Timeless',
        property: 'Timeless',
        type: 'boolean'
      }, {
        label: this.durationText,
        title: this.durationTitleText,
        name: 'Duration',
        property: 'Duration',
        type: 'duration',
        view: 'select_list',
        data: this.createDurationData()
      }, {
        name: 'Alarm',
        property: 'Alarm',
        label: this.alarmText,
        type: 'boolean'
      }, {
        label: this.reminderText,
        title: this.reminderTitleText,
        include: false,
        name: 'Reminder',
        property: 'Reminder',
        type: 'duration',
        view: 'select_list',
        data: this.createReminderData()
      }, {
        label: this.rolloverText,
        name: 'Rollover',
        property: 'Rollover',
        type: 'boolean'
      }, {
        type: 'hidden',
        name: 'UserId',
        property: 'UserId'
      }, {
        label: this.leaderText,
        name: 'Leader',
        property: 'Leader',
        include: true,
        type: 'lookup',
        requireSelection: true,
        view: 'calendar_access_list'
      }, {
        label: this.isLeadText,
        name: 'IsLead',
        property: 'IsLead',
        include: false,
        type: 'boolean',
        onText: this.yesText,
        offText: this.noText
      }, {
        label: this.accountText,
        name: 'Account',
        property: 'Account',
        type: 'lookup',
        emptyText: '',
        applyTo: '.',
        valueKeyProperty: 'AccountId',
        valueTextProperty: 'AccountName',
        view: 'account_related'
      }, {
        dependsOn: 'Account',
        label: this.contactText,
        name: 'Contact',
        property: 'Contact',
        type: 'lookup',
        emptyText: '',
        applyTo: function applyTo(payload, value) {
          if (value === null) {
            payload[this.valueKeyProperty] = null;
            payload[this.valueTextProperty] = null;
          }
        },
        valueKeyProperty: 'ContactId',
        valueTextProperty: 'ContactName',
        view: 'contact_related',
        where: this.formatDependentQuery.bindDelegate(this, 'Account.Id eq &quot;${0}&quot;', 'AccountId')
      }, {
        dependsOn: 'Account',
        label: this.opportunityText,
        name: 'Opportunity',
        property: 'Opportunity',
        type: 'lookup',
        emptyText: '',
        applyTo: function applyTo(payload, value) {
          if (value === null) {
            payload[this.valueKeyProperty] = null;
            payload[this.valueTextProperty] = null;
          }
        },
        valueKeyProperty: 'OpportunityId',
        valueTextProperty: 'OpportunityName',
        view: 'opportunity_related',
        where: this.formatDependentQuery.bindDelegate(this, 'Account.Id eq &quot;${0}&quot;', 'AccountId')
      }, {
        dependsOn: 'Account',
        label: this.ticketNumberText,
        name: 'Ticket',
        property: 'Ticket',
        type: 'lookup',
        emptyText: '',
        applyTo: function applyTo(payload, value) {
          if (value === null) {
            payload[this.valueKeyProperty] = null;
            payload[this.valueTextProperty] = null;
          }
        },
        valueKeyProperty: 'TicketId',
        valueTextProperty: 'TicketNumber',
        view: 'ticket_related',
        where: this.formatDependentQuery.bindDelegate(this, 'Account.Id eq &quot;${0}&quot;', 'AccountId')
      }, {
        label: this.leadText,
        name: 'Lead',
        property: 'Lead',
        type: 'lookup',
        emptyText: '',
        applyTo: '.',
        valueKeyProperty: 'LeadId',
        valueTextProperty: 'LeadName',
        view: 'lead_related'
      }, {
        label: this.companyText,
        name: 'AccountName',
        property: 'AccountName',
        type: 'text'
      }, {
        name: 'PhoneNumber',
        property: 'PhoneNumber',
        label: this.phoneText,
        type: 'phone',
        maxTextLength: 32,
        validator: _validator['default'].exceedsMaxTextLength
      }]);
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Activity.Edit', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9BY3Rpdml0eS9FZGl0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY0EsTUFBTSxRQUFRLEdBQUcsNkJBQVksY0FBYyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCN0MsTUFBTSxPQUFPLEdBQUcseUJBQVEseUJBQXlCLEVBQUUsa0JBQU0sRUFBRTs7QUFFekQsNkJBQXlCLEVBQUUsUUFBUSxDQUFDLHlCQUF5QjtBQUM3RCxnQ0FBNEIsRUFBRSxRQUFRLENBQUMsNEJBQTRCO0FBQ25FLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMseUJBQXFCLEVBQUUsUUFBUSxDQUFDLHFCQUFxQjtBQUNyRCxhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxnQkFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ25DLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3Qyx1QkFBbUIsRUFBRSxRQUFRLENBQUMsbUJBQW1CO0FBQ2pELHVCQUFtQixFQUFFLFFBQVEsQ0FBQyxtQkFBbUI7QUFDakQscUJBQWlCLEVBQUUsUUFBUSxDQUFDLG1CQUFtQjtBQUMvQyxjQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7QUFDL0IsaUJBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtBQUNyQyxzQkFBa0IsRUFBRSxRQUFRLENBQUMsa0JBQWtCO0FBQy9DLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3QyxpQkFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO0FBQ3JDLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7QUFDbkMsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxzQkFBa0IsRUFBRSxR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RyxDQUFDLENBQUMsZUFBZSxDQUFDO09BQ3JEOztBQUVELFVBQUksT0FBTyxDQUFDLENBQUMsV0FBVyxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsV0FBVyxLQUFLLElBQUksRUFBRTtBQUNsRSxZQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDO09BQzdDOztBQUVELFVBQUksT0FBTyxDQUFDLENBQUMsZUFBZSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRTtBQUMxRSxZQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO09BQ3JEOztBQUVELFVBQUksT0FBTyxDQUFDLENBQUMsZUFBZSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRTtBQUMxRSxZQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO09BQ3JEOztBQUVELFVBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxHQUFHLGtCQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRXhGLFVBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxrQkFBTSxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQy9FLFVBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRWpELFVBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFELFVBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzlELFVBQUksQ0FB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IiwiZmlsZSI6InNyYy9WaWV3cy9BY3Rpdml0eS9FZGl0LmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBjb25uZWN0IGZyb20gJ2Rvam8vX2Jhc2UvY29ubmVjdCc7XHJcbmltcG9ydCBhcnJheSBmcm9tICdkb2pvL19iYXNlL2FycmF5JztcclxuaW1wb3J0IHN0cmluZyBmcm9tICdkb2pvL3N0cmluZyc7XHJcbmltcG9ydCBlbnZpcm9ubWVudCBmcm9tICcuLi8uLi9FbnZpcm9ubWVudCc7XHJcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vLi4vVmFsaWRhdG9yJztcclxuaW1wb3J0IHV0aWxpdHkgZnJvbSAnYXJnb3MvVXRpbGl0eSc7XHJcbmltcG9ydCBFZGl0IGZyb20gJ2FyZ29zL0VkaXQnO1xyXG5pbXBvcnQgcmVjdXIgZnJvbSAnLi4vLi4vUmVjdXJyZW5jZSc7XHJcbmltcG9ydCBmb3JtYXQgZnJvbSAnYXJnb3MvRm9ybWF0JztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5pbXBvcnQgTU9ERUxfTkFNRVMgZnJvbSAnLi4vLi4vTW9kZWxzL05hbWVzJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2FjdGl2aXR5RWRpdCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuQWN0aXZpdHkuRWRpdFxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBhcmdvcy5FZGl0XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBhcmdvcy5FZGl0XHJcbiAqIEByZXF1aXJlcyBhcmdvcy5VdGlsaXR5XHJcbiAqIEByZXF1aXJlcyBjcm0uRm9ybWF0XHJcbiAqIEByZXF1aXJlcyBjcm0uVmFsaWRhdG9yXHJcbiAqIEByZXF1aXJlcyBjcm0uVGVtcGxhdGVcclxuICogQHJlcXVpcmVzIGNybS5FbnZpcm9ubWVudFxyXG4gKiBAcmVxdWlyZXMgY3JtLlJlY3VycmVuY2VcclxuICpcclxuICogQHJlcXVpcmVzIG1vbWVudFxyXG4gKlxyXG4gKi9cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2NybS5WaWV3cy5BY3Rpdml0eS5FZGl0JywgW0VkaXRdLCB7XHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgYWN0aXZpdHlDYXRlZ29yeVRpdGxlVGV4dDogcmVzb3VyY2UuYWN0aXZpdHlDYXRlZ29yeVRpdGxlVGV4dCxcclxuICBhY3Rpdml0eURlc2NyaXB0aW9uVGl0bGVUZXh0OiByZXNvdXJjZS5hY3Rpdml0eURlc2NyaXB0aW9uVGl0bGVUZXh0LFxyXG4gIGxvY2F0aW9uVGV4dDogcmVzb3VyY2UubG9jYXRpb25UZXh0LFxyXG4gIGFjdGl2aXR5VHlwZVRpdGxlVGV4dDogcmVzb3VyY2UuYWN0aXZpdHlUeXBlVGl0bGVUZXh0LFxyXG4gIGFsYXJtVGV4dDogcmVzb3VyY2UuYWxhcm1UZXh0LFxyXG4gIHJlbWluZGVyVGV4dDogcmVzb3VyY2UucmVtaW5kZXJUZXh0LFxyXG4gIGNhdGVnb3J5VGV4dDogcmVzb3VyY2UuY2F0ZWdvcnlUZXh0LFxyXG4gIGR1cmF0aW9uVGV4dDogcmVzb3VyY2UuZHVyYXRpb25UZXh0LFxyXG4gIGR1cmF0aW9uVGl0bGVUZXh0OiByZXNvdXJjZS5kdXJhdGlvblRpdGxlVGV4dCxcclxuICBkdXJhdGlvbkludmFsaWRUZXh0OiByZXNvdXJjZS5kdXJhdGlvbkludmFsaWRUZXh0LFxyXG4gIHJlbWluZGVySW52YWxpZFRleHQ6IHJlc291cmNlLnJlbWluZGVySW52YWxpZFRleHQsXHJcbiAgcmVtaW5kZXJUaXRsZVRleHQ6IHJlc291cmNlLnJlbWluZGVySW52YWxpZFRleHQsXHJcbiAgbGVhZGVyVGV4dDogcmVzb3VyY2UubGVhZGVyVGV4dCxcclxuICBsb25nTm90ZXNUZXh0OiByZXNvdXJjZS5sb25nTm90ZXNUZXh0LFxyXG4gIGxvbmdOb3Rlc1RpdGxlVGV4dDogcmVzb3VyY2UubG9uZ05vdGVzVGl0bGVUZXh0LFxyXG4gIHByaW9yaXR5VGV4dDogcmVzb3VyY2UucHJpb3JpdHlUZXh0LFxyXG4gIHByaW9yaXR5VGl0bGVUZXh0OiByZXNvdXJjZS5wcmlvcml0eVRpdGxlVGV4dCxcclxuICByZWdhcmRpbmdUZXh0OiByZXNvdXJjZS5yZWdhcmRpbmdUZXh0LFxyXG4gIHJvbGxvdmVyVGV4dDogcmVzb3VyY2Uucm9sbG92ZXJUZXh0LFxyXG4gIHN0YXJ0aW5nVGV4dDogcmVzb3VyY2Uuc3RhcnRpbmdUZXh0LFxyXG4gIHN0YXJ0aW5nRm9ybWF0VGV4dDogcmVzb3VyY2Uuc3RhcnRpbmdGb3JtYXRUZXh0LFxyXG4gIHN0YXJ0aW5nVGltZWxlc3NGb3JtYXRUZXh0OiByZXNvdXJjZS5zdGFydGluZ1RpbWVsZXNzRm9ybWF0VGV4dCxcclxuICByZXBlYXRzVGV4dDogcmVzb3VyY2UucmVwZWF0c1RleHQsXHJcbiAgcmVjdXJyaW5nVGV4dDogcmVzb3VyY2UucmVjdXJyaW5nVGV4dCxcclxuICByZWN1cnJpbmdUaXRsZVRleHQ6IHJlc291cmNlLnJlY3VycmluZ1RpdGxlVGV4dCxcclxuICB0aW1lbGVzc1RleHQ6IHJlc291cmNlLnRpbWVsZXNzVGV4dCxcclxuICB0aXRsZVRleHQ6IHJlc291cmNlLnRpdGxlVGV4dCxcclxuICB0eXBlVGV4dDogcmVzb3VyY2UudHlwZVRleHQsXHJcbiAgYWNjb3VudFRleHQ6IHJlc291cmNlLmFjY291bnRUZXh0LFxyXG4gIGNvbnRhY3RUZXh0OiByZXNvdXJjZS5jb250YWN0VGV4dCxcclxuICBvcHBvcnR1bml0eVRleHQ6IHJlc291cmNlLm9wcG9ydHVuaXR5VGV4dCxcclxuICB0aWNrZXROdW1iZXJUZXh0OiByZXNvdXJjZS50aWNrZXROdW1iZXJUZXh0LFxyXG4gIGNvbXBhbnlUZXh0OiByZXNvdXJjZS5jb21wYW55VGV4dCxcclxuICBsZWFkVGV4dDogcmVzb3VyY2UubGVhZFRleHQsXHJcbiAgaXNMZWFkVGV4dDogcmVzb3VyY2UuaXNMZWFkVGV4dCxcclxuICB5ZXNUZXh0OiByZXNvdXJjZS55ZXNUZXh0LFxyXG4gIG5vVGV4dDogcmVzb3VyY2Uubm9UZXh0LFxyXG4gIHBob25lVGV4dDogcmVzb3VyY2UucGhvbmVUZXh0LFxyXG4gIHVwZGF0ZVVzZXJBY3RFcnJvclRleHQ6IHJlc291cmNlLnVwZGF0ZVVzZXJBY3RFcnJvclRleHQsXHJcbiAgcmVtaW5kZXJWYWx1ZVRleHQ6IHtcclxuICAgIDA6IHJlc291cmNlLm5vbmVUZXh0LFxyXG4gICAgNTogcmVzb3VyY2UuZml2ZU1pblRleHQsXHJcbiAgICAxNTogcmVzb3VyY2UucXVhcnRlckhvdXJUZXh0LFxyXG4gICAgMzA6IHJlc291cmNlLmhhbGZIb3VyVGV4dCxcclxuICAgIDYwOiByZXNvdXJjZS5ob3VyVGV4dCxcclxuICAgIDE0NDA6IHJlc291cmNlLmRheVRleHQsXHJcbiAgfSxcclxuICBkdXJhdGlvblZhbHVlVGV4dDoge1xyXG4gICAgMDogcmVzb3VyY2Uubm9uZVRleHQsXHJcbiAgICAxNTogcmVzb3VyY2UucXVhcnRlckhvdXJUZXh0LFxyXG4gICAgMzA6IHJlc291cmNlLmhhbGZIb3VyVGV4dCxcclxuICAgIDYwOiByZXNvdXJjZS5ob3VyVGV4dCxcclxuICAgIDkwOiByZXNvdXJjZS5ob3VyQW5kSGFsZlRleHQsXHJcbiAgICAxMjA6IHJlc291cmNlLnR3b0hvdXJzVGV4dCxcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJvcGVydHkge051bWJlcn1cclxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbnV0ZXMgdGhhdCBzaG91bGQgYmUgcm91bmRlZCB0byBhcyBhIGRlZmF1bHQgc3RhcnQgd2hlbiBjcmVhdGluZyBhIG5ldyBhY3Rpdml0eVxyXG4gICAqL1xyXG4gIFJPVU5EX01JTlVURVM6IDE1LFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBpZDogJ2FjdGl2aXR5X2VkaXQnLFxyXG4gIGRldGFpbFZpZXc6ICdhY3Rpdml0eV9kZXRhaWwnLFxyXG4gIGZpZWxkc0ZvckxlYWRzOiBbJ0FjY291bnROYW1lJywgJ0xlYWQnXSxcclxuICBmaWVsZHNGb3JTdGFuZGFyZDogWydBY2NvdW50JywgJ0NvbnRhY3QnLCAnT3Bwb3J0dW5pdHknLCAnVGlja2V0J10sXHJcbiAgcGlja2xpc3RzQnlUeXBlOiB7XHJcbiAgICAnYXRBcHBvaW50bWVudCc6IHtcclxuICAgICAgJ0NhdGVnb3J5JzogJ01lZXRpbmcgQ2F0ZWdvcnkgQ29kZXMnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnTWVldGluZyBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICAgICdhdExpdGVyYXR1cmUnOiB7XHJcbiAgICAgICdEZXNjcmlwdGlvbic6ICdMaXQgUmVxdWVzdCBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICAgICdhdFBlcnNvbmFsJzoge1xyXG4gICAgICAnQ2F0ZWdvcnknOiAnTWVldGluZyBDYXRlZ29yeSBDb2RlcycsXHJcbiAgICAgICdEZXNjcmlwdGlvbic6ICdQZXJzb25hbCBBY3Rpdml0eSBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICAgICdhdFBob25lQ2FsbCc6IHtcclxuICAgICAgJ0NhdGVnb3J5JzogJ1Bob25lIENhbGwgQ2F0ZWdvcnkgQ29kZXMnLFxyXG4gICAgICAnRGVzY3JpcHRpb24nOiAnUGhvbmUgQ2FsbCBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICAgICdhdFRvRG8nOiB7XHJcbiAgICAgICdDYXRlZ29yeSc6ICdUbyBEbyBDYXRlZ29yeSBDb2RlcycsXHJcbiAgICAgICdEZXNjcmlwdGlvbic6ICdUbyBEbyBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICAgICdhdEVNYWlsJzoge1xyXG4gICAgICAnQ2F0ZWdvcnknOiAnRS1tYWlsIENhdGVnb3J5IENvZGVzJyxcclxuICAgICAgJ0Rlc2NyaXB0aW9uJzogJ0UtbWFpbCBSZWdhcmRpbmcnLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGdyb3VwT3B0aW9uc0J5VHlwZToge1xyXG4gICAgYXRUb0RvOiAnQWN0aXZpdHlUb0RvT3B0aW9ucycsXHJcbiAgICBhdFBlcnNvbmFsOiAnQWN0aXZpdHlQZXJzb25hbE9wdGlvbnMnLFxyXG4gICAgYXRQaG9uZUNhbGw6ICdBY3Rpdml0eVBob25lT3B0aW9ucycsXHJcbiAgICBhdEFwcG9pbnRtZW50OiAnQWN0aXZpdHlNZWV0aW5nT3B0aW9ucycsXHJcbiAgfSxcclxuXHJcbiAgZW50aXR5TmFtZTogJ0FjdGl2aXR5JyxcclxuICBtb2RlbE5hbWU6IE1PREVMX05BTUVTLkFDVElWSVRZLFxyXG4gIGluc2VydFNlY3VyaXR5OiBudWxsLCAvLyAnRW50aXRpZXMvQWN0aXZpdHkvQWRkJyxcclxuICB1cGRhdGVTZWN1cml0eTogbnVsbCwgLy8gJ0VudGl0aWVzL0FjdGl2aXR5L0VkaXQnLFxyXG4gIGNvbnRyYWN0TmFtZTogJ3N5c3RlbScsXHJcbiAgcmVzb3VyY2VLaW5kOiAnYWN0aXZpdGllcycsXHJcbiAgcmVjdXJyZW5jZTogbnVsbCxcclxuICBfcHJldmlvdXNSZWN1cnJlbmNlOiBudWxsLFxyXG5cclxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuXHJcbiAgICB0aGlzLnJlY3VycmVuY2UgPSB7XHJcbiAgICAgIFJlY3VySXRlcmF0aW9uczogJzAnLFxyXG4gICAgICBSZWN1clBlcmlvZDogJy0xJyxcclxuICAgICAgUmVjdXJQZXJpb2RTcGVjOiAnMCcsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY29ubmVjdCh0aGlzLmZpZWxkcy5MZWFkLCAnb25DaGFuZ2UnLCB0aGlzLm9uTGVhZENoYW5nZSk7XHJcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5maWVsZHMuSXNMZWFkLCAnb25DaGFuZ2UnLCB0aGlzLm9uSXNMZWFkQ2hhbmdlKTtcclxuICAgIHRoaXMuY29ubmVjdCh0aGlzLmZpZWxkcy5MZWFkZXIsICdvbkNoYW5nZScsIHRoaXMub25MZWFkZXJDaGFuZ2UpO1xyXG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLlRpbWVsZXNzLCAnb25DaGFuZ2UnLCB0aGlzLm9uVGltZWxlc3NDaGFuZ2UpO1xyXG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLkFsYXJtLCAnb25DaGFuZ2UnLCB0aGlzLm9uQWxhcm1DaGFuZ2UpO1xyXG5cclxuICAgIHRoaXMuY29ubmVjdCh0aGlzLmZpZWxkcy5BY2NvdW50LCAnb25DaGFuZ2UnLCB0aGlzLm9uQWNjb3VudENoYW5nZSk7XHJcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5maWVsZHMuQ29udGFjdCwgJ29uQ2hhbmdlJywgdGhpcy5vbkNvbnRhY3RDaGFuZ2UpO1xyXG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLk9wcG9ydHVuaXR5LCAnb25DaGFuZ2UnLCB0aGlzLm9uT3Bwb3J0dW5pdHlDaGFuZ2UpO1xyXG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLlRpY2tldCwgJ29uQ2hhbmdlJywgdGhpcy5vblRpY2tldENoYW5nZSk7XHJcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5maWVsZHMuU3RhcnREYXRlLCAnb25DaGFuZ2UnLCB0aGlzLm9uU3RhcnREYXRlQ2hhbmdlKTtcclxuICAgIHRoaXMuY29ubmVjdCh0aGlzLmZpZWxkcy5SZWN1cnJlbmNlVUksICdvbkNoYW5nZScsIHRoaXMub25SZWN1cnJlbmNlVUlDaGFuZ2UpO1xyXG4gICAgdGhpcy5jb25uZWN0KHRoaXMuZmllbGRzLlJlY3VycmVuY2UsICdvbkNoYW5nZScsIHRoaXMub25SZWN1cnJlbmNlQ2hhbmdlKTtcclxuICB9LFxyXG4gIG9uQWRkQ29tcGxldGU6IGZ1bmN0aW9uIG9uQWRkQ29tcGxldGUoKSB7XHJcbiAgICBlbnZpcm9ubWVudC5yZWZyZXNoQWN0aXZpdHlMaXN0cygpO1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICB9LFxyXG4gIG9uUHV0Q29tcGxldGU6IGZ1bmN0aW9uIG9uUHV0Q29tcGxldGUoZW50cnksIHVwZGF0ZWRFbnRyeSkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHRoaXMuZGV0YWlsVmlldyk7XHJcbiAgICBjb25zdCBvcmlnaW5hbEtleSA9ICh0aGlzLm9wdGlvbnMuZW50cnkgJiYgdGhpcy5vcHRpb25zLmVudHJ5LiRrZXkpIHx8IHVwZGF0ZWRFbnRyeS4ka2V5O1xyXG5cclxuICAgIHRoaXMuZW5hYmxlKCk7XHJcblxyXG4gICAgZW52aXJvbm1lbnQucmVmcmVzaEFjdGl2aXR5TGlzdHMoKTtcclxuICAgIGNvbm5lY3QucHVibGlzaCgnL2FwcC9yZWZyZXNoJywgW3tcclxuICAgICAgcmVzb3VyY2VLaW5kOiB0aGlzLnJlc291cmNlS2luZCxcclxuICAgICAga2V5OiB1cGRhdGVkRW50cnkuJGtleSxcclxuICAgICAgZGF0YTogdXBkYXRlZEVudHJ5LFxyXG4gICAgfV0pO1xyXG5cclxuICAgIGlmICh1cGRhdGVkRW50cnkuJGtleSAhPT0gb3JpZ2luYWxLZXkgJiYgdmlldykge1xyXG4gICAgICAvLyBFZGl0aW5nIHNpbmdsZSBvY2N1cnJlbmNlIHJlc3VsdHMgaW4gbmV3ICRrZXkvcmVjb3JkXHJcbiAgICAgIHZpZXcuc2hvdyh7XHJcbiAgICAgICAga2V5OiB1cGRhdGVkRW50cnkuJGtleSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIHJldHVyblRvOiAtMixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9uVXBkYXRlQ29tcGxldGVkKHVwZGF0ZWRFbnRyeSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjb252ZXJ0RW50cnk6IGZ1bmN0aW9uIGNvbnZlcnRFbnRyeSgpIHtcclxuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICAgIGlmICghdGhpcy5vcHRpb25zLmVudHJ5KSB7XHJcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeS5MZWFkZXIuJGtleSkge1xyXG4gICAgICAgIHRoaXMucmVxdWVzdExlYWRlcihlbnRyeS5MZWFkZXIuJGtleSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZW50cnk7XHJcbiAgfSxcclxuICByZXF1ZXN0TGVhZGVyOiBmdW5jdGlvbiByZXF1ZXN0TGVhZGVyKHVzZXJJZCkge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVNpbmdsZVJlc291cmNlUmVxdWVzdCh0aGlzLmdldENvbm5lY3Rpb24oKSlcclxuICAgICAgLnNldFJlc291cmNlS2luZCgndXNlcnMnKVxyXG4gICAgICAuc2V0UmVzb3VyY2VTZWxlY3RvcihzdHJpbmcuc3Vic3RpdHV0ZShcIickezB9J1wiLCBbdXNlcklkXSkpXHJcbiAgICAgIC5zZXRRdWVyeUFyZygnc2VsZWN0JywgW1xyXG4gICAgICAgICdVc2VySW5mby9GaXJzdE5hbWUnLFxyXG4gICAgICAgICdVc2VySW5mby9MYXN0TmFtZScsXHJcbiAgICAgIF0uam9pbignLCcpKTtcclxuXHJcbiAgICByZXF1ZXN0LnJlYWQoe1xyXG4gICAgICBzdWNjZXNzOiB0aGlzLnByb2Nlc3NMZWFkZXIsXHJcbiAgICAgIGZhaWx1cmU6IHRoaXMucmVxdWVzdExlYWRlckZhaWx1cmUsXHJcbiAgICAgIHNjb3BlOiB0aGlzLFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZXF1ZXN0TGVhZGVyRmFpbHVyZTogZnVuY3Rpb24gcmVxdWVzdExlYWRlckZhaWx1cmUoKSB7fSxcclxuICBwcm9jZXNzTGVhZGVyOiBmdW5jdGlvbiBwcm9jZXNzTGVhZGVyKGxlYWRlcikge1xyXG4gICAgaWYgKGxlYWRlcikge1xyXG4gICAgICB0aGlzLmVudHJ5LkxlYWRlciA9IGxlYWRlcjtcclxuICAgICAgdGhpcy5maWVsZHMuTGVhZGVyLnNldFZhbHVlKGxlYWRlcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjdXJyZW50VXNlckNhbkVkaXQ6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyQ2FuRWRpdChlbnRyeSkge1xyXG4gICAgcmV0dXJuIChlbnRyeSAmJiAoZW50cnkuQWxsb3dFZGl0KSk7XHJcbiAgfSxcclxuICBjdXJyZW50VXNlckNhblNldEFsYXJtOiBmdW5jdGlvbiBjdXJyZW50VXNlckNhblNldEFsYXJtKGVudHJ5KSB7XHJcbiAgICByZXR1cm4gISFlbnRyeSAmJiAoZW50cnkuTGVhZGVyLiRrZXkgPT09IEFwcC5jb250ZXh0LnVzZXIuJGtleSk7XHJcbiAgfSxcclxuICBpc0FjdGl2aXR5Rm9yTGVhZDogZnVuY3Rpb24gaXNBY3Rpdml0eUZvckxlYWQoZW50cnkpIHtcclxuICAgIHJldHVybiBlbnRyeSAmJiAvXltcXHddezEyfSQvLnRlc3QoZW50cnkuTGVhZElkKTtcclxuICB9LFxyXG4gIGlzQWN0aXZpdHlSZWN1cnJpbmc6IGZ1bmN0aW9uIGlzQWN0aXZpdHlSZWN1cnJpbmcoKSB7XHJcbiAgICByZXR1cm4gKC9yc3RNYXN0ZXIvKVxyXG4gICAgICAudGVzdCh0aGlzLmZpZWxkcy5SZWN1cnJlbmNlU3RhdGUuZ2V0VmFsdWUoKSk7XHJcbiAgfSxcclxuICBpc0luTGVhZENvbnRleHQ6IGZ1bmN0aW9uIGlzSW5MZWFkQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGluc2VydCA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuaW5zZXJ0O1xyXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmVudHJ5O1xyXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2dldE5hdkNvbnRleHQoKTtcclxuICAgIGxldCBpc0xlYWRDb250ZXh0ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKGNvbnRleHQucmVzb3VyY2VLaW5kID09PSAnbGVhZHMnKSB7XHJcbiAgICAgIGlzTGVhZENvbnRleHQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxlYWQgPSAoaW5zZXJ0ICYmIGlzTGVhZENvbnRleHQpIHx8IHRoaXMuaXNBY3Rpdml0eUZvckxlYWQoZW50cnkpO1xyXG5cclxuICAgIHJldHVybiAhIWxlYWQ7XHJcbiAgfSxcclxuICBiZWZvcmVUcmFuc2l0aW9uVG86IGZ1bmN0aW9uIGJlZm9yZVRyYW5zaXRpb25UbygpIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcblxyXG4gICAgLy8gd2UgaGlkZSB0aGUgbGVhZCBvciBzdGFuZGFyZCBmaWVsZHMgaGVyZSwgYXMgdGhlIHZpZXcgaXMgY3VycmVudGx5IGhpZGRlbiwgaW4gb3JkZXIgdG8gcHJldmVudCBmbGFzaGluZy5cclxuICAgIC8vIHRoZSB2YWx1ZSBmb3IgdGhlICdJc0xlYWQnIGZpZWxkIHdpbGwgYmUgc2V0IGxhdGVyLCBiYXNlZCBvbiB0aGUgdmFsdWUgZGVyaXZlZCBoZXJlLlxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc0ZvckxlYWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmlzRm9yTGVhZCA9IHRoaXMuaXNJbkxlYWRDb250ZXh0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc0ZvckxlYWQpIHtcclxuICAgICAgdGhpcy5zaG93RmllbGRzRm9yTGVhZCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zaG93RmllbGRzRm9yU3RhbmRhcmQoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGRpc2FibGVGaWVsZHM6IGZ1bmN0aW9uIGRpc2FibGVGaWVsZHMocHJlZGljYXRlKSB7XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5maWVsZHMpIHtcclxuICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHRoaXMuZmllbGRzW25hbWVdKSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzW25hbWVdLmRpc2FibGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZW5hYmxlRmllbGRzOiBmdW5jdGlvbiBlbmFibGVGaWVsZHMocHJlZGljYXRlKSB7XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5maWVsZHMpIHtcclxuICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHRoaXMuZmllbGRzW25hbWVdKSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzW25hbWVdLmVuYWJsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBvbklzTGVhZENoYW5nZTogZnVuY3Rpb24gb25Jc0xlYWRDaGFuZ2UodmFsdWUpIHtcclxuICAgIHRoaXMub3B0aW9ucy5pc0ZvckxlYWQgPSB2YWx1ZTtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzRm9yTGVhZCkge1xyXG4gICAgICB0aGlzLnNob3dGaWVsZHNGb3JMZWFkKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNob3dGaWVsZHNGb3JTdGFuZGFyZCgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2hvd0ZpZWxkc0ZvckxlYWQ6IGZ1bmN0aW9uIHNob3dGaWVsZHNGb3JMZWFkKCkge1xyXG4gICAgYXJyYXkuZm9yRWFjaCh0aGlzLmZpZWxkc0ZvclN0YW5kYXJkLmNvbmNhdCh0aGlzLmZpZWxkc0ZvckxlYWRzKSwgZnVuY3Rpb24gaGlkZUl0ZW1zU3RhbmRhcmQoaXRlbSkge1xyXG4gICAgICBpZiAodGhpcy5maWVsZHNbaXRlbV0pIHtcclxuICAgICAgICB0aGlzLmZpZWxkc1tpdGVtXS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIGFycmF5LmZvckVhY2godGhpcy5maWVsZHNGb3JMZWFkcywgZnVuY3Rpb24gc2hvd0l0ZW1zTGVhZHMoaXRlbSkge1xyXG4gICAgICBpZiAodGhpcy5maWVsZHNbaXRlbV0pIHtcclxuICAgICAgICB0aGlzLmZpZWxkc1tpdGVtXS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG4gIH0sXHJcbiAgc2hvd0ZpZWxkc0ZvclN0YW5kYXJkOiBmdW5jdGlvbiBzaG93RmllbGRzRm9yU3RhbmRhcmQoKSB7XHJcbiAgICBhcnJheS5mb3JFYWNoKHRoaXMuZmllbGRzRm9yU3RhbmRhcmQuY29uY2F0KHRoaXMuZmllbGRzRm9yTGVhZHMpLCBmdW5jdGlvbiBoaWRlSXRlbXNTdGFuZGFyZChpdGVtKSB7XHJcbiAgICAgIGlmICh0aGlzLmZpZWxkc1tpdGVtXSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzW2l0ZW1dLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgYXJyYXkuZm9yRWFjaCh0aGlzLmZpZWxkc0ZvclN0YW5kYXJkLCBmdW5jdGlvbiBzaG93SXRlbXNTdGFuZGFyZChpdGVtKSB7XHJcbiAgICAgIGlmICh0aGlzLmZpZWxkc1tpdGVtXSkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzW2l0ZW1dLnNob3coKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcbiAgfSxcclxuICB0b2dnbGVTZWxlY3RGaWVsZDogZnVuY3Rpb24gdG9nZ2xlU2VsZWN0RmllbGQoZmllbGQsIGRpc2FibGUpIHtcclxuICAgIGlmIChkaXNhYmxlKSB7XHJcbiAgICAgIGZpZWxkLmRpc2FibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpZWxkLmVuYWJsZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25UaW1lbGVzc0NoYW5nZTogZnVuY3Rpb24gb25UaW1lbGVzc0NoYW5nZSh2YWx1ZSkge1xyXG4gICAgdGhpcy50b2dnbGVTZWxlY3RGaWVsZCh0aGlzLmZpZWxkcy5EdXJhdGlvbiwgdmFsdWUpO1xyXG4gICAgY29uc3Qgc3RhcnREYXRlRmllbGQgPSB0aGlzLmZpZWxkcy5TdGFydERhdGU7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7IC8vIFN0YXJ0RGF0ZSB0aW1lbGVzc1xyXG4gICAgICB0aGlzLmZpZWxkcy5Sb2xsb3Zlci5lbmFibGUoKTtcclxuICAgICAgc3RhcnREYXRlRmllbGQuZGF0ZUZvcm1hdFRleHQgPSB0aGlzLnN0YXJ0aW5nVGltZWxlc3NGb3JtYXRUZXh0O1xyXG4gICAgICBzdGFydERhdGVGaWVsZC5zaG93VGltZVBpY2tlciA9IGZhbHNlO1xyXG4gICAgICBzdGFydERhdGVGaWVsZC50aW1lbGVzcyA9IHRydWU7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMuX2dldE5ld1N0YXJ0RGF0ZShzdGFydERhdGVGaWVsZC5nZXRWYWx1ZSgpLCB0cnVlKTtcclxuXHJcbiAgICAgIGlmIChzdGFydERhdGUpIHtcclxuICAgICAgICBzdGFydERhdGVGaWVsZC5zZXRWYWx1ZShzdGFydERhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgeyAvLyBTdGFydERhdGUgd2l0aCBvdXQgdGltZSAoVGltZWxlc3MpXHJcbiAgICAgIHRoaXMuZmllbGRzLlJvbGxvdmVyLnNldFZhbHVlKGZhbHNlKTtcclxuICAgICAgdGhpcy5maWVsZHMuUm9sbG92ZXIuZGlzYWJsZSgpO1xyXG4gICAgICBzdGFydERhdGVGaWVsZC5kYXRlRm9ybWF0VGV4dCA9IHRoaXMuc3RhcnRpbmdGb3JtYXRUZXh0O1xyXG4gICAgICBzdGFydERhdGVGaWVsZC5zaG93VGltZVBpY2tlciA9IHRydWU7XHJcbiAgICAgIHN0YXJ0RGF0ZUZpZWxkLnRpbWVsZXNzID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMuX2dldE5ld1N0YXJ0RGF0ZShzdGFydERhdGVGaWVsZC5nZXRWYWx1ZSgpLCBmYWxzZSk7XHJcblxyXG4gICAgICBpZiAoc3RhcnREYXRlKSB7XHJcbiAgICAgICAgc3RhcnREYXRlRmllbGQuc2V0VmFsdWUoc3RhcnREYXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25BbGFybUNoYW5nZTogZnVuY3Rpb24gb25BbGFybUNoYW5nZSgpIHtcclxuICAgIGlmICh0aGlzLmZpZWxkcy5BbGFybS5nZXRWYWx1ZSgpKSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLlJlbWluZGVyLmVuYWJsZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5maWVsZHMuUmVtaW5kZXIuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25MZWFkQ2hhbmdlOiBmdW5jdGlvbiBvbkxlYWRDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBmaWVsZC5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICBpZiAoc2VsZWN0aW9uICYmIHRoaXMuaW5zZXJ0KSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLkFjY291bnROYW1lLnNldFZhbHVlKHV0aWxpdHkuZ2V0VmFsdWUoc2VsZWN0aW9uLCAnQ29tcGFueScpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbnRyeSA9IGZpZWxkLmN1cnJlbnRTZWxlY3Rpb247XHJcbiAgICBpZiAoZW50cnkuV29ya1Bob25lKSB7XHJcbiAgICAgIGNvbnN0IHBob25lRmllbGQgPSB0aGlzLmZpZWxkcy5QaG9uZU51bWJlcjtcclxuICAgICAgcGhvbmVGaWVsZC5zZXRWYWx1ZShlbnRyeS5Xb3JrUGhvbmUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25MZWFkZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uTGVhZGVyQ2hhbmdlKHZhbHVlLCBmaWVsZCkge1xyXG4gICAgY29uc3QgdXNlciA9IGZpZWxkLmdldFZhbHVlKCk7XHJcbiAgICBsZXQgcmVzb3VyY2VJZCA9ICcnO1xyXG5cclxuICAgIGxldCBrZXkgPSB1c2VyLiRrZXk7XHJcblxyXG4gICAgLy8gVGhlIGtleSBpcyBhIGNvbXBvc2l0ZSBrZXkgb24gYWN0aXZpdHlyZXNvdXJjZXZpZXdzIGVuZHBvaW50LlxyXG4gICAgLy8gVGhlIGZvcm1hdCBpcyAnUmVzb3VyY2VJZC1BY2Nlc3NJZCcuXHJcbiAgICAvLyBUaGUgZmVlZCBkb2VzIGluY2x1ZGUgdGhlc2UgYXMgc2VwZXJhdGUgZmllbGRzLCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSAka2V5LyRkZXNjcmlwdG9yIGZvcm1hdCBmb3IgZG9pbmdcclxuICAgIC8vIHRoZSBQVVQgdG8gdGhlIGFjdGl2aXRpZXMgZW5kcG9pbnQuIFdlIHdpbGwgY29udmVydCB0aGUgY29tcG9zaXRlIGtleSB0byBzb21ldGhpbmcgdGhlIGFjdGl2aXRpZXMgZW5kcG9pbnQgd2lsbCB1bmRlcnN0YW5kLlxyXG4gICAgaWYgKGtleSkge1xyXG4gICAgICBrZXkgPSBrZXkuc3BsaXQoJy0nKTtcclxuICAgICAgcmVzb3VyY2VJZCA9IGtleVswXTtcclxuICAgICAgaWYgKHJlc291cmNlSWQpIHtcclxuICAgICAgICB0aGlzLmZpZWxkcy5Vc2VySWQuc2V0VmFsdWUocmVzb3VyY2VJZCk7XHJcblxyXG4gICAgICAgIC8vIFNldCBiYWNrIHRvIGEgc2luZ2xlICRrZXkgc28gdGhlIFBVVCByZXF1ZXN0IHBheWxvYWQgaXMgbm90IG1lc3NlZCB1cFxyXG4gICAgICAgIHRoaXMuZmllbGRzLkxlYWRlci5zZXRWYWx1ZSh7XHJcbiAgICAgICAgICAnJGtleSc6IHJlc291cmNlSWQsXHJcbiAgICAgICAgICAnJGRlc2NyaXB0b3InOiB1c2VyLiRkZXNjcmlwdG9yLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBvbkFjY291bnRDaGFuZ2U6IGZ1bmN0aW9uIG9uQWNjb3VudENoYW5nZSh2YWx1ZSwgZmllbGQpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMuZmllbGRzO1xyXG4gICAgYXJyYXkuZm9yRWFjaChbJ0NvbnRhY3QnLCAnT3Bwb3J0dW5pdHknLCAnVGlja2V0J10sIGZ1bmN0aW9uIGNoZWNrRmllbGRzKGYpIHtcclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgZmllbGRzW2ZdLmRlcGVuZHNPbiA9ICdBY2NvdW50JztcclxuICAgICAgICBmaWVsZHNbZl0ud2hlcmUgPSBzdHJpbmcuc3Vic3RpdHV0ZSgnQWNjb3VudC5JZCBlcSBcIiR7MH1cIicsIFt2YWx1ZS5BY2NvdW50SWQgfHwgdmFsdWUua2V5XSk7XHJcblxyXG4gICAgICAgIGlmIChmaWVsZHNbZl0uY3VycmVudFNlbGVjdGlvbiAmJlxyXG4gICAgICAgICAgZmllbGRzW2ZdLmN1cnJlbnRTZWxlY3Rpb24uQWNjb3VudC4ka2V5ICE9PSAodmFsdWUuQWNjb3VudElkIHx8IHZhbHVlLmtleSkpIHtcclxuICAgICAgICAgIGZpZWxkc1tmXS5zZXRWYWx1ZShmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBObyB3YXkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBmaWVsZCBpcyBwYXJ0IG9mIHRoZSBjaGFuZ2VkIGFjY291bnQsIGNsZWFyIGl0XHJcbiAgICAgICAgaWYgKCFmaWVsZHNbZl0uY3VycmVudFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgZmllbGRzW2ZdLnNldFZhbHVlKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaWVsZHNbZl0uZGVwZW5kc09uID0gbnVsbDtcclxuICAgICAgICBmaWVsZHNbZl0ud2hlcmUgPSAnQWNjb3VudC5BY2NvdW50TmFtZSBuZSBudWxsJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVudHJ5ID0gZmllbGQuY3VycmVudFNlbGVjdGlvbjtcclxuICAgIGlmIChlbnRyeSAmJiBlbnRyeS5NYWluUGhvbmUpIHtcclxuICAgICAgY29uc3QgcGhvbmVGaWVsZCA9IHRoaXMuZmllbGRzLlBob25lTnVtYmVyO1xyXG4gICAgICBwaG9uZUZpZWxkLnNldFZhbHVlKGVudHJ5Lk1haW5QaG9uZSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBvbkNvbnRhY3RDaGFuZ2U6IGZ1bmN0aW9uIG9uQ29udGFjdENoYW5nZSh2YWx1ZSwgZmllbGQpIHtcclxuICAgIHRoaXMub25BY2NvdW50RGVwZW5kZW50Q2hhbmdlKHZhbHVlLCBmaWVsZCk7XHJcbiAgICBjb25zdCBlbnRyeSA9IGZpZWxkLmN1cnJlbnRTZWxlY3Rpb247XHJcblxyXG4gICAgaWYgKGVudHJ5ICYmIGVudHJ5LldvcmtQaG9uZSkge1xyXG4gICAgICBjb25zdCBwaG9uZUZpZWxkID0gdGhpcy5maWVsZHMuUGhvbmVOdW1iZXI7XHJcbiAgICAgIHBob25lRmllbGQuc2V0VmFsdWUoZW50cnkuV29ya1Bob25lKTtcclxuICAgIH1cclxuICB9LFxyXG4gIG9uT3Bwb3J0dW5pdHlDaGFuZ2U6IGZ1bmN0aW9uIG9uT3Bwb3J0dW5pdHlDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICB0aGlzLm9uQWNjb3VudERlcGVuZGVudENoYW5nZSh2YWx1ZSwgZmllbGQpO1xyXG4gICAgY29uc3QgZW50cnkgPSBmaWVsZC5jdXJyZW50U2VsZWN0aW9uO1xyXG5cclxuICAgIGlmIChlbnRyeSAmJiBlbnRyeS5BY2NvdW50ICYmIGVudHJ5LkFjY291bnQuTWFpblBob25lKSB7XHJcbiAgICAgIGNvbnN0IHBob25lRmllbGQgPSB0aGlzLmZpZWxkc1Bob25lTnVtYmVyO1xyXG4gICAgICBwaG9uZUZpZWxkLnNldFZhbHVlKGVudHJ5LkFjY291bnQuTWFpblBob25lKTtcclxuICAgIH1cclxuICB9LFxyXG4gIG9uVGlja2V0Q2hhbmdlOiBmdW5jdGlvbiBvblRpY2tldENoYW5nZSh2YWx1ZSwgZmllbGQpIHtcclxuICAgIHRoaXMub25BY2NvdW50RGVwZW5kZW50Q2hhbmdlKHZhbHVlLCBmaWVsZCk7XHJcbiAgICBjb25zdCBlbnRyeSA9IGZpZWxkLmN1cnJlbnRTZWxlY3Rpb247XHJcbiAgICBjb25zdCBwaG9uZSA9IGVudHJ5ICYmIGVudHJ5LkNvbnRhY3QgJiYgZW50cnkuQ29udGFjdC5Xb3JrUGhvbmUgfHwgZW50cnkgJiYgZW50cnkuQWNjb3VudCAmJiBlbnRyeS5BY2NvdW50Lk1haW5QaG9uZTtcclxuICAgIGlmIChwaG9uZSkge1xyXG4gICAgICBjb25zdCBwaG9uZUZpZWxkID0gdGhpcy5maWVsZHMuUGhvbmVOdW1iZXI7XHJcbiAgICAgIHBob25lRmllbGQuc2V0VmFsdWUocGhvbmUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25BY2NvdW50RGVwZW5kZW50Q2hhbmdlOiBmdW5jdGlvbiBvbkFjY291bnREZXBlbmRlbnRDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgIWZpZWxkLmRlcGVuZHNPbiAmJiBmaWVsZC5jdXJyZW50U2VsZWN0aW9uICYmIGZpZWxkLmN1cnJlbnRTZWxlY3Rpb24uQWNjb3VudCkge1xyXG4gICAgICBjb25zdCBhY2NvdW50RmllbGQgPSB0aGlzLmZpZWxkcy5BY2NvdW50O1xyXG4gICAgICBhY2NvdW50RmllbGQuc2V0VmFsdWUoe1xyXG4gICAgICAgICdBY2NvdW50SWQnOiBmaWVsZC5jdXJyZW50U2VsZWN0aW9uLkFjY291bnQuJGtleSxcclxuICAgICAgICAnQWNjb3VudE5hbWUnOiBmaWVsZC5jdXJyZW50U2VsZWN0aW9uLkFjY291bnQuQWNjb3VudE5hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLm9uQWNjb3VudENoYW5nZShhY2NvdW50RmllbGQuZ2V0VmFsdWUoKSwgYWNjb3VudEZpZWxkKTtcclxuICAgIH1cclxuICB9LFxyXG4gIG9uU3RhcnREYXRlQ2hhbmdlOiBmdW5jdGlvbiBvblN0YXJ0RGF0ZUNoYW5nZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5yZWN1cnJlbmNlLlN0YXJ0RGF0ZSA9IHZhbHVlO1xyXG4gICAgLy8gTmVlZCByZWNhbGN1bGF0ZSBSZWN1clBlcmlvZFNwZWMgaW4gY2FzZSB3ZWVrZGF5IG9uIFN0YXJ0RGF0ZSBjaGFuZ2VzXHJcbiAgICB0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2RTcGVjID0gcmVjdXIuZ2V0UmVjdXJQZXJpb2RTcGVjKFxyXG4gICAgICB0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2QsXHJcbiAgICAgIHRoaXMucmVjdXJyZW5jZS5TdGFydERhdGUsXHJcbiAgICAgIHRoaXMucmVjdXJyZW5jZS5SZWN1clBlcmlvZFNwZWMgLSB0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2RTcGVjICUgNjU1MzYsIC8vIHdlZWtkYXlzXHJcbiAgICAgIHRoaXMucmVjdXJyZW5jZS5SZWN1clBlcmlvZFNwZWMgJSA2NTUzNiAvLyBpbnRlcnZhbFxyXG4gICAgKTtcclxuICAgIHRoaXMucmVzZXRSZWN1cnJlbmNlKHRoaXMucmVjdXJyZW5jZSk7XHJcblxyXG4gICAgcmVjdXIuY3JlYXRlU2ltcGxpZmllZE9wdGlvbnModmFsdWUpO1xyXG5cclxuICAgIGNvbnN0IHJlcGVhdHMgPSAodGhpcy5yZWN1cnJlbmNlLlJlY3VycmVuY2VTdGF0ZSA9PT0gJ3JzdE1hc3RlcicpO1xyXG4gICAgdGhpcy5maWVsZHMuUmVjdXJyZW5jZVVJLnNldFZhbHVlKHJlY3VyLmdldFBhbmVsKHJlcGVhdHMgJiYgdGhpcy5yZWN1cnJlbmNlLlJlY3VyUGVyaW9kKSk7XHJcbiAgfSxcclxuICBvblJlY3VycmVuY2VVSUNoYW5nZTogZnVuY3Rpb24gb25SZWN1cnJlbmNlVUlDaGFuZ2UodmFsdWUsIGZpZWxkKSB7XHJcbiAgICBjb25zdCBrZXkgPSBmaWVsZC5jdXJyZW50VmFsdWUgJiYgZmllbGQuY3VycmVudFZhbHVlLmtleTtcclxuICAgIGNvbnN0IG9wdCA9IHJlY3VyLnNpbXBsaWZpZWRPcHRpb25zW2tleV07XHJcbiAgICAvLyBwcmVzZXJ2ZSAjaXRlcmF0aW9ucyAoYW5kIEVuZERhdGUpIGlmIG1hdGNoaW5nIHJlY3VycmVuY2VcclxuICAgIGlmICh0aGlzLl9wcmV2aW91c1JlY3VycmVuY2UgPT09IGtleSkge1xyXG4gICAgICBvcHQuUmVjdXJJdGVyYXRpb25zID0gdGhpcy5yZWN1cnJlbmNlLlJlY3VySXRlcmF0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2V0UmVjdXJyZW5jZShvcHQpO1xyXG4gICAgdGhpcy5fcHJldmlvdXNSZWN1cnJlbmNlID0ga2V5O1xyXG4gIH0sXHJcbiAgb25SZWN1cnJlbmNlQ2hhbmdlOiBmdW5jdGlvbiBvblJlY3VycmVuY2VDaGFuZ2UodmFsdWUpIHtcclxuICAgIC8vIGRpZCB0aGUgU3RhcnREYXRlIGNoYW5nZSBvbiB0aGUgcmVjdXJyZW5jZV9lZGl0IHNjcmVlbj9cclxuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGFyZ29zLkNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyh2YWx1ZS5TdGFydERhdGUpO1xyXG4gICAgY29uc3QgY3VycmVudERhdGUgPSB0aGlzLmZpZWxkcy5TdGFydERhdGUuZ2V0VmFsdWUoKTtcclxuXHJcbiAgICBpZiAoc3RhcnREYXRlLmdldERhdGUoKSAhPT0gY3VycmVudERhdGUuZ2V0RGF0ZSgpIHx8IHN0YXJ0RGF0ZS5nZXRNb250aCgpICE9PSBjdXJyZW50RGF0ZS5nZXRNb250aCgpKSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLlN0YXJ0RGF0ZS5zZXRWYWx1ZShzdGFydERhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVzZXRSZWN1cnJlbmNlKHZhbHVlKTtcclxuICB9LFxyXG4gIHJlc2V0UmVjdXJyZW5jZTogZnVuY3Rpb24gcmVzZXRSZWN1cnJlbmNlKG8pIHtcclxuICAgIHRoaXMucmVjdXJyZW5jZS5TdGFydERhdGUgPSB0aGlzLmZpZWxkcy5TdGFydERhdGUuZ2V0VmFsdWUoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIG8uUmVjdXJyaW5nICE9PSAndW5kZWZpbmVkJyAmJiBvLlJlY3VycmluZyAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnJlY3VycmVuY2UuUmVjdXJyaW5nID0gby5SZWN1cnJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvLlJlY3VycmVuY2VTdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgby5SZWN1cnJlbmNlU3RhdGUgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5yZWN1cnJlbmNlLlJlY3VycmVuY2VTdGF0ZSA9IG8uUmVjdXJyZW5jZVN0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygby5SZWN1clBlcmlvZCAhPT0gJ3VuZGVmaW5lZCcgJiYgby5SZWN1clBlcmlvZCAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2QgPSBvLlJlY3VyUGVyaW9kO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygby5SZWN1clBlcmlvZFNwZWMgIT09ICd1bmRlZmluZWQnICYmIG8uUmVjdXJQZXJpb2RTcGVjICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMucmVjdXJyZW5jZS5SZWN1clBlcmlvZFNwZWMgPSBvLlJlY3VyUGVyaW9kU3BlYztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIG8uUmVjdXJJdGVyYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiBvLlJlY3VySXRlcmF0aW9ucyAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnJlY3VycmVuY2UuUmVjdXJJdGVyYXRpb25zID0gby5SZWN1ckl0ZXJhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWN1cnJlbmNlLkVuZERhdGUgPSByZWN1ci5jYWxjRW5kRGF0ZSh0aGlzLnJlY3VycmVuY2UuU3RhcnREYXRlLCB0aGlzLnJlY3VycmVuY2UpO1xyXG5cclxuICAgIHRoaXMuZmllbGRzLlJlY3VycmVuY2VVSS5zZXRWYWx1ZShyZWN1ci5nZXRQYW5lbCh0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2QpKTtcclxuICAgIHRoaXMuZmllbGRzLlJlY3VycmVuY2Uuc2V0VmFsdWUodGhpcy5yZWN1cnJlbmNlKTtcclxuXHJcbiAgICB0aGlzLmZpZWxkcy5SZWN1cnJpbmcuc2V0VmFsdWUodGhpcy5yZWN1cnJlbmNlLlJlY3VycmluZyk7XHJcbiAgICB0aGlzLmZpZWxkcy5SZWN1clBlcmlvZC5zZXRWYWx1ZSh0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2QpO1xyXG4gICAgdGhpcy5maWVsZHMuUmVjdXJQZXJpb2RTcGVjLnNldFZhbHVlKHRoaXMucmVjdXJyZW5jZS5SZWN1cnJpbmcgPyB0aGlzLnJlY3VycmVuY2UuUmVjdXJQZXJpb2RTcGVjIDogMCk7XHJcbiAgICB0aGlzLmZpZWxkcy5SZWN1cnJlbmNlU3RhdGUuc2V0VmFsdWUodGhpcy5yZWN1cnJlbmNlLlJlY3VycmVuY2VTdGF0ZSk7XHJcbiAgICB0aGlzLmZpZWxkcy5SZWN1ckl0ZXJhdGlvbnMuc2V0VmFsdWUodGhpcy5yZWN1cnJlbmNlLlJlY3VySXRlcmF0aW9ucyk7XHJcbiAgICB0aGlzLmZpZWxkcy5FbmREYXRlLnNldFZhbHVlKHRoaXMucmVjdXJyZW5jZS5FbmREYXRlKTtcclxuXHJcbiAgICBpZiAoby5SZWN1cnJpbmcpIHtcclxuICAgICAgdGhpcy5maWVsZHMuUmVjdXJyZW5jZS5lbmFibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLlJlY3VycmVuY2UuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZvcm1hdFBpY2tsaXN0Rm9yVHlwZTogZnVuY3Rpb24gZm9ybWF0UGlja2xpc3RGb3JUeXBlKHR5cGUsIHdoaWNoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5waWNrbGlzdHNCeVR5cGVbdHlwZV0gJiYgdGhpcy5waWNrbGlzdHNCeVR5cGVbdHlwZV1bd2hpY2hdO1xyXG4gIH0sXHJcbiAgZm9ybWF0UmVjdXJyZW5jZTogZnVuY3Rpb24gZm9ybWF0UmVjdXJyZW5jZShyZWN1cnJlbmNlKSB7XHJcbiAgICBpZiAodHlwZW9mIHJlY3VycmVuY2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiByZWN1cnJlbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZWN1ci50b1N0cmluZyhyZWN1cnJlbmNlLCB0cnVlKTtcclxuICB9LFxyXG4gIF9nZXRDYWxjdWxhdGVkU3RhcnRUaW1lOiBmdW5jdGlvbiBfZ2V0Q2FsY3VsYXRlZFN0YXJ0VGltZShzZWxlY3RlZERhdGUpIHtcclxuICAgIGNvbnN0IG5vdyA9IG1vbWVudCgpO1xyXG4gICAgbGV0IHRoaXNTZWxlY3RlZERhdGUgPSBzZWxlY3RlZERhdGU7XHJcblxyXG4gICAgaWYgKCFtb21lbnQuaXNNb21lbnQoc2VsZWN0ZWREYXRlKSkge1xyXG4gICAgICB0aGlzU2VsZWN0ZWREYXRlID0gbW9tZW50KHNlbGVjdGVkRGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGFrZSB0aGUgc3RhcnQgb2YgdGhlIHNlbGVjdGVkIGRhdGUsIGFkZCB0aGUgKmN1cnJlbnQqIHRpbWUgdG8gaXQsXHJcbiAgICAvLyBhbmQgcm91bmQgaXQgdXAgdG8gdGhlIG5lYXJlc3QgUk9VTkRfTUlOVVRFU1xyXG4gICAgLy8gRXhhbXBsZXM6XHJcbiAgICAvLyAxMToyNCAtPiAxMTozMFxyXG4gICAgLy8gMTE6MTIgLT4gMTE6MTVcclxuICAgIC8vIDExOjMxIC0+IDExOjQ1XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSB0aGlzU2VsZWN0ZWREYXRlLmNsb25lKClcclxuICAgICAgLnN0YXJ0T2YoJ2RheScpXHJcbiAgICAgIC5ob3Vycyhub3cuaG91cnMoKSlcclxuICAgICAgLmFkZCh7XHJcbiAgICAgICAgJ21pbnV0ZXMnOiAoTWF0aC5mbG9vcihub3cubWludXRlcygpIC8gdGhpcy5ST1VORF9NSU5VVEVTKSAqIHRoaXMuUk9VTkRfTUlOVVRFUykgKyB0aGlzLlJPVU5EX01JTlVURVMsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzdGFydERhdGU7XHJcbiAgfSxcclxuICBhcHBseVVzZXJBY3Rpdml0eUNvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5VXNlckFjdGl2aXR5Q29udGV4dChvcHRpb25zRGF0ZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldENhbGN1bGF0ZWRTdGFydFRpbWUob3B0aW9uc0RhdGUpO1xyXG4gIH0sXHJcbiAgYXBwbHlDb250ZXh0OiBmdW5jdGlvbiBhcHBseUNvbnRleHQoKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG5cclxuICAgIGxldCBzdGFydERhdGUgPSB0aGlzLl9nZXRDYWxjdWxhdGVkU3RhcnRUaW1lKG1vbWVudCgpKTtcclxuICAgIGNvbnN0IGFjdGl2aXR5VHlwZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWN0aXZpdHlUeXBlO1xyXG4gICAgY29uc3QgYWN0aXZpdHlHcm91cCA9IHRoaXMuZ3JvdXBPcHRpb25zQnlUeXBlW2FjdGl2aXR5VHlwZV0gfHwgJyc7XHJcbiAgICBjb25zdCBhY3Rpdml0eUR1cmF0aW9uID0gQXBwLmNvbnRleHQudXNlck9wdGlvbnMgJiYgQXBwLmNvbnRleHQudXNlck9wdGlvbnNbYWN0aXZpdHlHcm91cCArICc6RHVyYXRpb24nXSB8fCAxNTtcclxuICAgIGNvbnN0IGFsYXJtRW5hYmxlZCA9IEFwcC5jb250ZXh0LnVzZXJPcHRpb25zICYmIEFwcC5jb250ZXh0LnVzZXJPcHRpb25zW2FjdGl2aXR5R3JvdXAgKyAnOkFsYXJtRW5hYmxlZCddIHx8IHRydWU7XHJcbiAgICBjb25zdCBhbGFybUR1cmF0aW9uID0gQXBwLmNvbnRleHQudXNlck9wdGlvbnMgJiYgQXBwLmNvbnRleHQudXNlck9wdGlvbnNbYWN0aXZpdHlHcm91cCArICc6QWxhcm1MZWFkJ10gfHwgMTU7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY3VycmVudERhdGUpIHtcclxuICAgICAgc3RhcnREYXRlID0gdGhpcy5hcHBseVVzZXJBY3Rpdml0eUNvbnRleHQobW9tZW50KHRoaXMub3B0aW9ucy5jdXJyZW50RGF0ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmllbGRzLlN0YXJ0RGF0ZS5zZXRWYWx1ZShzdGFydERhdGUudG9EYXRlKCkpO1xyXG4gICAgdGhpcy5maWVsZHMuVHlwZS5zZXRWYWx1ZShhY3Rpdml0eVR5cGUpO1xyXG4gICAgdGhpcy5maWVsZHMuRHVyYXRpb24uc2V0VmFsdWUoYWN0aXZpdHlEdXJhdGlvbik7XHJcbiAgICB0aGlzLmZpZWxkcy5BbGFybS5zZXRWYWx1ZShhbGFybUVuYWJsZWQpO1xyXG4gICAgdGhpcy5maWVsZHMuUmVtaW5kZXIuc2V0VmFsdWUoYWxhcm1EdXJhdGlvbik7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IEFwcC5jb250ZXh0LnVzZXI7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICB0aGlzLmZpZWxkcy5Vc2VySWQuc2V0VmFsdWUodXNlci4ka2V5KTtcclxuXHJcbiAgICAgIGNvbnN0IGxlYWRlckZpZWxkID0gdGhpcy5maWVsZHMuTGVhZGVyO1xyXG4gICAgICBsZWFkZXJGaWVsZC5zZXRWYWx1ZSh1c2VyKTtcclxuICAgICAgdGhpcy5vbkxlYWRlckNoYW5nZSh1c2VyLCBsZWFkZXJGaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm91bmQgPSB0aGlzLl9nZXROYXZDb250ZXh0KCk7XHJcblxyXG4gICAgY29uc3QgYWNjb3VudEZpZWxkID0gdGhpcy5maWVsZHMuQWNjb3VudDtcclxuICAgIHRoaXMub25BY2NvdW50Q2hhbmdlKGFjY291bnRGaWVsZC5nZXRWYWx1ZSgpLCBhY2NvdW50RmllbGQpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRleHQgPSAoZm91bmQgJiYgZm91bmQub3B0aW9ucyAmJiBmb3VuZC5vcHRpb25zLnNvdXJjZSkgfHwgZm91bmQ7XHJcbiAgICBjb25zdCBsb29rdXAgPSB7XHJcbiAgICAgICdhY2NvdW50cyc6IHRoaXMuYXBwbHlBY2NvdW50Q29udGV4dCxcclxuICAgICAgJ2NvbnRhY3RzJzogdGhpcy5hcHBseUNvbnRhY3RDb250ZXh0LFxyXG4gICAgICAnb3Bwb3J0dW5pdGllcyc6IHRoaXMuYXBwbHlPcHBvcnR1bml0eUNvbnRleHQsXHJcbiAgICAgICd0aWNrZXRzJzogdGhpcy5hcHBseVRpY2tldENvbnRleHQsXHJcbiAgICAgICdsZWFkcyc6IHRoaXMuYXBwbHlMZWFkQ29udGV4dCxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGNvbnRleHQgJiYgbG9va3VwW2NvbnRleHQucmVzb3VyY2VLaW5kXSkge1xyXG4gICAgICBsb29rdXBbY29udGV4dC5yZXNvdXJjZUtpbmRdLmNhbGwodGhpcywgY29udGV4dCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBfZ2V0TmF2Q29udGV4dDogZnVuY3Rpb24gX2dldE5hdkNvbnRleHQoKSB7XHJcbiAgICBjb25zdCBuYXZDb250ZXh0ID0gQXBwLnF1ZXJ5TmF2aWdhdGlvbkNvbnRleHQoZnVuY3Rpb24gY2hlY2tDb250ZXh0KG8pIHtcclxuICAgICAgY29uc3QgY29udGV4dCA9IChvLm9wdGlvbnMgJiYgby5vcHRpb25zLnNvdXJjZSkgfHwgbztcclxuXHJcbiAgICAgIGlmICgvXihhY2NvdW50c3xjb250YWN0c3xvcHBvcnR1bml0aWVzfHRpY2tldHN8bGVhZHMpJC8udGVzdChjb250ZXh0LnJlc291cmNlS2luZCkgJiYgY29udGV4dC5rZXkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbmF2Q29udGV4dDtcclxuICB9LFxyXG4gIGFwcGx5QWNjb3VudENvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5QWNjb3VudENvbnRleHQoY29udGV4dCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KGNvbnRleHQuaWQpO1xyXG4gICAgY29uc3QgZW50cnkgPSBjb250ZXh0LmVudHJ5IHx8ICh2aWV3ICYmIHZpZXcuZW50cnkpIHx8IGNvbnRleHQ7XHJcblxyXG4gICAgaWYgKCFlbnRyeSB8fCAhZW50cnkuJGtleSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWNjb3VudEZpZWxkID0gdGhpcy5maWVsZHMuQWNjb3VudDtcclxuICAgIGFjY291bnRGaWVsZC5zZXRTZWxlY3Rpb24oZW50cnkpO1xyXG4gICAgYWNjb3VudEZpZWxkLnNldFZhbHVlKHtcclxuICAgICAgJ0FjY291bnRJZCc6IGVudHJ5LiRrZXksXHJcbiAgICAgICdBY2NvdW50TmFtZSc6IGVudHJ5LiRkZXNjcmlwdG9yLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9uQWNjb3VudENoYW5nZShhY2NvdW50RmllbGQuZ2V0VmFsdWUoKSwgYWNjb3VudEZpZWxkKTtcclxuICB9LFxyXG4gIGFwcGx5Q29udGFjdENvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5Q29udGFjdENvbnRleHQoY29udGV4dCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KGNvbnRleHQuaWQpO1xyXG4gICAgY29uc3QgZW50cnkgPSBjb250ZXh0LmVudHJ5IHx8ICh2aWV3ICYmIHZpZXcuZW50cnkpIHx8IGNvbnRleHQ7XHJcblxyXG4gICAgaWYgKCFlbnRyeSB8fCAhZW50cnkuJGtleSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGFjdEZpZWxkID0gdGhpcy5maWVsZHMuQ29udGFjdDtcclxuXHJcbiAgICBjb250YWN0RmllbGQuc2V0U2VsZWN0aW9uKGVudHJ5KTtcclxuICAgIGNvbnRhY3RGaWVsZC5zZXRWYWx1ZSh7XHJcbiAgICAgICdDb250YWN0SWQnOiBlbnRyeS4ka2V5LFxyXG4gICAgICAnQ29udGFjdE5hbWUnOiBlbnRyeS4kZGVzY3JpcHRvcixcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMub25BY2NvdW50RGVwZW5kZW50Q2hhbmdlKGNvbnRhY3RGaWVsZC5nZXRWYWx1ZSgpLCBjb250YWN0RmllbGQpO1xyXG5cclxuICAgIGNvbnN0IGFjY291bnRGaWVsZCA9IHRoaXMuZmllbGRzLkFjY291bnQ7XHJcbiAgICBhY2NvdW50RmllbGQuc2V0VmFsdWUoe1xyXG4gICAgICAnQWNjb3VudElkJzogdXRpbGl0eS5nZXRWYWx1ZShlbnRyeSwgJ0FjY291bnQuJGtleScpLFxyXG4gICAgICAnQWNjb3VudE5hbWUnOiB1dGlsaXR5LmdldFZhbHVlKGVudHJ5LCAnQWNjb3VudC5BY2NvdW50TmFtZScpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVudHJ5LldvcmtQaG9uZSkge1xyXG4gICAgICBjb25zdCBwaG9uZUZpZWxkID0gdGhpcy5maWVsZHMuUGhvbmVOdW1iZXI7XHJcbiAgICAgIHBob25lRmllbGQuc2V0VmFsdWUoZW50cnkuV29ya1Bob25lKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFwcGx5VGlja2V0Q29udGV4dDogZnVuY3Rpb24gYXBwbHlUaWNrZXRDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyhjb250ZXh0LmlkKTtcclxuICAgIGNvbnN0IGVudHJ5ID0gY29udGV4dC5lbnRyeSB8fCAodmlldyAmJiB2aWV3LmVudHJ5KTtcclxuXHJcbiAgICBpZiAoIWVudHJ5IHx8ICFlbnRyeS4ka2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aWNrZXRGaWVsZCA9IHRoaXMuZmllbGRzLlRpY2tldDtcclxuICAgIHRpY2tldEZpZWxkLnNldFNlbGVjdGlvbihlbnRyeSk7XHJcbiAgICB0aWNrZXRGaWVsZC5zZXRWYWx1ZSh7XHJcbiAgICAgICdUaWNrZXRJZCc6IGVudHJ5LiRrZXksXHJcbiAgICAgICdUaWNrZXROdW1iZXInOiBlbnRyeS4kZGVzY3JpcHRvcixcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vbkFjY291bnREZXBlbmRlbnRDaGFuZ2UodGlja2V0RmllbGQuZ2V0VmFsdWUoKSwgdGlja2V0RmllbGQpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhY3RGaWVsZCA9IHRoaXMuZmllbGRzLkNvbnRhY3Q7XHJcbiAgICBjb250YWN0RmllbGQuc2V0VmFsdWUoe1xyXG4gICAgICAnQ29udGFjdElkJzogdXRpbGl0eS5nZXRWYWx1ZShlbnRyeSwgJ0NvbnRhY3QuJGtleScpLFxyXG4gICAgICAnQ29udGFjdE5hbWUnOiB1dGlsaXR5LmdldFZhbHVlKGVudHJ5LCAnQ29udGFjdC5OYW1lTEYnKSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vbkFjY291bnREZXBlbmRlbnRDaGFuZ2UoY29udGFjdEZpZWxkLmdldFZhbHVlKCksIGNvbnRhY3RGaWVsZCk7XHJcblxyXG4gICAgY29uc3QgYWNjb3VudEZpZWxkID0gdGhpcy5maWVsZHMuQWNjb3VudDtcclxuICAgIGFjY291bnRGaWVsZC5zZXRWYWx1ZSh7XHJcbiAgICAgICdBY2NvdW50SWQnOiB1dGlsaXR5LmdldFZhbHVlKGVudHJ5LCAnQWNjb3VudC4ka2V5JyksXHJcbiAgICAgICdBY2NvdW50TmFtZSc6IHV0aWxpdHkuZ2V0VmFsdWUoZW50cnksICdBY2NvdW50LkFjY291bnROYW1lJyksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBwaG9uZSA9IGVudHJ5ICYmIGVudHJ5LkNvbnRhY3QgJiYgZW50cnkuQ29udGFjdC5Xb3JrUGhvbmUgfHwgZW50cnkgJiYgZW50cnkuQWNjb3VudCAmJiBlbnRyeS5BY2NvdW50Lk1haW5QaG9uZTtcclxuICAgIGlmIChwaG9uZSkge1xyXG4gICAgICBjb25zdCBwaG9uZUZpZWxkID0gdGhpcy5maWVsZHMuUGhvbmVOdW1iZXI7XHJcbiAgICAgIHBob25lRmllbGQuc2V0VmFsdWUocGhvbmUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXBwbHlPcHBvcnR1bml0eUNvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5T3Bwb3J0dW5pdHlDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyhjb250ZXh0LmlkKTtcclxuICAgIGNvbnN0IGVudHJ5ID0gY29udGV4dC5lbnRyeSB8fCAodmlldyAmJiB2aWV3LmVudHJ5KTtcclxuXHJcbiAgICBpZiAoIWVudHJ5IHx8ICFlbnRyeS4ka2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvcHBvcnR1bml0eUZpZWxkID0gdGhpcy5maWVsZHMuT3Bwb3J0dW5pdHk7XHJcbiAgICBvcHBvcnR1bml0eUZpZWxkLnNldFNlbGVjdGlvbihlbnRyeSk7XHJcbiAgICBvcHBvcnR1bml0eUZpZWxkLnNldFZhbHVlKHtcclxuICAgICAgJ09wcG9ydHVuaXR5SWQnOiBlbnRyeS4ka2V5LFxyXG4gICAgICAnT3Bwb3J0dW5pdHlOYW1lJzogZW50cnkuJGRlc2NyaXB0b3IsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm9uQWNjb3VudERlcGVuZGVudENoYW5nZShvcHBvcnR1bml0eUZpZWxkLmdldFZhbHVlKCksIG9wcG9ydHVuaXR5RmllbGQpO1xyXG5cclxuICAgIGNvbnN0IGFjY291bnRGaWVsZCA9IHRoaXMuZmllbGRzLkFjY291bnQ7XHJcbiAgICBhY2NvdW50RmllbGQuc2V0VmFsdWUoe1xyXG4gICAgICAnQWNjb3VudElkJzogdXRpbGl0eS5nZXRWYWx1ZShlbnRyeSwgJ0FjY291bnQuJGtleScpLFxyXG4gICAgICAnQWNjb3VudE5hbWUnOiB1dGlsaXR5LmdldFZhbHVlKGVudHJ5LCAnQWNjb3VudC5BY2NvdW50TmFtZScpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGVudHJ5LkFjY291bnQgJiYgZW50cnkuQWNjb3VudC5NYWluUGhvbmUpIHtcclxuICAgICAgY29uc3QgcGhvbmVGaWVsZCA9IHRoaXMuZmllbGRzLlBob25lTnVtYmVyO1xyXG4gICAgICBwaG9uZUZpZWxkLnNldFZhbHVlKGVudHJ5LkFjY291bnQuTWFpblBob25lKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFwcGx5TGVhZENvbnRleHQ6IGZ1bmN0aW9uIGFwcGx5TGVhZENvbnRleHQoY29udGV4dCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KGNvbnRleHQuaWQpO1xyXG4gICAgY29uc3QgZW50cnkgPSBjb250ZXh0LmVudHJ5IHx8ICh2aWV3ICYmIHZpZXcuZW50cnkpO1xyXG5cclxuICAgIGlmICghZW50cnkgfHwgIWVudHJ5LiRrZXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxlYWRGaWVsZCA9IHRoaXMuZmllbGRzLkxlYWQ7XHJcbiAgICBsZWFkRmllbGQuc2V0U2VsZWN0aW9uKGVudHJ5KTtcclxuICAgIGxlYWRGaWVsZC5zZXRWYWx1ZSh7XHJcbiAgICAgICdMZWFkSWQnOiBlbnRyeS4ka2V5LFxyXG4gICAgICAnTGVhZE5hbWUnOiBlbnRyeS4kZGVzY3JpcHRvcixcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vbkxlYWRDaGFuZ2UobGVhZEZpZWxkLmdldFZhbHVlKCksIGxlYWRGaWVsZCk7XHJcblxyXG4gICAgdGhpcy5maWVsZHMuQWNjb3VudE5hbWUuc2V0VmFsdWUoZW50cnkuQ29tcGFueSk7XHJcblxyXG4gICAgY29uc3QgaXNMZWFkRmllbGQgPSB0aGlzLmZpZWxkcy5Jc0xlYWQ7XHJcbiAgICBpc0xlYWRGaWVsZC5zZXRWYWx1ZShjb250ZXh0LnJlc291cmNlS2luZCA9PT0gJ2xlYWRzJyk7XHJcbiAgICB0aGlzLm9uSXNMZWFkQ2hhbmdlKGlzTGVhZEZpZWxkLmdldFZhbHVlKCksIGlzTGVhZEZpZWxkKTtcclxuXHJcbiAgICBpZiAoZW50cnkuV29ya1Bob25lKSB7XHJcbiAgICAgIGNvbnN0IHBob25lRmllbGQgPSB0aGlzLmZpZWxkcy5QaG9uZU51bWJlcjtcclxuICAgICAgcGhvbmVGaWVsZC5zZXRWYWx1ZShlbnRyeS5Xb3JrUGhvbmUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2V0VmFsdWVzOiBmdW5jdGlvbiBzZXRWYWx1ZXModmFsdWVzKSB7XHJcbiAgICBpZiAodmFsdWVzLlN0YXJ0RGF0ZSAmJiB2YWx1ZXMuQWxhcm1UaW1lKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9ICh0aGlzLmlzRGF0ZVRpbWVsZXNzKHZhbHVlcy5TdGFydERhdGUpKSA/IG1vbWVudCh2YWx1ZXMuU3RhcnREYXRlKVxyXG4gICAgICAgIC5hZGQoe1xyXG4gICAgICAgICAgbWludXRlczogdmFsdWVzLlN0YXJ0RGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRvRGF0ZSgpXHJcbiAgICAgICAgLmdldFRpbWUoKSA6IHZhbHVlcy5TdGFydERhdGUuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgY29uc3Qgc3BhbiA9IHN0YXJ0VGltZSAtIHZhbHVlcy5BbGFybVRpbWUuZ2V0VGltZSgpOyAvLyBtc1xyXG4gICAgICBjb25zdCByZW1pbmRlciA9IHNwYW4gLyAoMTAwMCAqIDYwKTtcclxuXHJcbiAgICAgIHZhbHVlcy5SZW1pbmRlciA9IGZvcm1hdC5maXhlZChyZW1pbmRlciwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuXHJcbiAgICB0aGlzLmVuYWJsZUZpZWxkcygpO1xyXG5cclxuICAgIGlmICh2YWx1ZXMuVGltZWxlc3MpIHtcclxuICAgICAgdGhpcy5maWVsZHMuRHVyYXRpb24uZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLmZpZWxkcy5Sb2xsb3Zlci5lbmFibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLkR1cmF0aW9uLmVuYWJsZSgpO1xyXG4gICAgICB0aGlzLmZpZWxkcy5Sb2xsb3Zlci5kaXNhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbHVlcy5BbGFybSkge1xyXG4gICAgICB0aGlzLmZpZWxkcy5SZW1pbmRlci5lbmFibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmllbGRzLlJlbWluZGVyLmRpc2FibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc0luTGVhZENvbnRleHQoKSkge1xyXG4gICAgICBjb25zdCBpc0xlYWRGaWVsZCA9IHRoaXMuZmllbGRzLklzTGVhZDtcclxuICAgICAgaXNMZWFkRmllbGQuc2V0VmFsdWUodHJ1ZSk7XHJcbiAgICAgIHRoaXMub25Jc0xlYWRDaGFuZ2UoaXNMZWFkRmllbGQuZ2V0VmFsdWUoKSwgaXNMZWFkRmllbGQpO1xyXG4gICAgICB0aGlzLmZpZWxkcy5MZWFkLnNldFZhbHVlKHZhbHVlcywgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuZmllbGRzLkFjY291bnROYW1lLnNldFZhbHVlKHZhbHVlcy5BY2NvdW50TmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm9wdGlvbnMuZW50cnkgfHwgdGhpcy5lbnRyeTtcclxuICAgIGNvbnN0IGRlbnlFZGl0ID0gIXRoaXMub3B0aW9ucy5pbnNlcnQgJiYgIXRoaXMuY3VycmVudFVzZXJDYW5FZGl0KGVudHJ5KTtcclxuICAgIGNvbnN0IGFsbG93U2V0QWxhcm0gPSAhZGVueUVkaXQgfHwgdGhpcy5jdXJyZW50VXNlckNhblNldEFsYXJtKGVudHJ5KTtcclxuXHJcbiAgICBpZiAoZGVueUVkaXQpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlRmllbGRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFsbG93U2V0QWxhcm0pIHtcclxuICAgICAgdGhpcy5lbmFibGVGaWVsZHMoZnVuY3Rpb24gYWxhcm1SZW1pbmRlclRlc3QoZikge1xyXG4gICAgICAgIHJldHVybiAoL15BbGFybXxSZW1pbmRlciQvKVxyXG4gICAgICAgICAgLnRlc3QoZi5uYW1lKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWN1cnJlbmNlLlN0YXJ0RGF0ZSA9IGFyZ29zLkNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyh2YWx1ZXMuU3RhcnREYXRlKTtcclxuICAgIHRoaXMucmVzZXRSZWN1cnJlbmNlKHZhbHVlcyk7XHJcbiAgICB0aGlzLm9uU3RhcnREYXRlQ2hhbmdlKHRoaXMuZmllbGRzLlN0YXJ0RGF0ZS5nZXRWYWx1ZSgpLCB0aGlzLmZpZWxkcy5TdGFydERhdGUpO1xyXG4gICAgaWYgKHRoaXMuaXNBY3Rpdml0eVJlY3VycmluZykge1xyXG4gICAgICB0aGlzLmZpZWxkcy5FbmREYXRlLmhpZGUoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGlzRGF0ZVRpbWVsZXNzOiBmdW5jdGlvbiBpc0RhdGVUaW1lbGVzcyhkYXRlKSB7XHJcbiAgICBpZiAoIWRhdGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGUuZ2V0VVRDSG91cnMoKSAhPT0gMCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0ZS5nZXRVVENNaW51dGVzKCkgIT09IDApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGUuZ2V0VVRDU2Vjb25kcygpICE9PSA1KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9LFxyXG4gIGlzRGF0ZVRpbWVsZXNzTG9jYWw6IGZ1bmN0aW9uIGlzRGF0ZVRpbWVsZXNzTG9jYWwoZGF0ZSkge1xyXG4gICAgaWYgKCFkYXRlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChkYXRlLmdldEhvdXJzKCkgIT09IDApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGUuZ2V0TWludXRlcygpICE9PSAwKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChkYXRlLmdldFNlY29uZHMoKSAhPT0gNSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSxcclxuICBnZXRWYWx1ZXM6IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlzU3RhcnREYXRlRGlydHkgPSB0aGlzLmZpZWxkcy5TdGFydERhdGUuaXNEaXJ0eSgpO1xyXG4gICAgY29uc3QgaXNSZW1pbmRlckRpcnR5ID0gdGhpcy5maWVsZHMuUmVtaW5kZXIuaXNEaXJ0eSgpO1xyXG4gICAgY29uc3QgcmVtaW5kZXJJbiA9IHRoaXMuZmllbGRzLlJlbWluZGVyLmdldFZhbHVlKCk7XHJcbiAgICBjb25zdCB0aW1lbGVzcyA9IHRoaXMuZmllbGRzLlRpbWVsZXNzLmdldFZhbHVlKCk7XHJcbiAgICBsZXQgc3RhcnREYXRlID0gdGhpcy5maWVsZHMuU3RhcnREYXRlLmdldFZhbHVlKCk7XHJcbiAgICBsZXQgdmFsdWVzID0gdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuXHJcbiAgICAvLyBGaXggdGltZWxlc3MgaWYgbmVjZXNzYXJ5IChUaGUgZGF0ZSBwaWNrZXIgd29uJ3QgYWRkIDUgc2Vjb25kcylcclxuICAgIGlmICh0aW1lbGVzcykge1xyXG4gICAgICB2YWx1ZXMuU3RhcnREYXRlID0gc3RhcnREYXRlID0gdGhpcy5fZ2V0TmV3U3RhcnREYXRlKHN0YXJ0RGF0ZSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgU3RhcnREYXRlIGlzIGRpcnR5LCBhbHdheXMgdXBkYXRlIEFsYXJtVGltZVxyXG4gICAgaWYgKHN0YXJ0RGF0ZSAmJiAoaXNTdGFydERhdGVEaXJ0eSB8fCBpc1JlbWluZGVyRGlydHkpKSB7XHJcbiAgICAgIHZhbHVlcyA9IHZhbHVlcyB8fCB7fTtcclxuICAgICAgY29uc3QgYWxhcm1UaW1lID0gdGhpcy5fZ2V0TmV3QWxhcm1UaW1lKHN0YXJ0RGF0ZSwgdGltZWxlc3MsIHJlbWluZGVySW4pO1xyXG4gICAgICB2YWx1ZXMuQWxhcm1UaW1lID0gYWxhcm1UaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfSxcclxuICBjcmVhdGVSZW1pbmRlckRhdGE6IGZ1bmN0aW9uIGNyZWF0ZVJlbWluZGVyRGF0YSgpIHtcclxuICAgIGNvbnN0IGxpc3QgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGR1cmF0aW9uIGluIHRoaXMucmVtaW5kZXJWYWx1ZVRleHQpIHtcclxuICAgICAgaWYgKHRoaXMucmVtaW5kZXJWYWx1ZVRleHQuaGFzT3duUHJvcGVydHkoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgbGlzdC5wdXNoKHtcclxuICAgICAgICAgICcka2V5JzogZHVyYXRpb24sXHJcbiAgICAgICAgICAnJGRlc2NyaXB0b3InOiB0aGlzLnJlbWluZGVyVmFsdWVUZXh0W2R1cmF0aW9uXSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICckcmVzb3VyY2VzJzogbGlzdCxcclxuICAgIH07XHJcbiAgfSxcclxuICBjcmVhdGVEdXJhdGlvbkRhdGE6IGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uRGF0YSgpIHtcclxuICAgIGNvbnN0IGxpc3QgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGR1cmF0aW9uIGluIHRoaXMuZHVyYXRpb25WYWx1ZVRleHQpIHtcclxuICAgICAgaWYgKHRoaXMuZHVyYXRpb25WYWx1ZVRleHQuaGFzT3duUHJvcGVydHkoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgbGlzdC5wdXNoKHtcclxuICAgICAgICAgICcka2V5JzogZHVyYXRpb24sXHJcbiAgICAgICAgICAnJGRlc2NyaXB0b3InOiB0aGlzLmR1cmF0aW9uVmFsdWVUZXh0W2R1cmF0aW9uXSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICckcmVzb3VyY2VzJzogbGlzdCxcclxuICAgIH07XHJcbiAgfSxcclxuICBjcmVhdGVSZWN1cnJpbmdEYXRhOiBmdW5jdGlvbiBjcmVhdGVSZWN1cnJpbmdEYXRhKCkge1xyXG4gICAgcmV0dXJuIHJlY3VyLmNyZWF0ZVNpbXBsaWZpZWRPcHRpb25zKHRoaXMuZmllbGRzLlN0YXJ0RGF0ZS5nZXRWYWx1ZSgpKTtcclxuICB9LFxyXG4gIGZvcm1hdERlcGVuZGVudFF1ZXJ5OiBmdW5jdGlvbiBmb3JtYXREZXBlbmRlbnRRdWVyeShkZXBlbmRlbnRWYWx1ZSwgdGhlRm9ybWF0LCBwcm9wZXJ0eSkge1xyXG4gICAgcmV0dXJuIHN0cmluZy5zdWJzdGl0dXRlKHRoZUZvcm1hdCwgW3V0aWxpdHkuZ2V0VmFsdWUoZGVwZW5kZW50VmFsdWUsIHByb3BlcnR5IHx8ICcka2V5JyldKTtcclxuICB9LFxyXG4gIF9nZXROZXdTdGFydERhdGU6IGZ1bmN0aW9uIF9nZXROZXdTdGFydERhdGUob3JnaW5hbFN0YXJ0RGF0ZSwgdGltZWxlc3MpIHtcclxuICAgIGlmICghb3JnaW5hbFN0YXJ0RGF0ZSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3RhcnREYXRlID0gb3JnaW5hbFN0YXJ0RGF0ZTtcclxuICAgIGNvbnN0IGlzVGltZUxlc3NEYXRlID0gdGhpcy5pc0RhdGVUaW1lbGVzcyhzdGFydERhdGUpIHx8IHRoaXMuaXNEYXRlVGltZWxlc3NMb2NhbChzdGFydERhdGUpO1xyXG5cclxuICAgIGlmICh0aW1lbGVzcykge1xyXG4gICAgICBpZiAoIWlzVGltZUxlc3NEYXRlKSB7XHJcbiAgICAgICAgbGV0IHdyYXBwZWQgPSBtb21lbnQoc3RhcnREYXRlKTtcclxuICAgICAgICB3cmFwcGVkID0gbW9tZW50LnV0Yyh3cmFwcGVkLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAnWVlZWS1NTS1ERCcpO1xyXG4gICAgICAgIHdyYXBwZWQuYWRkKCdzZWNvbmRzJywgNSk7XHJcbiAgICAgICAgc3RhcnREYXRlID0gd3JhcHBlZC50b0RhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGlzVGltZUxlc3NEYXRlKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBtb21lbnQoKTtcclxuICAgICAgICBjb25zdCB3cmFwcGVkID0gbW9tZW50KHN0YXJ0RGF0ZSk7XHJcbiAgICAgICAgd3JhcHBlZC5zdWJ0cmFjdCh7XHJcbiAgICAgICAgICBtaW51dGVzOiB3cmFwcGVkLnV0Y09mZnNldCgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdyYXBwZWQuaG91cnMoY3VycmVudFRpbWUuaG91cnMoKSk7XHJcbiAgICAgICAgd3JhcHBlZC5taW51dGVzKGN1cnJlbnRUaW1lLm1pbnV0ZXMoKSk7XHJcbiAgICAgICAgd3JhcHBlZC5zZWNvbmRzKDApO1xyXG4gICAgICAgIHN0YXJ0RGF0ZSA9IHdyYXBwZWQudG9EYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RhcnREYXRlO1xyXG4gIH0sXHJcbiAgX2dldE5ld0FsYXJtVGltZTogZnVuY3Rpb24gX2dldE5ld0FsYXJtVGltZShzdGFydERhdGUsIHRpbWVsZXNzLCByZW1pbmRlckluKSB7XHJcbiAgICBsZXQgYWxhcm1UaW1lO1xyXG4gICAgaWYgKCFzdGFydERhdGUpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRpbWVsZXNzKSB7XHJcbiAgICAgIGNvbnN0IHdyYXBwZWQgPSBtb21lbnQoc3RhcnREYXRlKTtcclxuICAgICAgd3JhcHBlZC5zdWJ0cmFjdCh7XHJcbiAgICAgICAgbWludXRlczogd3JhcHBlZC51dGNPZmZzZXQoKSxcclxuICAgICAgfSk7XHJcbiAgICAgIHdyYXBwZWQuaG91cnMoMjQpO1xyXG4gICAgICB3cmFwcGVkLm1pbnV0ZXMoMCk7XHJcbiAgICAgIHdyYXBwZWQuc2Vjb25kcygwKTtcclxuICAgICAgYWxhcm1UaW1lID0gd3JhcHBlZC50b0RhdGUoKTtcclxuICAgICAgYWxhcm1UaW1lID0gbW9tZW50KGFsYXJtVGltZSlcclxuICAgICAgICAuY2xvbmUoKVxyXG4gICAgICAgIC5hZGQoe1xyXG4gICAgICAgICAgJ2RheXMnOiAtMSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hZGQoe1xyXG4gICAgICAgICAgJ21pbnV0ZXMnOiAtMSAqIHJlbWluZGVySW4sXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudG9EYXRlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhbGFybVRpbWUgPSBtb21lbnQoc3RhcnREYXRlKVxyXG4gICAgICAgIC5jbG9uZSgpXHJcbiAgICAgICAgLmFkZCh7XHJcbiAgICAgICAgICAnbWludXRlcyc6IC0xICogcmVtaW5kZXJJbixcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50b0RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWxhcm1UaW1lO1xyXG4gIH0sXHJcbiAgY3JlYXRlTGF5b3V0OiBmdW5jdGlvbiBjcmVhdGVMYXlvdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sYXlvdXQgfHwgKHRoaXMubGF5b3V0ID0gW3tcclxuICAgICAgbmFtZTogJ1R5cGUnLFxyXG4gICAgICBwcm9wZXJ0eTogJ1R5cGUnLFxyXG4gICAgICB0eXBlOiAnaGlkZGVuJyxcclxuICAgIH0sIHtcclxuICAgICAgZGVwZW5kc09uOiAnVHlwZScsXHJcbiAgICAgIGxhYmVsOiB0aGlzLnJlZ2FyZGluZ1RleHQsXHJcbiAgICAgIG5hbWU6ICdEZXNjcmlwdGlvbicsXHJcbiAgICAgIHByb3BlcnR5OiAnRGVzY3JpcHRpb24nLFxyXG4gICAgICBwaWNrbGlzdDogdGhpcy5mb3JtYXRQaWNrbGlzdEZvclR5cGUuYmluZERlbGVnYXRlKHRoaXMsICdEZXNjcmlwdGlvbicpLFxyXG4gICAgICB0aXRsZTogdGhpcy5hY3Rpdml0eURlc2NyaXB0aW9uVGl0bGVUZXh0LFxyXG4gICAgICBvcmRlckJ5OiAndGV4dCBhc2MnLFxyXG4gICAgICB0eXBlOiAncGlja2xpc3QnLFxyXG4gICAgICBtYXhUZXh0TGVuZ3RoOiA2NCxcclxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhjZWVkc01heFRleHRMZW5ndGgsXHJcbiAgICAgIGF1dG9Gb2N1czogdHJ1ZSxcclxuICAgIH0sIHtcclxuICAgICAgbGFiZWw6IHRoaXMubG9uZ05vdGVzVGV4dCxcclxuICAgICAgbm90ZVByb3BlcnR5OiBmYWxzZSxcclxuICAgICAgbmFtZTogJ0xvbmdOb3RlcycsXHJcbiAgICAgIHByb3BlcnR5OiAnTG9uZ05vdGVzJyxcclxuICAgICAgdGl0bGU6IHRoaXMubG9uZ05vdGVzVGl0bGVUZXh0LFxyXG4gICAgICB0eXBlOiAnbm90ZScsXHJcbiAgICAgIHZpZXc6ICd0ZXh0X2VkaXQnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnTG9jYXRpb24nLFxyXG4gICAgICBwcm9wZXJ0eTogJ0xvY2F0aW9uJyxcclxuICAgICAgbGFiZWw6IHRoaXMubG9jYXRpb25UZXh0LFxyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLnByaW9yaXR5VGV4dCxcclxuICAgICAgbmFtZTogJ1ByaW9yaXR5JyxcclxuICAgICAgcHJvcGVydHk6ICdQcmlvcml0eScsXHJcbiAgICAgIHBpY2tsaXN0OiAnUHJpb3JpdGllcycsXHJcbiAgICAgIHRpdGxlOiB0aGlzLnByaW9yaXR5VGl0bGVUZXh0LFxyXG4gICAgICB0eXBlOiAncGlja2xpc3QnLFxyXG4gICAgICBtYXhUZXh0TGVuZ3RoOiA2NCxcclxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhjZWVkc01heFRleHRMZW5ndGgsXHJcbiAgICB9LCB7XHJcbiAgICAgIGRlcGVuZHNPbjogJ1R5cGUnLFxyXG4gICAgICBsYWJlbDogdGhpcy5jYXRlZ29yeVRleHQsXHJcbiAgICAgIG5hbWU6ICdDYXRlZ29yeScsXHJcbiAgICAgIHByb3BlcnR5OiAnQ2F0ZWdvcnknLFxyXG4gICAgICBwaWNrbGlzdDogdGhpcy5mb3JtYXRQaWNrbGlzdEZvclR5cGUuYmluZERlbGVnYXRlKHRoaXMsICdDYXRlZ29yeScpLFxyXG4gICAgICBvcmRlckJ5OiAndGV4dCBhc2MnLFxyXG4gICAgICB0aXRsZTogdGhpcy5hY3Rpdml0eUNhdGVnb3J5VGl0bGVUZXh0LFxyXG4gICAgICB0eXBlOiAncGlja2xpc3QnLFxyXG4gICAgICBtYXhUZXh0TGVuZ3RoOiA2NCxcclxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhjZWVkc01heFRleHRMZW5ndGgsXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLnN0YXJ0aW5nVGV4dCxcclxuICAgICAgbmFtZTogJ1N0YXJ0RGF0ZScsXHJcbiAgICAgIHByb3BlcnR5OiAnU3RhcnREYXRlJyxcclxuICAgICAgdHlwZTogJ2RhdGUnLFxyXG4gICAgICB0aW1lbGVzczogZmFsc2UsXHJcbiAgICAgIHNob3dUaW1lUGlja2VyOiB0cnVlLFxyXG4gICAgICBkYXRlRm9ybWF0VGV4dDogdGhpcy5zdGFydGluZ0Zvcm1hdFRleHQsXHJcbiAgICAgIG1pblZhbHVlOiAobmV3IERhdGUoMTkwMCwgMCwgMSkpLFxyXG4gICAgICB2YWxpZGF0b3I6IFtcclxuICAgICAgICB2YWxpZGF0b3IuZXhpc3RzLFxyXG4gICAgICAgIHZhbGlkYXRvci5pc0RhdGVJblJhbmdlLFxyXG4gICAgICBdLFxyXG4gICAgfSwge1xyXG4gICAgICB0eXBlOiAnZGF0ZScsXHJcbiAgICAgIG5hbWU6ICdFbmREYXRlJyxcclxuICAgICAgcHJvcGVydHk6ICdFbmREYXRlJyxcclxuICAgICAgaW5jbHVkZTogdHJ1ZSxcclxuICAgIH0sIHtcclxuICAgICAgZGVwZW5kc09uOiAnU3RhcnREYXRlJyxcclxuICAgICAgbGFiZWw6IHRoaXMucmVwZWF0c1RleHQsXHJcbiAgICAgIHRpdGxlOiB0aGlzLnJlY3VycmluZ1RpdGxlVGV4dCxcclxuICAgICAgbmFtZTogJ1JlY3VycmVuY2VVSScsXHJcbiAgICAgIHByb3BlcnR5OiAnUmVjdXJyZW5jZVVJJyxcclxuICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgIHZpZXc6ICdzZWxlY3RfbGlzdCcsXHJcbiAgICAgIGRhdGE6IHRoaXMuY3JlYXRlUmVjdXJyaW5nRGF0YS5iaW5kRGVsZWdhdGUodGhpcyksXHJcbiAgICAgIGV4Y2x1ZGU6IHRydWUsXHJcbiAgICB9LCB7XHJcbiAgICAgIGRlcGVuZHNPbjogJ1JlY3VycmVuY2VVSScsXHJcbiAgICAgIGxhYmVsOiB0aGlzLnJlY3VycmluZ1RleHQsXHJcbiAgICAgIG5hbWU6ICdSZWN1cnJlbmNlJyxcclxuICAgICAgcHJvcGVydHk6ICdSZWN1cnJlbmNlJyxcclxuICAgICAgdHlwZTogJ3JlY3VycmVuY2VzJyxcclxuICAgICAgYXBwbHlUbzogJy4nLFxyXG4gICAgICB2aWV3OiAncmVjdXJyZW5jZV9lZGl0JyxcclxuICAgICAgZXhjbHVkZTogdHJ1ZSxcclxuICAgICAgZm9ybWF0VmFsdWU6IHRoaXMuZm9ybWF0UmVjdXJyZW5jZS5iaW5kRGVsZWdhdGUodGhpcyksXHJcbiAgICB9LCB7XHJcbiAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICBuYW1lOiAnUmVjdXJQZXJpb2QnLFxyXG4gICAgICBwcm9wZXJ0eTogJ1JlY3VyUGVyaW9kJyxcclxuICAgICAgaW5jbHVkZTogdHJ1ZSxcclxuICAgIH0sIHtcclxuICAgICAgdHlwZTogJ2hpZGRlbicsXHJcbiAgICAgIG5hbWU6ICdSZWN1clBlcmlvZFNwZWMnLFxyXG4gICAgICBwcm9wZXJ0eTogJ1JlY3VyUGVyaW9kU3BlYycsXHJcbiAgICAgIGluY2x1ZGU6IHRydWUsXHJcbiAgICB9LCB7XHJcbiAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICBuYW1lOiAnUmVjdXJyZW5jZVN0YXRlJyxcclxuICAgICAgcHJvcGVydHk6ICdSZWN1cnJlbmNlU3RhdGUnLFxyXG4gICAgICBpbmNsdWRlOiB0cnVlLFxyXG4gICAgfSwge1xyXG4gICAgICB0eXBlOiAnaGlkZGVuJyxcclxuICAgICAgbmFtZTogJ1JlY3VycmluZycsXHJcbiAgICAgIHByb3BlcnR5OiAnUmVjdXJyaW5nJyxcclxuICAgICAgaW5jbHVkZTogdHJ1ZSxcclxuICAgIH0sIHtcclxuICAgICAgdHlwZTogJ2hpZGRlbicsXHJcbiAgICAgIG5hbWU6ICdSZWN1ckl0ZXJhdGlvbnMnLFxyXG4gICAgICBwcm9wZXJ0eTogJ1JlY3VySXRlcmF0aW9ucycsXHJcbiAgICAgIGluY2x1ZGU6IHRydWUsXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLnRpbWVsZXNzVGV4dCxcclxuICAgICAgbmFtZTogJ1RpbWVsZXNzJyxcclxuICAgICAgcHJvcGVydHk6ICdUaW1lbGVzcycsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgIH0sIHtcclxuICAgICAgbGFiZWw6IHRoaXMuZHVyYXRpb25UZXh0LFxyXG4gICAgICB0aXRsZTogdGhpcy5kdXJhdGlvblRpdGxlVGV4dCxcclxuICAgICAgbmFtZTogJ0R1cmF0aW9uJyxcclxuICAgICAgcHJvcGVydHk6ICdEdXJhdGlvbicsXHJcbiAgICAgIHR5cGU6ICdkdXJhdGlvbicsXHJcbiAgICAgIHZpZXc6ICdzZWxlY3RfbGlzdCcsXHJcbiAgICAgIGRhdGE6IHRoaXMuY3JlYXRlRHVyYXRpb25EYXRhKCksXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6ICdBbGFybScsXHJcbiAgICAgIHByb3BlcnR5OiAnQWxhcm0nLFxyXG4gICAgICBsYWJlbDogdGhpcy5hbGFybVRleHQsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgIH0sIHtcclxuICAgICAgbGFiZWw6IHRoaXMucmVtaW5kZXJUZXh0LFxyXG4gICAgICB0aXRsZTogdGhpcy5yZW1pbmRlclRpdGxlVGV4dCxcclxuICAgICAgaW5jbHVkZTogZmFsc2UsXHJcbiAgICAgIG5hbWU6ICdSZW1pbmRlcicsXHJcbiAgICAgIHByb3BlcnR5OiAnUmVtaW5kZXInLFxyXG4gICAgICB0eXBlOiAnZHVyYXRpb24nLFxyXG4gICAgICB2aWV3OiAnc2VsZWN0X2xpc3QnLFxyXG4gICAgICBkYXRhOiB0aGlzLmNyZWF0ZVJlbWluZGVyRGF0YSgpLFxyXG4gICAgfSwge1xyXG4gICAgICBsYWJlbDogdGhpcy5yb2xsb3ZlclRleHQsXHJcbiAgICAgIG5hbWU6ICdSb2xsb3ZlcicsXHJcbiAgICAgIHByb3BlcnR5OiAnUm9sbG92ZXInLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICB9LCB7XHJcbiAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICBuYW1lOiAnVXNlcklkJyxcclxuICAgICAgcHJvcGVydHk6ICdVc2VySWQnLFxyXG4gICAgfSwge1xyXG4gICAgICBsYWJlbDogdGhpcy5sZWFkZXJUZXh0LFxyXG4gICAgICBuYW1lOiAnTGVhZGVyJyxcclxuICAgICAgcHJvcGVydHk6ICdMZWFkZXInLFxyXG4gICAgICBpbmNsdWRlOiB0cnVlLFxyXG4gICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgcmVxdWlyZVNlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgdmlldzogJ2NhbGVuZGFyX2FjY2Vzc19saXN0JyxcclxuICAgIH0sIHtcclxuICAgICAgbGFiZWw6IHRoaXMuaXNMZWFkVGV4dCxcclxuICAgICAgbmFtZTogJ0lzTGVhZCcsXHJcbiAgICAgIHByb3BlcnR5OiAnSXNMZWFkJyxcclxuICAgICAgaW5jbHVkZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgb25UZXh0OiB0aGlzLnllc1RleHQsXHJcbiAgICAgIG9mZlRleHQ6IHRoaXMubm9UZXh0LFxyXG4gICAgfSwge1xyXG4gICAgICBsYWJlbDogdGhpcy5hY2NvdW50VGV4dCxcclxuICAgICAgbmFtZTogJ0FjY291bnQnLFxyXG4gICAgICBwcm9wZXJ0eTogJ0FjY291bnQnLFxyXG4gICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgZW1wdHlUZXh0OiAnJyxcclxuICAgICAgYXBwbHlUbzogJy4nLFxyXG4gICAgICB2YWx1ZUtleVByb3BlcnR5OiAnQWNjb3VudElkJyxcclxuICAgICAgdmFsdWVUZXh0UHJvcGVydHk6ICdBY2NvdW50TmFtZScsXHJcbiAgICAgIHZpZXc6ICdhY2NvdW50X3JlbGF0ZWQnLFxyXG4gICAgfSwge1xyXG4gICAgICBkZXBlbmRzT246ICdBY2NvdW50JyxcclxuICAgICAgbGFiZWw6IHRoaXMuY29udGFjdFRleHQsXHJcbiAgICAgIG5hbWU6ICdDb250YWN0JyxcclxuICAgICAgcHJvcGVydHk6ICdDb250YWN0JyxcclxuICAgICAgdHlwZTogJ2xvb2t1cCcsXHJcbiAgICAgIGVtcHR5VGV4dDogJycsXHJcbiAgICAgIGFwcGx5VG86IGZ1bmN0aW9uIGFwcGx5VG8ocGF5bG9hZCwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgIHBheWxvYWRbdGhpcy52YWx1ZUtleVByb3BlcnR5XSA9IG51bGw7XHJcbiAgICAgICAgICBwYXlsb2FkW3RoaXMudmFsdWVUZXh0UHJvcGVydHldID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHZhbHVlS2V5UHJvcGVydHk6ICdDb250YWN0SWQnLFxyXG4gICAgICB2YWx1ZVRleHRQcm9wZXJ0eTogJ0NvbnRhY3ROYW1lJyxcclxuICAgICAgdmlldzogJ2NvbnRhY3RfcmVsYXRlZCcsXHJcbiAgICAgIHdoZXJlOiB0aGlzLmZvcm1hdERlcGVuZGVudFF1ZXJ5LmJpbmREZWxlZ2F0ZShcclxuICAgICAgICB0aGlzLCAnQWNjb3VudC5JZCBlcSBcIiR7MH1cIicsICdBY2NvdW50SWQnXHJcbiAgICAgICksXHJcbiAgICB9LCB7XHJcbiAgICAgIGRlcGVuZHNPbjogJ0FjY291bnQnLFxyXG4gICAgICBsYWJlbDogdGhpcy5vcHBvcnR1bml0eVRleHQsXHJcbiAgICAgIG5hbWU6ICdPcHBvcnR1bml0eScsXHJcbiAgICAgIHByb3BlcnR5OiAnT3Bwb3J0dW5pdHknLFxyXG4gICAgICB0eXBlOiAnbG9va3VwJyxcclxuICAgICAgZW1wdHlUZXh0OiAnJyxcclxuICAgICAgYXBwbHlUbzogZnVuY3Rpb24gYXBwbHlUbyhwYXlsb2FkLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgcGF5bG9hZFt0aGlzLnZhbHVlS2V5UHJvcGVydHldID0gbnVsbDtcclxuICAgICAgICAgIHBheWxvYWRbdGhpcy52YWx1ZVRleHRQcm9wZXJ0eV0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgdmFsdWVLZXlQcm9wZXJ0eTogJ09wcG9ydHVuaXR5SWQnLFxyXG4gICAgICB2YWx1ZVRleHRQcm9wZXJ0eTogJ09wcG9ydHVuaXR5TmFtZScsXHJcbiAgICAgIHZpZXc6ICdvcHBvcnR1bml0eV9yZWxhdGVkJyxcclxuICAgICAgd2hlcmU6IHRoaXMuZm9ybWF0RGVwZW5kZW50UXVlcnkuYmluZERlbGVnYXRlKFxyXG4gICAgICAgIHRoaXMsICdBY2NvdW50LklkIGVxIFwiJHswfVwiJywgJ0FjY291bnRJZCdcclxuICAgICAgKSxcclxuICAgIH0sIHtcclxuICAgICAgZGVwZW5kc09uOiAnQWNjb3VudCcsXHJcbiAgICAgIGxhYmVsOiB0aGlzLnRpY2tldE51bWJlclRleHQsXHJcbiAgICAgIG5hbWU6ICdUaWNrZXQnLFxyXG4gICAgICBwcm9wZXJ0eTogJ1RpY2tldCcsXHJcbiAgICAgIHR5cGU6ICdsb29rdXAnLFxyXG4gICAgICBlbXB0eVRleHQ6ICcnLFxyXG4gICAgICBhcHBseVRvOiBmdW5jdGlvbiBhcHBseVRvKHBheWxvYWQsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICBwYXlsb2FkW3RoaXMudmFsdWVLZXlQcm9wZXJ0eV0gPSBudWxsO1xyXG4gICAgICAgICAgcGF5bG9hZFt0aGlzLnZhbHVlVGV4dFByb3BlcnR5XSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB2YWx1ZUtleVByb3BlcnR5OiAnVGlja2V0SWQnLFxyXG4gICAgICB2YWx1ZVRleHRQcm9wZXJ0eTogJ1RpY2tldE51bWJlcicsXHJcbiAgICAgIHZpZXc6ICd0aWNrZXRfcmVsYXRlZCcsXHJcbiAgICAgIHdoZXJlOiB0aGlzLmZvcm1hdERlcGVuZGVudFF1ZXJ5LmJpbmREZWxlZ2F0ZShcclxuICAgICAgICB0aGlzLCAnQWNjb3VudC5JZCBlcSBcIiR7MH1cIicsICdBY2NvdW50SWQnXHJcbiAgICAgICksXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLmxlYWRUZXh0LFxyXG4gICAgICBuYW1lOiAnTGVhZCcsXHJcbiAgICAgIHByb3BlcnR5OiAnTGVhZCcsXHJcbiAgICAgIHR5cGU6ICdsb29rdXAnLFxyXG4gICAgICBlbXB0eVRleHQ6ICcnLFxyXG4gICAgICBhcHBseVRvOiAnLicsXHJcbiAgICAgIHZhbHVlS2V5UHJvcGVydHk6ICdMZWFkSWQnLFxyXG4gICAgICB2YWx1ZVRleHRQcm9wZXJ0eTogJ0xlYWROYW1lJyxcclxuICAgICAgdmlldzogJ2xlYWRfcmVsYXRlZCcsXHJcbiAgICB9LCB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLmNvbXBhbnlUZXh0LFxyXG4gICAgICBuYW1lOiAnQWNjb3VudE5hbWUnLFxyXG4gICAgICBwcm9wZXJ0eTogJ0FjY291bnROYW1lJyxcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnUGhvbmVOdW1iZXInLFxyXG4gICAgICBwcm9wZXJ0eTogJ1Bob25lTnVtYmVyJyxcclxuICAgICAgbGFiZWw6IHRoaXMucGhvbmVUZXh0LFxyXG4gICAgICB0eXBlOiAncGhvbmUnLFxyXG4gICAgICBtYXhUZXh0TGVuZ3RoOiAzMixcclxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3IuZXhjZWVkc01heFRleHRMZW5ndGgsXHJcbiAgICB9XSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnTW9iaWxlLlNhbGVzTG9naXguVmlld3MuQWN0aXZpdHkuRWRpdCcsIF9fY2xhc3MpO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
