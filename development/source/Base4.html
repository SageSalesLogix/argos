<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Models/Contact/Base', ['exports', 'module', 'dojo/_base/declare', 'argos/Models/_ModelBase', '../Names', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _argosModels_ModelBase, _Names, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _ModelBase2 = _interopRequireDefault(_argosModels_ModelBase);

  var _MODEL_NAMES = _interopRequireDefault(_Names);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('contactModel');
  var accountResource = (0, _getResource['default'])('accountModel');
  var activityResource = (0, _getResource['default'])('activityModel');
  var historyResource = (0, _getResource['default'])('historyModel');
  var addressResource = (0, _getResource['default'])('addressModel');
  var ticketResource = (0, _getResource['default'])('ticketModel');

  var __class = (0, _declare['default'])('crm.Models.Contact.Base', [_ModelBase2['default']], {
    resourceKind: 'contacts',
    entityName: 'Contact',
    entityDisplayName: resource.entityDisplayName,
    entityDisplayNamePlural: resource.entityDisplayNamePlural,
    modelName: _MODEL_NAMES['default'].CONTACT,
    iconClass: 'fa fa-user fa-lg',
    security: 'Entities/Contact/View',
    createRelationships: function createRelationships() {
      var rel = undefined;
      rel = this.relationships || (this.relationships = [{
        name: 'Account',
        displayName: accountResource.entityDisplayName,
        type: 'ManyToOne',
        parentProperty: 'Account',
        parentPropertyType: 'object',
        relatedEntity: 'Account',
        relatedPropertyType: 'object'
      }, {
        name: 'Addresses',
        displayName: addressResource.entityDisplayNamePlural,
        propertyName: 'Addresses',
        type: 'OneToMany',
        relatedEntity: 'Address',
        relatedProperty: 'EntityId'
      }, {
        name: 'History',
        displayName: historyResource.entityDisplayNamePlural,
        propertyName: 'History',
        type: 'OneToMany',
        relatedEntity: 'History',
        relatedProperty: 'ContactId',
        where: 'Type ne &quot;atDatabaseChange&quot;'
      }, {
        name: 'Activity',
        displayName: activityResource.entityDisplayNamePlural,
        propertyName: 'Activity',
        type: 'OneToMany',
        relatedEntity: 'Activity',
        relatedProperty: 'ContactId'
      }, {
        name: 'Tickets',
        displayName: ticketResource.entityDisplayNamePlural,
        type: 'OneToMany',
        relatedEntity: 'Ticket',
        relatedProperty: 'Contact',
        relatedPropertyType: 'object'
      }]);
      return rel;
    }
  });
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Nb2RlbHMvQ29udGFjdC9CYXNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBS0EsTUFBTSxRQUFRLEdBQUcsNkJBQVksY0FBYyxDQUFDLENBQUM7QUFDN0MsTUFBTSxlQUFlLEdBQUcsNkJBQVksY0FBYyxDQUFDLENBQUM7QUFDcEQsTUFBTSxnQkFBZ0IsR0FBRyw2QkFBWSxlQUFlLENBQUMsQ0FBQztBQUN0RCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQztBQUNwRCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQztBQUNwRCxNQUFNLGNBQWMsR0FBRyw2QkFBWSxhQUFhLENBQUMsQ0FBQzs7QUFFbEQsTUFBTSxPQUFPLEdBQUcseUJBQVEseUJBQXlCLEVBQUUsd0JBQVksRUFBRTtBQUMvRCxnQkFBWSxFQUFFLFVBQVU7QUFDeEIsY0FBVSxFQUFFLFNBQVM7QUFDckIscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3QywyQkFBdUIsRUFBRSxRQUFRLENBQUMsdUJBQXVCO0FBQ3pELGFBQVMsRUFBRSx3QkFBWSxPQUFPO0FBQzlCLGFBQVMsRUFBRSxrQkFBa0I7QUFDN0IsWUFBUSxFQUFFLHVCQUF1QjtBQUNqQyx1QkFBbUIsRUFBRSxTQUFTLG1CQUFtQixHQUFHO0FBQ2xELFVBQUksR0FBRyxZQUFBLENBQUM7QUFDUixTQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUM7QUFDakQsWUFBSSxFQUFFLFNBQVM7QUFDZixtQkFBVyxFQUFFLGVBQWUsQ0FBQyxpQkFBaUI7QUFDOUMsWUFBSSxFQUFFLFdBQVc7QUFDakIsc0JBQWMsRUFBRSxTQUFTO0FBQ3pCLDBCQUFrQixFQUFFLFFBQVE7QUFDNUIscUJBQWEsRUFBRSxTQUFTO0FBQ3hCLDJCQUFtQixFQUFFLFFBQVE7T0FDOUIsRUFBRTtBQUNELFlBQUksRUFBRSxXQUFXO0FBQ2pCLG1CQUFXLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtBQUNwRCxvQkFBWSxFQUFFLFdBQVc7QUFDekIsWUFBSSxFQUFFLFdBQVc7QUFDakIscUJBQWEsRUFBRSxTQUFTO0FBQ3hCLHVCQUFlLEVBQUUsVUFBVTtPQUM1QixFQUFFO0FBQ0QsWUFBSSxFQUFFLFNBQVM7QUFDZixtQkFBVyxFQUFFLGVBQWUsQ0FBQyx1QkFBdUI7QUFDcEQsb0JBQVksRUFBRSxTQUFTO0FBQ3ZCLFlBQUksRUFBRSxXQUFXO0FBQ2pCLHFCQUFhLEVBQUUsU0FBUztBQUN4Qix1QkFBZSxFQUFFLFdBQVc7QUFDNUIsYUFBSyxFQUFFLDRCQUE0QjtPQUNwQyxFQUFFO0FBQ0QsWUFBSSxFQUFFLFVBQVU7QUFDaEIsbUJBQVcsRUFBRSxnQkFBZ0IsQ0FBQyx1QkFBdUI7QUFDckQsb0JBQVksRUFBRSxVQUFVO0FBQ3hCLFlBQUksRUFBRSxXQUFXO0FBQ2pCLHFCQUFhLEVBQUUsVUFBVTtBQUN6Qix1QkFBZSxFQUFFLFdBQVc7T0FDN0IsRUFBRTtBQUNELFlBQUksRUFBRSxTQUFTO0FBQ2YsbUJBQVcsRUFBRSxjQUFjLENBQUMsdUJBQXVCO0FBQ25ELFlBQUksRUFBRSxXQUFXO0FBQ2pCLHFCQUFhLEVBQUUsUUFBUTtBQUN2Qix1QkFBZSxFQUFFLFNBQVM7QUFDMUIsMkJBQW1CLEVBQUUsUUFBUTtPQUM5QixDQUFDLENBQUEsQUFBQyxDQUFDO0FBQ0osYUFBTyxHQUFHLENBQUM7S0FDWjtHQUNGLENBQUMsQ0FBQzttQkFDWSxPQUFPIiwiZmlsZSI6InNyYy9Nb2RlbHMvQ29udGFjdC9CYXNlLmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBfTW9kZWxCYXNlIGZyb20gJ2FyZ29zL01vZGVscy9fTW9kZWxCYXNlJztcclxuaW1wb3J0IE1PREVMX05BTUVTIGZyb20gJy4uL05hbWVzJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnY29udGFjdE1vZGVsJyk7XHJcbmNvbnN0IGFjY291bnRSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY2NvdW50TW9kZWwnKTtcclxuY29uc3QgYWN0aXZpdHlSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY3Rpdml0eU1vZGVsJyk7XHJcbmNvbnN0IGhpc3RvcnlSZXNvdXJjZSA9IGdldFJlc291cmNlKCdoaXN0b3J5TW9kZWwnKTtcclxuY29uc3QgYWRkcmVzc1Jlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2FkZHJlc3NNb2RlbCcpO1xyXG5jb25zdCB0aWNrZXRSZXNvdXJjZSA9IGdldFJlc291cmNlKCd0aWNrZXRNb2RlbCcpO1xyXG5cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2NybS5Nb2RlbHMuQ29udGFjdC5CYXNlJywgW19Nb2RlbEJhc2VdLCB7XHJcbiAgcmVzb3VyY2VLaW5kOiAnY29udGFjdHMnLFxyXG4gIGVudGl0eU5hbWU6ICdDb250YWN0JyxcclxuICBlbnRpdHlEaXNwbGF5TmFtZTogcmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWUsXHJcbiAgZW50aXR5RGlzcGxheU5hbWVQbHVyYWw6IHJlc291cmNlLmVudGl0eURpc3BsYXlOYW1lUGx1cmFsLFxyXG4gIG1vZGVsTmFtZTogTU9ERUxfTkFNRVMuQ09OVEFDVCxcclxuICBpY29uQ2xhc3M6ICdmYSBmYS11c2VyIGZhLWxnJyxcclxuICBzZWN1cml0eTogJ0VudGl0aWVzL0NvbnRhY3QvVmlldycsXHJcbiAgY3JlYXRlUmVsYXRpb25zaGlwczogZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25zaGlwcygpIHtcclxuICAgIGxldCByZWw7XHJcbiAgICByZWwgPSB0aGlzLnJlbGF0aW9uc2hpcHMgfHwgKHRoaXMucmVsYXRpb25zaGlwcyA9IFt7XHJcbiAgICAgIG5hbWU6ICdBY2NvdW50JyxcclxuICAgICAgZGlzcGxheU5hbWU6IGFjY291bnRSZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZSxcclxuICAgICAgdHlwZTogJ01hbnlUb09uZScsXHJcbiAgICAgIHBhcmVudFByb3BlcnR5OiAnQWNjb3VudCcsXHJcbiAgICAgIHBhcmVudFByb3BlcnR5VHlwZTogJ29iamVjdCcsXHJcbiAgICAgIHJlbGF0ZWRFbnRpdHk6ICdBY2NvdW50JyxcclxuICAgICAgcmVsYXRlZFByb3BlcnR5VHlwZTogJ29iamVjdCcsXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6ICdBZGRyZXNzZXMnLFxyXG4gICAgICBkaXNwbGF5TmFtZTogYWRkcmVzc1Jlc291cmNlLmVudGl0eURpc3BsYXlOYW1lUGx1cmFsLFxyXG4gICAgICBwcm9wZXJ0eU5hbWU6ICdBZGRyZXNzZXMnLFxyXG4gICAgICB0eXBlOiAnT25lVG9NYW55JyxcclxuICAgICAgcmVsYXRlZEVudGl0eTogJ0FkZHJlc3MnLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdFbnRpdHlJZCcsXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6ICdIaXN0b3J5JyxcclxuICAgICAgZGlzcGxheU5hbWU6IGhpc3RvcnlSZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZVBsdXJhbCxcclxuICAgICAgcHJvcGVydHlOYW1lOiAnSGlzdG9yeScsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnSGlzdG9yeScsXHJcbiAgICAgIHJlbGF0ZWRQcm9wZXJ0eTogJ0NvbnRhY3RJZCcsXHJcbiAgICAgIHdoZXJlOiAnVHlwZSBuZSBcImF0RGF0YWJhc2VDaGFuZ2VcIicsXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6ICdBY3Rpdml0eScsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBhY3Rpdml0eVJlc291cmNlLmVudGl0eURpc3BsYXlOYW1lUGx1cmFsLFxyXG4gICAgICBwcm9wZXJ0eU5hbWU6ICdBY3Rpdml0eScsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnQWN0aXZpdHknLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdDb250YWN0SWQnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnVGlja2V0cycsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiB0aWNrZXRSZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZVBsdXJhbCxcclxuICAgICAgdHlwZTogJ09uZVRvTWFueScsXHJcbiAgICAgIHJlbGF0ZWRFbnRpdHk6ICdUaWNrZXQnLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdDb250YWN0JyxcclxuICAgICAgcmVsYXRlZFByb3BlcnR5VHlwZTogJ29iamVjdCcsXHJcbiAgICB9XSk7XHJcbiAgICByZXR1cm4gcmVsO1xyXG4gIH0sXHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
