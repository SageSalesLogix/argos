<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Integrations/BOE/Views/ERPShipments/List', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'crm/Action', 'dojo/string', 'argos/List', 'crm/Format', 'crm/Views/_CardLayoutListMixin', 'crm/Views/_RightDrawerListMixin', 'crm/Views/_MetricListMixin', 'crm/Views/_GroupListMixin', '../../Models/Names', '../../Utility', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _crmAction, _dojoString, _argosList, _crmFormat, _crmViews_CardLayoutListMixin, _crmViews_RightDrawerListMixin, _crmViews_MetricListMixin, _crmViews_GroupListMixin, _ModelsNames, _Utility, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _action = _interopRequireDefault(_crmAction);

  var _string = _interopRequireDefault(_dojoString);

  var _List = _interopRequireDefault(_argosList);

  var _format = _interopRequireDefault(_crmFormat);

  var _CardLayoutListMixin2 = _interopRequireDefault(_crmViews_CardLayoutListMixin);

  var _RightDrawerListMixin2 = _interopRequireDefault(_crmViews_RightDrawerListMixin);

  var _MetricListMixin2 = _interopRequireDefault(_crmViews_MetricListMixin);

  var _GroupListMixin2 = _interopRequireDefault(_crmViews_GroupListMixin);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var _utility = _interopRequireDefault(_Utility);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('erpShipmentsList');

  var __class = (0, _declare['default'])('crm.Integrations.BOE.Views.ERPShipments.List', [_List['default'], _RightDrawerListMixin2['default'], _MetricListMixin2['default'], _CardLayoutListMixin2['default'], _GroupListMixin2['default']], {
    formatter: _format['default'],
    util: _utility['default'],

    // Templates
    itemTemplate: new Simplate(['&lt;h3&gt;&lt;label class=&quot;group-label&quot;&gt;{%: $$.shipmentIDLabelText %}&lt;/label&gt; {%: $.ErpExtId %}&lt;/h3&gt;', '&lt;h4&gt; {% if ($.Account) { %}&lt;label class=&quot;group-label&quot;&gt; {%: $$.accountLabelText %}&lt;/label&gt; {%: $.Account.AccountName %} {% } %}&lt;/h4&gt;', '&lt;h4&gt;&lt;label class=&quot;group-label&quot;&gt;{%: $$.statusLabelText %}&lt;/label&gt; {%: $.ErpStatus %}&lt;/h4&gt;', '&lt;h4&gt; {% if ($.DatePromised) { %}&lt;label class=&quot;group-label&quot;&gt;{%: $$.datePromisedLabelText %}&lt;/label&gt; {%: $$.formatter.date($.DatePromised) %} {% } %}&lt;/h4&gt;', '&lt;h4&gt;&lt;label class=&quot;group-label&quot;&gt; {%: $$.totalBaseAmountText %} &lt;/label&gt;', '{%: $$.util.formatMultiCurrency($.ShipmentTotalBaseAmount, $.BaseCurrencyCode) %}', '&lt;/h4&gt;', '&lt;h4&gt;&lt;label class=&quot;group-label&quot;&gt; {%: $$.totalAmountText %} &lt;/label&gt;', '{%: $$.util.formatMultiCurrency($.ShipmentTotalAmount, $.CurrencyCode) %}', '&lt;/h4&gt;']),

    // Localization
    titleText: resource.titleText,
    statusLabelText: resource.statusLabelText,
    shipmentIDLabelText: resource.shipmentIDLabelText,
    accountLabelText: resource.accountLabelText,
    datePromisedLabelText: resource.datePromisedLabelText,
    viewAccountActionText: resource.viewAccountActionText,
    totalBaseAmountText: resource.totalBaseAmountText,
    totalAmountText: resource.totalAmountText,

    // View Properties
    id: 'erpshipments_list',
    detailView: 'erpshipments_detail',
    modelName: _MODEL_NAMES['default'].ERPSHIPMENT,
    resourceKind: 'erpShipments',
    allowSelection: true,
    enableActions: true,
    enableHashTags: true,
    expose: true,
    security: 'Entities/ErpShipment/View',
    insertSecurity: 'Entities/ErpShipment/Add',

    // Groups
    enableDynamicGroupLayout: true,
    groupsEnabled: true,
    entityName: 'ERPShipment',

    // Card layout
    itemIconClass: 'fa fa-truck fa-2x',

    createActionLayout: function createActionLayout() {
      return this.actions || (this.actions = [{
        id: 'viewAccount',
        label: this.viewAccountActionText,
        enabled: _action['default'].hasProperty.bindDelegate(this, 'Account.$key'),
        fn: _action['default'].navigateToEntity.bindDelegate(this, {
          view: 'account_detail',
          keyProperty: 'Account.$key',
          textProperty: 'Account.AccountName'
        })
      }]);
    },

    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('upper(Account.AccountName) like &quot;${0}%&quot; or upper(ErpExtId) like &quot;${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    }
  });

  _lang['default'].setObject('icboe.Views.ERPShipments.List', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL0VSUFNoaXBtZW50cy9MaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY0EsTUFBTSxRQUFRLEdBQUcsNkJBQVksa0JBQWtCLENBQUMsQ0FBQzs7QUFFakQsTUFBTSxPQUFPLEdBQUcseUJBQVEsOENBQThDLEVBQUUsa0pBQXNGLEVBQUU7QUFDOUosYUFBUyxvQkFBUTtBQUNqQixRQUFJLHFCQUFTOzs7QUFHYixnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLDZGQUE2RixFQUM3RixxSUFBcUksRUFDckksMEZBQTBGLEVBQzFGLDBKQUEwSixFQUMxSix3RUFBd0UsRUFDdEUsbUZBQW1GLEVBQ3JGLE9BQU8sRUFDUCxvRUFBb0UsRUFDbEUsMkVBQTJFLEVBQzdFLE9BQU8sQ0FDUixDQUFDOzs7QUFHRixhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTtBQUN6Qyx1QkFBbUIsRUFBRSxRQUFRLENBQUMsbUJBQW1CO0FBQ2pELG9CQUFnQixFQUFFLFFBQVEsQ0FBQyxnQkFBZ0I7QUFDM0MseUJBQXFCLEVBQUUsUUFBUSxDQUFDLHFCQUFxQjtBQUNyRCx5QkFBcUIsRUFBRSxRQUFRLENBQUMscUJBQXFCO0FBQ3JELHVCQUFtQixFQUFFLFFBQVEsQ0FBQyxtQkFBbUI7QUFDakQsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTs7O0FBR3pDLE1BQUUsRUFBRSxtQkFBbUI7QUFDdkIsY0FBVSxFQUFFLHFCQUFxQjtBQUNqQyxhQUFTLEVBQUUsd0JBQVksV0FBVztBQUNsQyxnQkFBWSxFQUFFLGNBQWM7QUFDNUIsa0JBQWMsRUFBRSxJQUFJO0FBQ3BCLGlCQUFhLEVBQUUsSUFBSTtBQUNuQixrQkFBYyxFQUFFLElBQUk7QUFDcEIsVUFBTSxFQUFFLElBQUk7QUFDWixZQUFRLEVBQUUsMkJBQTJCO0FBQ3JDLGtCQUFjLEVBQUUsMEJBQTBCOzs7QUFHMUMsNEJBQXdCLEVBQUUsSUFBSTtBQUM5QixpQkFBYSxFQUFFLElBQUk7QUFDbkIsY0FBVSxFQUFFLGFBQWE7OztBQUd6QixpQkFBYSxFQUFFLG1CQUFtQjs7QUFFbEMsc0JBQWtCLEVBQUUsU0FBUyxrQkFBa0IsR0FBRztBQUNoRCxhQUFPLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDO0FBQ3RDLFVBQUUsRUFBRSxhQUFhO0FBQ2pCLGFBQUssRUFBRSxJQUFJLENBQUMscUJBQXFCO0FBQ2pDLGVBQU8sRUFBRSxtQkFBTyxXQUFXLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxjQUFjLENBQUM7QUFDOUQsVUFBRSxFQUFFLG1CQUFPLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7QUFDN0MsY0FBSSxFQUFFLGdCQUFnQjtBQUN0QixxQkFBVyxFQUFFLGNBQWM7QUFDM0Isc0JBQVksRUFBRSxxQkFBcUI7U0FDcEMsQ0FBQztPQUNILENBQUMsQ0FBQSxBQUNELENBQUM7S0FDSDs7QUFFRCxxQkFBaUIsRUFBRSxTQUFTLGlCQUFpQixDQUFDLFdBQVcsRUFBRTtBQUN6RCxhQUFPLG1CQUFPLFVBQVUsQ0FBQyx5RUFBeUUsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDMUo7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLCtCQUErQixFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUMxQyxPQUFPIiwiZmlsZSI6InNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL0VSUFNoaXBtZW50cy9MaXN0LmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBhY3Rpb24gZnJvbSAnY3JtL0FjdGlvbic7XHJcbmltcG9ydCBzdHJpbmcgZnJvbSAnZG9qby9zdHJpbmcnO1xyXG5pbXBvcnQgTGlzdCBmcm9tICdhcmdvcy9MaXN0JztcclxuaW1wb3J0IGZvcm1hdCBmcm9tICdjcm0vRm9ybWF0JztcclxuaW1wb3J0IF9DYXJkTGF5b3V0TGlzdE1peGluIGZyb20gJ2NybS9WaWV3cy9fQ2FyZExheW91dExpc3RNaXhpbic7XHJcbmltcG9ydCBfUmlnaHREcmF3ZXJMaXN0TWl4aW4gZnJvbSAnY3JtL1ZpZXdzL19SaWdodERyYXdlckxpc3RNaXhpbic7XHJcbmltcG9ydCBfTWV0cmljTGlzdE1peGluIGZyb20gJ2NybS9WaWV3cy9fTWV0cmljTGlzdE1peGluJztcclxuaW1wb3J0IF9Hcm91cExpc3RNaXhpbiBmcm9tICdjcm0vVmlld3MvX0dyb3VwTGlzdE1peGluJztcclxuaW1wb3J0IE1PREVMX05BTUVTIGZyb20gJy4uLy4uL01vZGVscy9OYW1lcyc7XHJcbmltcG9ydCB1dGlsaXR5IGZyb20gJy4uLy4uL1V0aWxpdHknO1xyXG5pbXBvcnQgZ2V0UmVzb3VyY2UgZnJvbSAnYXJnb3MvSTE4bic7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdlcnBTaGlwbWVudHNMaXN0Jyk7XHJcblxyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLkludGVncmF0aW9ucy5CT0UuVmlld3MuRVJQU2hpcG1lbnRzLkxpc3QnLCBbTGlzdCwgX1JpZ2h0RHJhd2VyTGlzdE1peGluLCBfTWV0cmljTGlzdE1peGluLCBfQ2FyZExheW91dExpc3RNaXhpbiwgX0dyb3VwTGlzdE1peGluXSwge1xyXG4gIGZvcm1hdHRlcjogZm9ybWF0LFxyXG4gIHV0aWw6IHV0aWxpdHksXHJcblxyXG4gIC8vIFRlbXBsYXRlc1xyXG4gIGl0ZW1UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8aDM+PGxhYmVsIGNsYXNzPVwiZ3JvdXAtbGFiZWxcIj57JTogJCQuc2hpcG1lbnRJRExhYmVsVGV4dCAlfTwvbGFiZWw+IHslOiAkLkVycEV4dElkICV9PC9oMz4nLFxyXG4gICAgJzxoND4geyUgaWYgKCQuQWNjb3VudCkgeyAlfTxsYWJlbCBjbGFzcz1cImdyb3VwLWxhYmVsXCI+IHslOiAkJC5hY2NvdW50TGFiZWxUZXh0ICV9PC9sYWJlbD4geyU6ICQuQWNjb3VudC5BY2NvdW50TmFtZSAlfSB7JSB9ICV9PC9oND4nLFxyXG4gICAgJzxoND48bGFiZWwgY2xhc3M9XCJncm91cC1sYWJlbFwiPnslOiAkJC5zdGF0dXNMYWJlbFRleHQgJX08L2xhYmVsPiB7JTogJC5FcnBTdGF0dXMgJX08L2g0PicsXHJcbiAgICAnPGg0PiB7JSBpZiAoJC5EYXRlUHJvbWlzZWQpIHsgJX08bGFiZWwgY2xhc3M9XCJncm91cC1sYWJlbFwiPnslOiAkJC5kYXRlUHJvbWlzZWRMYWJlbFRleHQgJX08L2xhYmVsPiB7JTogJCQuZm9ybWF0dGVyLmRhdGUoJC5EYXRlUHJvbWlzZWQpICV9IHslIH0gJX08L2g0PicsXHJcbiAgICAnPGg0PjxsYWJlbCBjbGFzcz1cImdyb3VwLWxhYmVsXCI+IHslOiAkJC50b3RhbEJhc2VBbW91bnRUZXh0ICV9IDwvbGFiZWw+JyxcclxuICAgICAgJ3slOiAkJC51dGlsLmZvcm1hdE11bHRpQ3VycmVuY3koJC5TaGlwbWVudFRvdGFsQmFzZUFtb3VudCwgJC5CYXNlQ3VycmVuY3lDb2RlKSAlfScsXHJcbiAgICAnPC9oND4nLFxyXG4gICAgJzxoND48bGFiZWwgY2xhc3M9XCJncm91cC1sYWJlbFwiPiB7JTogJCQudG90YWxBbW91bnRUZXh0ICV9IDwvbGFiZWw+JyxcclxuICAgICAgJ3slOiAkJC51dGlsLmZvcm1hdE11bHRpQ3VycmVuY3koJC5TaGlwbWVudFRvdGFsQW1vdW50LCAkLkN1cnJlbmN5Q29kZSkgJX0nLFxyXG4gICAgJzwvaDQ+JyxcclxuICBdKSxcclxuXHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgc3RhdHVzTGFiZWxUZXh0OiByZXNvdXJjZS5zdGF0dXNMYWJlbFRleHQsXHJcbiAgc2hpcG1lbnRJRExhYmVsVGV4dDogcmVzb3VyY2Uuc2hpcG1lbnRJRExhYmVsVGV4dCxcclxuICBhY2NvdW50TGFiZWxUZXh0OiByZXNvdXJjZS5hY2NvdW50TGFiZWxUZXh0LFxyXG4gIGRhdGVQcm9taXNlZExhYmVsVGV4dDogcmVzb3VyY2UuZGF0ZVByb21pc2VkTGFiZWxUZXh0LFxyXG4gIHZpZXdBY2NvdW50QWN0aW9uVGV4dDogcmVzb3VyY2Uudmlld0FjY291bnRBY3Rpb25UZXh0LFxyXG4gIHRvdGFsQmFzZUFtb3VudFRleHQ6IHJlc291cmNlLnRvdGFsQmFzZUFtb3VudFRleHQsXHJcbiAgdG90YWxBbW91bnRUZXh0OiByZXNvdXJjZS50b3RhbEFtb3VudFRleHQsXHJcblxyXG4gIC8vIFZpZXcgUHJvcGVydGllc1xyXG4gIGlkOiAnZXJwc2hpcG1lbnRzX2xpc3QnLFxyXG4gIGRldGFpbFZpZXc6ICdlcnBzaGlwbWVudHNfZGV0YWlsJyxcclxuICBtb2RlbE5hbWU6IE1PREVMX05BTUVTLkVSUFNISVBNRU5ULFxyXG4gIHJlc291cmNlS2luZDogJ2VycFNoaXBtZW50cycsXHJcbiAgYWxsb3dTZWxlY3Rpb246IHRydWUsXHJcbiAgZW5hYmxlQWN0aW9uczogdHJ1ZSxcclxuICBlbmFibGVIYXNoVGFnczogdHJ1ZSxcclxuICBleHBvc2U6IHRydWUsXHJcbiAgc2VjdXJpdHk6ICdFbnRpdGllcy9FcnBTaGlwbWVudC9WaWV3JyxcclxuICBpbnNlcnRTZWN1cml0eTogJ0VudGl0aWVzL0VycFNoaXBtZW50L0FkZCcsXHJcblxyXG4gIC8vIEdyb3Vwc1xyXG4gIGVuYWJsZUR5bmFtaWNHcm91cExheW91dDogdHJ1ZSxcclxuICBncm91cHNFbmFibGVkOiB0cnVlLFxyXG4gIGVudGl0eU5hbWU6ICdFUlBTaGlwbWVudCcsXHJcblxyXG4gIC8vIENhcmQgbGF5b3V0XHJcbiAgaXRlbUljb25DbGFzczogJ2ZhIGZhLXRydWNrIGZhLTJ4JyxcclxuXHJcbiAgY3JlYXRlQWN0aW9uTGF5b3V0OiBmdW5jdGlvbiBjcmVhdGVBY3Rpb25MYXlvdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3Rpb25zIHx8ICh0aGlzLmFjdGlvbnMgPSBbe1xyXG4gICAgICBpZDogJ3ZpZXdBY2NvdW50JyxcclxuICAgICAgbGFiZWw6IHRoaXMudmlld0FjY291bnRBY3Rpb25UZXh0LFxyXG4gICAgICBlbmFibGVkOiBhY3Rpb24uaGFzUHJvcGVydHkuYmluZERlbGVnYXRlKHRoaXMsICdBY2NvdW50LiRrZXknKSxcclxuICAgICAgZm46IGFjdGlvbi5uYXZpZ2F0ZVRvRW50aXR5LmJpbmREZWxlZ2F0ZSh0aGlzLCB7XHJcbiAgICAgICAgdmlldzogJ2FjY291bnRfZGV0YWlsJyxcclxuICAgICAgICBrZXlQcm9wZXJ0eTogJ0FjY291bnQuJGtleScsXHJcbiAgICAgICAgdGV4dFByb3BlcnR5OiAnQWNjb3VudC5BY2NvdW50TmFtZScsXHJcbiAgICAgIH0pLFxyXG4gICAgfV1cclxuICAgICk7XHJcbiAgfSxcclxuXHJcbiAgZm9ybWF0U2VhcmNoUXVlcnk6IGZ1bmN0aW9uIGZvcm1hdFNlYXJjaFF1ZXJ5KHNlYXJjaFF1ZXJ5KSB7XHJcbiAgICByZXR1cm4gc3RyaW5nLnN1YnN0aXR1dGUoJ3VwcGVyKEFjY291bnQuQWNjb3VudE5hbWUpIGxpa2UgXCIkezB9JVwiIG9yIHVwcGVyKEVycEV4dElkKSBsaWtlIFwiJHswfSVcIicsIFt0aGlzLmVzY2FwZVNlYXJjaFF1ZXJ5KHNlYXJjaFF1ZXJ5LnRvVXBwZXJDYXNlKCkpXSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnaWNib2UuVmlld3MuRVJQU2hpcG1lbnRzLkxpc3QnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
