<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/SpeedSearchList', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/_base/array', 'dojo/dom-class', 'dojo/dom-construct', 'dojo/string', 'dojo/query', 'dojo/dom-attr', '../SpeedSearchWidget', 'argos/List', 'argos/_LegacySDataListMixin', './_SpeedSearchRightDrawerListMixin', './_CardLayoutListMixin', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojo_baseArray, _dojoDomClass, _dojoDomConstruct, _dojoString, _dojoQuery, _dojoDomAttr, _SpeedSearchWidget, _argosList, _argos_LegacySDataListMixin, _SpeedSearchRightDrawerListMixin2, _CardLayoutListMixin2, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _array = _interopRequireDefault(_dojo_baseArray);

  var _domClass = _interopRequireDefault(_dojoDomClass);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _string = _interopRequireDefault(_dojoString);

  var _query = _interopRequireDefault(_dojoQuery);

  var _domAttr = _interopRequireDefault(_dojoDomAttr);

  var _SpeedSearchWidget2 = _interopRequireDefault(_SpeedSearchWidget);

  var _List = _interopRequireDefault(_argosList);

  var _LegacySDataListMixin2 = _interopRequireDefault(_argos_LegacySDataListMixin);

  var _SpeedSearchRightDrawerListMixin3 = _interopRequireDefault(_SpeedSearchRightDrawerListMixin2);

  var _CardLayoutListMixin3 = _interopRequireDefault(_CardLayoutListMixin2);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('speedSearchList');

<span id='crm-Views-SpeedSearchList'>  /**
</span>   * @class crm.Views.SpeedSearchList
   *
   *
   * @extends argos.List
   * @mixins crm.Views._SpeedSearchRightDrawerListMixin
   * @mixins crm.Views._CardLayoutListMixin
   *
   */
  var __class = (0, _declare['default'])('crm.Views.SpeedSearchList', [_List['default'], _LegacySDataListMixin2['default'], _SpeedSearchRightDrawerListMixin3['default'], _CardLayoutListMixin3['default']], {
    // Templates
    itemTemplate: new Simplate(['&lt;h4&gt;&lt;strong&gt;{%: $.$heading %}&lt;/strong&gt;&lt;/h4&gt;', '{%! $$.fieldTemplate %}']),

    fieldTemplate: new Simplate(['&lt;ul class=&quot;speedsearch-fields&quot;&gt;', '{% for(var i = 0; i &lt; $.fields.length; i++) { %}', '&lt;li&gt;&lt;h4&gt;&lt;span&gt;{%= $.fields[i].fieldName %}&lt;/span&gt; {%= $.fields[i].fieldValue %}&lt;/h4&gt;&lt;/li&gt;', '{% } %}', '&lt;/ul&gt;']),

    // Localization
    titleText: resource.titleText,

    // View Properties
    id: 'speedsearch_list',
    enableSearch: true,
    enableActions: true,
    searchWidgetClass: _SpeedSearchWidget2['default'],
    expose: false,
    activeIndexes: ['Account', 'Contact', 'Lead', 'Activity', 'History', 'Opportunity', 'Ticket'],
    indexes: [{
      indexName: 'Account',
      indexType: 1,
      isSecure: true
    }, {
      indexName: 'Activity',
      indexType: 1,
      isSecure: false
    }, {
      indexName: 'Contact',
      indexType: 1,
      isSecure: true
    }, {
      indexName: 'History',
      indexType: 1,
      isSecure: false
    }, {
      indexName: 'Lead',
      indexType: 1,
      isSecure: true
    }, {
      indexName: 'Opportunity',
      indexType: 1,
      isSecure: true
    }, {
      indexName: 'Ticket',
      indexType: 1,
      isSecure: false
    }],
    types: ['Account', 'Activity', 'Contact', 'History', 'Lead', 'Opportunity', 'Ticket'],
    indexesText: {
      'Account': resource.accountText,
      'Activity': resource.activityText,
      'Contact': resource.contactText,
      'History': resource.historyText,
      'Lead': resource.leadText,
      'Opportunity': resource.opportunityText,
      'Ticket': resource.ticketText
    },
    itemIconByType: {
      'Contact': 'fa-user',
      'Account': 'fa-building-o',
      'Opportunity': 'fa-money',
      'Ticket': 'fa-clipboard',
      'Lead': 'fa-filter',
      'Activity': 'fa-calendar-o',
      'History': 'fa-history'
    },
    currentPage: null,

    clear: function clear() {
      this.inherited(arguments);
      this.currentPage = 0;
    },
    _formatFieldName: function _formatFieldName() {},
    getItemIconClass: function getItemIconClass(entry) {
      var type = entry &amp;&amp; entry.type;
      var typeCls = this.itemIconByType[type];
      var cls = this.itemIconClass;
      if (typeCls) {
        cls = typeCls;
      }

      if (cls) {
        cls = 'fa ' + cls + ' fa-2x';
      }

      return cls;
    },
    extractTypeFromItem: function extractTypeFromItem(item) {
      for (var i = 0; i &lt; this.types.length; i++) {
        if (item.source.indexOf(this.types[i]) !== -1) {
          return this.types[i];
        }
      }

      return null;
    },
    extractDescriptorFromItem: function extractDescriptorFromItem(item) {
      var descriptor = item &amp;&amp; item.uiDisplayName;
      var rest = undefined;

      if (descriptor) {
        descriptor = descriptor.split(':');
        rest = descriptor[1];
      }

      return rest;
    },
    extractKeyFromItem: function extractKeyFromItem(item) {
      // Extract the entityId from the display name, which is the last 12 characters
      var displayName = item.displayName;
      if (!displayName) {
        return '';
      }

      var len = displayName.length;
      return displayName.substring(len - 12);
    },
    more: function more() {
      this.currentPage += 1;
      this.inherited(arguments);
    },
    hasMoreData: function hasMoreData() {
      var total = this.feed.totalCount;
      var count = (this.currentPage + 1) * this.pageSize;
      return count &lt; total;
    },
    processFeed: function processFeed(_feed) {
      var feed = _feed;
      if (!this.feed) {
        this.set('listContent', '');
      }

      function filter(field) {
        return field.fieldName !== 'seccodelist' &amp;&amp; field.fieldName !== 'filename';
      }

      this.feed = feed = feed.response;

      if (feed.totalCount === 0) {
        this.set('listContent', this.noDataTemplate.apply(this));
      } else if (feed.items) {
        var docfrag = document.createDocumentFragment();

        for (var i = 0; i &lt; feed.items.length; i++) {
          var entry = feed.items[i];
          entry.type = this.extractTypeFromItem(entry);
          entry.$descriptor = entry.$descriptor || entry.uiDisplayName;
          entry.$key = this.extractKeyFromItem(entry);
          entry.$heading = this.extractDescriptorFromItem(entry);
          entry.synopsis = window.unescape(entry.synopsis);
          entry.fields = _array['default'].filter(entry.fields, filter);

          this.entries[entry.$key] = entry;
          var rowNode = _domConstruct['default'].toDom(this.rowTemplate.apply(entry, this));
          docfrag.appendChild(rowNode);
          this.onApplyRowTemplate(entry, rowNode);
        }

        if (docfrag.childNodes.length &gt; 0) {
          _domConstruct['default'].place(docfrag, this.contentNode, 'last');
        }
      }

      if (typeof feed.totalCount !== 'undefined') {
        var remaining = this.feed.totalCount - (this.currentPage + 1) * this.pageSize;
        this.set('remainingContent', _string['default'].substitute(this.remainingText, [remaining]));
      }

      _domClass['default'].toggle(this.domNode, 'list-has-more', this.hasMoreData());
    },
    createRequest: function createRequest() {
      var request = new Sage.SData.Client.SDataServiceOperationRequest(this.getService()).setContractName('system').setOperationName('executeSearch');
      return request;
    },
    createSearchEntry: function createSearchEntry() {
      var entry = {
        request: {
          docTextItem: -1,
          searchText: this.query,
          searchType: App.speedSearch.searchType,
          noiseFile: 'PMINoise.dat',
          includeStemming: App.speedSearch.includeStemming,
          includeThesaurus: App.speedSearch.includeThesaurus,
          includePhonic: App.speedSearch.includePhonic,
          useFrequentFilter: App.speedSearch.useFrequentFilter,
          indexes: this.getActiveIndexes(),
          whichPage: this.currentPage,
          itemsPerPage: this.pageSize,
          filters: null
        },
        response: null
      };

      return entry;
    },
    getActiveIndexes: function getActiveIndexes() {
      var results = [];
      var self = this;
      _array['default'].forEach(this.activeIndexes, function forEachActiveIndex(indexName) {
        _array['default'].forEach(self.indexes, function forEachIndex(index) {
          if (index.indexName === indexName) {
            results.push(index);
          }
        });
      });

      return results;
    },
    requestData: function requestData() {
      _domClass['default'].add(this.domNode, 'list-loading');

      var request = this.createRequest();
      var entry = this.createSearchEntry();

      request.execute(entry, {
        success: _lang['default'].hitch(this, this.onRequestDataSuccess),
        failture: _lang['default'].hitch(this, this.onRequestDataFailure)
      });
    },
    navigateToDetailView: function navigateToDetailView(key, type) {
      var view = App.getView(type.toLowerCase() + '_detail');

      if (view) {
        view.show({
          key: key
        });
      }
    },
    createToolLayout: function createToolLayout() {
      return this.tools || (this.tools = {
        'tbar': []
      });
    },
    getItemIconAlt: function getItemIconAlt(entry) {
      return entry.type;
    },
    getItemDescriptor: function getItemDescriptor(entry) {
      return entry.type;
    },
    createIndicatorLayout: function createIndicatorLayout() {
      return this.itemIndicators || (this.itemIndicators = [{
        id: 'speadSearchIcon',
        icon: '',
        location: 'top',
        onApply: function onApply(entry, parent) {
          parent.applyActivityIndicator(entry, this);
        }
      }]);
    },
    applyActivityIndicator: function applyActivityIndicator(entry, indicator) {
      indicator.isEnabled = true;
      indicator.showIcon = false;
      indicator.label = this.indexesText[entry.type];
      indicator.valueText = this.indexesText[entry.type];
    },
    _intSearchExpressionNode: function _intSearchExpressionNode() {
      var listNode = (0, _query['default'])('#' + this.id);
      if (listNode[0]) {
        var html = this.searchExpressionTemplate.apply(this);
        _domConstruct['default'].place(html, listNode[0], 'first');
      }
    },
    _isIndexActive: function _isIndexActive(indexName) {
      var indexFound = false;
      if (this.activeIndexes.indexOf(indexName) &gt; -1) {
        indexFound = true;
      }
      return indexFound;
    },
    selectIndex: function selectIndex(e) {
      var button = e.$source;
      var indexName = _domAttr['default'].get(button, 'data-index');
      var activated = this.activateIndex(indexName);
      if (activated) {
        _domClass['default'].add(button, 'card-layout-speed-search-index-selected');
      } else {
        _domClass['default'].remove(button, 'card-layout-speed-search-index-selected');
      }
    },
    activateIndex: function activateIndex(indexName) {
      var tempActiveIndex = [];
      var indexFound = false;
      var activated = false;

      if (this.activeIndexes.indexOf(indexName) &gt; -1) {
        indexFound = true;
      }
      if (indexFound) {
        _array['default'].forEach(this.activeIndexes, function forEach(aIndexName) {
          if (aIndexName !== indexName) {
            tempActiveIndex.push(aIndexName);
          }
        });
        this.activeIndexes = tempActiveIndex;
        activated = false;
      } else {
        this.activeIndexes.push(indexName);
        activated = true;
      }

      return activated;
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.SpeedSearchList', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9TcGVlZFNlYXJjaExpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGlCQUFpQixDQUFDLENBQUM7Ozs7Ozs7Ozs7O0FBV2hELE1BQU0sT0FBTyxHQUFHLHlCQUFRLDJCQUEyQixFQUFFLHFJQUFxRixFQUFFOztBQUUxSSxnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLDZDQUE2QyxFQUM3Qyx5QkFBeUIsQ0FDMUIsQ0FBQzs7QUFFRixpQkFBYSxFQUFFLElBQUksUUFBUSxDQUFDLENBQzFCLGlDQUFpQyxFQUNqQyxrREFBa0QsRUFDbEQsMkZBQTJGLEVBQzNGLFNBQVMsRUFDVCxPQUFPLENBQ1IsQ0FBQzs7O0FBR0YsYUFBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTOzs7QUFHN0IsTUFBRSxFQUFFLGtCQUFrQjtBQUN0QixnQkFBWSxFQUFFLElBQUk7QUFDbEIsaUJBQWEsRUFBRSxJQUFJO0FBQ25CLHFCQUFpQixnQ0FBbUI7QUFDcEMsVUFBTSxFQUFFLEtBQUs7QUFDYixpQkFBYSxFQUFFLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsUUFBUSxDQUFDO0FBQzdGLFdBQU8sRUFBRSxDQUFDO0FBQ1IsZUFBUyxFQUFFLFNBQVM7QUFDcEIsZUFBUyxFQUFFLENBQUM7QUFDWixjQUFRLEVBQUUsSUFBSTtLQUNmLEVBQUU7QUFDRCxlQUFTLEVBQUUsVUFBVTtBQUNyQixlQUFTLEVBQUUsQ0FBQztBQUNaLGNBQVEsRUFBRSxLQUFLO0tBQ2hCLEVBQUU7QUFDRCxlQUFTLEVBQUUsU0FBUztBQUNwQixlQUFTLEVBQUUsQ0FBQztBQUNaLGNBQVEsRUFBRSxJQUFJO0tBQ2YsRUFBRTtBQUNELGVBQVMsRUFBRSxTQUFTO0FBQ3BCLGVBQVMsRUFBRSxDQUFDO0FBQ1os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QUFDckMsaUJBQVMsR0FBRyxLQUFLLENBQUM7T0FDbkIsTUFBTTtBQUNMLFlBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ25DLGlCQUFTLEdBQUcsSUFBSSxDQUFDO09BQ2xCOztBQUVELGFBQU8sU0FBUyxDQUFDO0tBQ2xCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQyx5Q0FBeUMsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDcEQsT0FBTyIsImZpbGUiOiJzcmMvVmlld3MvU3BlZWRTZWFyY2hMaXN0LmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBhcnJheSBmcm9tICdkb2pvL19iYXNlL2FycmF5JztcclxuaW1wb3J0IGRvbUNsYXNzIGZyb20gJ2Rvam8vZG9tLWNsYXNzJztcclxuaW1wb3J0IGRvbUNvbnN0cnVjdCBmcm9tICdkb2pvL2RvbS1jb25zdHJ1Y3QnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IHF1ZXJ5IGZyb20gJ2Rvam8vcXVlcnknO1xyXG5pbXBvcnQgZG9tQXR0ciBmcm9tICdkb2pvL2RvbS1hdHRyJztcclxuaW1wb3J0IFNwZWVkU2VhcmNoV2lkZ2V0IGZyb20gJy4uL1NwZWVkU2VhcmNoV2lkZ2V0JztcclxuaW1wb3J0IExpc3QgZnJvbSAnYXJnb3MvTGlzdCc7XHJcbmltcG9ydCBfTGVnYWN5U0RhdGFMaXN0TWl4aW4gZnJvbSAnYXJnb3MvX0xlZ2FjeVNEYXRhTGlzdE1peGluJztcclxuaW1wb3J0IF9TcGVlZFNlYXJjaFJpZ2h0RHJhd2VyTGlzdE1peGluIGZyb20gJy4vX1NwZWVkU2VhcmNoUmlnaHREcmF3ZXJMaXN0TWl4aW4nO1xyXG5pbXBvcnQgX0NhcmRMYXlvdXRMaXN0TWl4aW4gZnJvbSAnLi9fQ2FyZExheW91dExpc3RNaXhpbic7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3NwZWVkU2VhcmNoTGlzdCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuU3BlZWRTZWFyY2hMaXN0XHJcbiAqXHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkxpc3RcclxuICogQG1peGlucyBjcm0uVmlld3MuX1NwZWVkU2VhcmNoUmlnaHREcmF3ZXJMaXN0TWl4aW5cclxuICogQG1peGlucyBjcm0uVmlld3MuX0NhcmRMYXlvdXRMaXN0TWl4aW5cclxuICpcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uVmlld3MuU3BlZWRTZWFyY2hMaXN0JywgW0xpc3QsIF9MZWdhY3lTRGF0YUxpc3RNaXhpbiwgX1NwZWVkU2VhcmNoUmlnaHREcmF3ZXJMaXN0TWl4aW4sIF9DYXJkTGF5b3V0TGlzdE1peGluXSwge1xyXG4gIC8vIFRlbXBsYXRlc1xyXG4gIGl0ZW1UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8aDQ+PHN0cm9uZz57JTogJC4kaGVhZGluZyAlfTwvc3Ryb25nPjwvaDQ+JyxcclxuICAgICd7JSEgJCQuZmllbGRUZW1wbGF0ZSAlfScsXHJcbiAgXSksXHJcblxyXG4gIGZpZWxkVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPHVsIGNsYXNzPVwic3BlZWRzZWFyY2gtZmllbGRzXCI+JyxcclxuICAgICd7JSBmb3IodmFyIGkgPSAwOyBpIDwgJC5maWVsZHMubGVuZ3RoOyBpKyspIHsgJX0nLFxyXG4gICAgJzxsaT48aDQ+PHNwYW4+eyU9ICQuZmllbGRzW2ldLmZpZWxkTmFtZSAlfTwvc3Bhbj4geyU9ICQuZmllbGRzW2ldLmZpZWxkVmFsdWUgJX08L2g0PjwvbGk+JyxcclxuICAgICd7JSB9ICV9JyxcclxuICAgICc8L3VsPicsXHJcbiAgXSksXHJcblxyXG4gIC8vIExvY2FsaXphdGlvblxyXG4gIHRpdGxlVGV4dDogcmVzb3VyY2UudGl0bGVUZXh0LFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBpZDogJ3NwZWVkc2VhcmNoX2xpc3QnLFxyXG4gIGVuYWJsZVNlYXJjaDogdHJ1ZSxcclxuICBlbmFibGVBY3Rpb25zOiB0cnVlLFxyXG4gIHNlYXJjaFdpZGdldENsYXNzOiBTcGVlZFNlYXJjaFdpZGdldCxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIGFjdGl2ZUluZGV4ZXM6IFsnQWNjb3VudCcsICdDb250YWN0JywgJ0xlYWQnLCAnQWN0aXZpdHknLCAnSGlzdG9yeScsICdPcHBvcnR1bml0eScsICdUaWNrZXQnXSxcclxuICBpbmRleGVzOiBbe1xyXG4gICAgaW5kZXhOYW1lOiAnQWNjb3VudCcsXHJcbiAgICBpbmRleFR5cGU6IDEsXHJcbiAgICBpc1NlY3VyZTogdHJ1ZSxcclxuICB9LCB7XHJcbiAgICBpbmRleE5hbWU6ICdBY3Rpdml0eScsXHJcbiAgICBpbmRleFR5cGU6IDEsXHJcbiAgICBpc1NlY3VyZTogZmFsc2UsXHJcbiAgfSwge1xyXG4gICAgaW5kZXhOYW1lOiAnQ29udGFjdCcsXHJcbiAgICBpbmRleFR5cGU6IDEsXHJcbiAgICBpc1NlY3VyZTogdHJ1ZSxcclxuICB9LCB7XHJcbiAgICBpbmRleE5hbWU6ICdIaXN0b3J5JyxcclxuICAgIGluZGV4VHlwZTogMSxcclxuICAgIGlzU2VjdXJlOiBmYWxzZSxcclxuICB9LCB7XHJcbiAgICBpbmRleE5hbWU6ICdMZWFkJyxcclxuICAgIGluZGV4VHlwZTogMSxcclxuICAgIGlzU2VjdXJlOiB0cnVlLFxyXG4gIH0sIHtcclxuICAgIGluZGV4TmFtZTogJ09wcG9ydHVuaXR5JyxcclxuICAgIGluZGV4VHlwZTogMSxcclxuICAgIGlzU2VjdXJlOiB0cnVlLFxyXG4gIH0sIHtcclxuICAgIGluZGV4TmFtZTogJ1RpY2tldCcsXHJcbiAgICBpbmRleFR5cGU6IDEsXHJcbiAgICBpc1NlY3VyZTogZmFsc2UsXHJcbiAgfV0sXHJcbiAgdHlwZXM6IFsnQWNjb3VudCcsICdBY3Rpdml0eScsICdDb250YWN0JywgJ0hpc3RvcnknLCAnTGVhZCcsICdPcHBvcnR1bml0eScsICdUaWNrZXQnXSxcclxuICBpbmRleGVzVGV4dDoge1xyXG4gICAgJ0FjY291bnQnOiByZXNvdXJjZS5hY2NvdW50VGV4dCxcclxuICAgICdBY3Rpdml0eSc6IHJlc291cmNlLmFjdGl2aXR5VGV4dCxcclxuICAgICdDb250YWN0JzogcmVzb3VyY2UuY29udGFjdFRleHQsXHJcbiAgICAnSGlzdG9yeSc6IHJlc291cmNlLmhpc3RvcnlUZXh0LFxyXG4gICAgJ0xlYWQnOiByZXNvdXJjZS5sZWFkVGV4dCxcclxuICAgICdPcHBvcnR1bml0eSc6IHJlc291cmNlLm9wcG9ydHVuaXR5VGV4dCxcclxuICAgICdUaWNrZXQnOiByZXNvdXJjZS50aWNrZXRUZXh0LFxyXG4gIH0sXHJcbiAgaXRlbUljb25CeVR5cGU6IHtcclxuICAgICdDb250YWN0JzogJ2ZhLXVzZXInLFxyXG4gICAgJ0FjY291bnQnOiAnZmEtYnVpbGRpbmctbycsXHJcbiAgICAnT3Bwb3J0dW5pdHknOiAnZmEtbW9uZXknLFxyXG4gICAgJ1RpY2tldCc6ICdmYS1jbGlwYm9hcmQnLFxyXG4gICAgJ0xlYWQnOiAnZmEtZmlsdGVyJyxcclxuICAgICdBY3Rpdml0eSc6ICdmYS1jYWxlbmRhci1vJyxcclxuICAgICdIaXN0b3J5JzogJ2ZhLWhpc3RvcnknLFxyXG4gIH0sXHJcbiAgY3VycmVudFBhZ2U6IG51bGwsXHJcblxyXG4gIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMDtcclxuICB9LFxyXG4gIF9mb3JtYXRGaWVsZE5hbWU6IGZ1bmN0aW9uIF9mb3JtYXRGaWVsZE5hbWUoKSB7fSxcclxuICBnZXRJdGVtSWNvbkNsYXNzOiBmdW5jdGlvbiBnZXRJdGVtSWNvbkNsYXNzKGVudHJ5KSB7XHJcbiAgICBjb25zdCB0eXBlID0gZW50cnkgJiYgZW50cnkudHlwZTtcclxuICAgIGNvbnN0IHR5cGVDbHMgPSB0aGlzLml0ZW1JY29uQnlUeXBlW3R5cGVdO1xyXG4gICAgbGV0IGNscyA9IHRoaXMuaXRlbUljb25DbGFzcztcclxuICAgIGlmICh0eXBlQ2xzKSB7XHJcbiAgICAgIGNscyA9IHR5cGVDbHM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNscykge1xyXG4gICAgICBjbHMgPSAnZmEgJyArIGNscyArICcgZmEtMngnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjbHM7XHJcbiAgfSxcclxuICBleHRyYWN0VHlwZUZyb21JdGVtOiBmdW5jdGlvbiBleHRyYWN0VHlwZUZyb21JdGVtKGl0ZW0pIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50eXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoaXRlbS5zb3VyY2UuaW5kZXhPZih0aGlzLnR5cGVzW2ldKSAhPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlc1tpXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcbiAgZXh0cmFjdERlc2NyaXB0b3JGcm9tSXRlbTogZnVuY3Rpb24gZXh0cmFjdERlc2NyaXB0b3JGcm9tSXRlbShpdGVtKSB7XHJcbiAgICBsZXQgZGVzY3JpcHRvciA9IGl0ZW0gJiYgaXRlbS51aURpc3BsYXlOYW1lO1xyXG4gICAgbGV0IHJlc3Q7XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0b3IpIHtcclxuICAgICAgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3Iuc3BsaXQoJzonKTtcclxuICAgICAgcmVzdCA9IGRlc2NyaXB0b3JbMV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3Q7XHJcbiAgfSxcclxuICBleHRyYWN0S2V5RnJvbUl0ZW06IGZ1bmN0aW9uIGV4dHJhY3RLZXlGcm9tSXRlbShpdGVtKSB7XHJcbiAgICAvLyBFeHRyYWN0IHRoZSBlbnRpdHlJZCBmcm9tIHRoZSBkaXNwbGF5IG5hbWUsIHdoaWNoIGlzIHRoZSBsYXN0IDEyIGNoYXJhY3RlcnNcclxuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gaXRlbS5kaXNwbGF5TmFtZTtcclxuICAgIGlmICghZGlzcGxheU5hbWUpIHtcclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxlbiA9IGRpc3BsYXlOYW1lLmxlbmd0aDtcclxuICAgIHJldHVybiBkaXNwbGF5TmFtZS5zdWJzdHJpbmcobGVuIC0gMTIpO1xyXG4gIH0sXHJcbiAgbW9yZTogZnVuY3Rpb24gbW9yZSgpIHtcclxuICAgIHRoaXMuY3VycmVudFBhZ2UgKz0gMTtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgfSxcclxuICBoYXNNb3JlRGF0YTogZnVuY3Rpb24gaGFzTW9yZURhdGEoKSB7XHJcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuZmVlZC50b3RhbENvdW50O1xyXG4gICAgY29uc3QgY291bnQgPSAodGhpcy5jdXJyZW50UGFnZSArIDEpICogdGhpcy5wYWdlU2l6ZTtcclxuICAgIHJldHVybiBjb3VudCA8IHRvdGFsO1xyXG4gIH0sXHJcbiAgcHJvY2Vzc0ZlZWQ6IGZ1bmN0aW9uIHByb2Nlc3NGZWVkKF9mZWVkKSB7XHJcbiAgICBsZXQgZmVlZCA9IF9mZWVkO1xyXG4gICAgaWYgKCF0aGlzLmZlZWQpIHtcclxuICAgICAgdGhpcy5zZXQoJ2xpc3RDb250ZW50JywgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbHRlcihmaWVsZCkge1xyXG4gICAgICByZXR1cm4gZmllbGQuZmllbGROYW1lICE9PSAnc2VjY29kZWxpc3QnICYmIGZpZWxkLmZpZWxkTmFtZSAhPT0gJ2ZpbGVuYW1lJztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZlZWQgPSBmZWVkID0gZmVlZC5yZXNwb25zZTtcclxuXHJcbiAgICBpZiAoZmVlZC50b3RhbENvdW50ID09PSAwKSB7XHJcbiAgICAgIHRoaXMuc2V0KCdsaXN0Q29udGVudCcsIHRoaXMubm9EYXRhVGVtcGxhdGUuYXBwbHkodGhpcykpO1xyXG4gICAgfSBlbHNlIGlmIChmZWVkLml0ZW1zKSB7XHJcbiAgICAgIGNvbnN0IGRvY2ZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZWQuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IGZlZWQuaXRlbXNbaV07XHJcbiAgICAgICAgZW50cnkudHlwZSA9IHRoaXMuZXh0cmFjdFR5cGVGcm9tSXRlbShlbnRyeSk7XHJcbiAgICAgICAgZW50cnkuJGRlc2NyaXB0b3IgPSBlbnRyeS4kZGVzY3JpcHRvciB8fCBlbnRyeS51aURpc3BsYXlOYW1lO1xyXG4gICAgICAgIGVudHJ5LiRrZXkgPSB0aGlzLmV4dHJhY3RLZXlGcm9tSXRlbShlbnRyeSk7XHJcbiAgICAgICAgZW50cnkuJGhlYWRpbmcgPSB0aGlzLmV4dHJhY3REZXNjcmlwdG9yRnJvbUl0ZW0oZW50cnkpO1xyXG4gICAgICAgIGVudHJ5LnN5bm9wc2lzID0gd2luZG93LnVuZXNjYXBlKGVudHJ5LnN5bm9wc2lzKTtcclxuICAgICAgICBlbnRyeS5maWVsZHMgPSBhcnJheS5maWx0ZXIoZW50cnkuZmllbGRzLCBmaWx0ZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmVudHJpZXNbZW50cnkuJGtleV0gPSBlbnRyeTtcclxuICAgICAgICBjb25zdCByb3dOb2RlID0gZG9tQ29uc3RydWN0LnRvRG9tKHRoaXMucm93VGVtcGxhdGUuYXBwbHkoZW50cnksIHRoaXMpKTtcclxuICAgICAgICBkb2NmcmFnLmFwcGVuZENoaWxkKHJvd05vZGUpO1xyXG4gICAgICAgIHRoaXMub25BcHBseVJvd1RlbXBsYXRlKGVudHJ5LCByb3dOb2RlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRvY2ZyYWcuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKGRvY2ZyYWcsIHRoaXMuY29udGVudE5vZGUsICdsYXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGZlZWQudG90YWxDb3VudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5mZWVkLnRvdGFsQ291bnQgLSAoKHRoaXMuY3VycmVudFBhZ2UgKyAxKSAqIHRoaXMucGFnZVNpemUpO1xyXG4gICAgICB0aGlzLnNldCgncmVtYWluaW5nQ29udGVudCcsIHN0cmluZy5zdWJzdGl0dXRlKHRoaXMucmVtYWluaW5nVGV4dCwgW3JlbWFpbmluZ10pKTtcclxuICAgIH1cclxuXHJcbiAgICBkb21DbGFzcy50b2dnbGUodGhpcy5kb21Ob2RlLCAnbGlzdC1oYXMtbW9yZScsIHRoaXMuaGFzTW9yZURhdGEoKSk7XHJcbiAgfSxcclxuICBjcmVhdGVSZXF1ZXN0OiBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KCkge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVNlcnZpY2VPcGVyYXRpb25SZXF1ZXN0KHRoaXMuZ2V0U2VydmljZSgpKVxyXG4gICAgICAuc2V0Q29udHJhY3ROYW1lKCdzeXN0ZW0nKVxyXG4gICAgICAuc2V0T3BlcmF0aW9uTmFtZSgnZXhlY3V0ZVNlYXJjaCcpO1xyXG4gICAgcmV0dXJuIHJlcXVlc3Q7XHJcbiAgfSxcclxuICBjcmVhdGVTZWFyY2hFbnRyeTogZnVuY3Rpb24gY3JlYXRlU2VhcmNoRW50cnkoKSB7XHJcbiAgICBjb25zdCBlbnRyeSA9IHtcclxuICAgICAgcmVxdWVzdDoge1xyXG4gICAgICAgIGRvY1RleHRJdGVtOiAtMSxcclxuICAgICAgICBzZWFyY2hUZXh0OiB0aGlzLnF1ZXJ5LFxyXG4gICAgICAgIHNlYXJjaFR5cGU6IEFwcC5zcGVlZFNlYXJjaC5zZWFyY2hUeXBlLFxyXG4gICAgICAgIG5vaXNlRmlsZTogJ1BNSU5vaXNlLmRhdCcsXHJcbiAgICAgICAgaW5jbHVkZVN0ZW1taW5nOiBBcHAuc3BlZWRTZWFyY2guaW5jbHVkZVN0ZW1taW5nLFxyXG4gICAgICAgIGluY2x1ZGVUaGVzYXVydXM6IEFwcC5zcGVlZFNlYXJjaC5pbmNsdWRlVGhlc2F1cnVzLFxyXG4gICAgICAgIGluY2x1ZGVQaG9uaWM6IEFwcC5zcGVlZFNlYXJjaC5pbmNsdWRlUGhvbmljLFxyXG4gICAgICAgIHVzZUZyZXF1ZW50RmlsdGVyOiBBcHAuc3BlZWRTZWFyY2gudXNlRnJlcXVlbnRGaWx0ZXIsXHJcbiAgICAgICAgaW5kZXhlczogdGhpcy5nZXRBY3RpdmVJbmRleGVzKCksXHJcbiAgICAgICAgd2hpY2hQYWdlOiB0aGlzLmN1cnJlbnRQYWdlLFxyXG4gICAgICAgIGl0ZW1zUGVyUGFnZTogdGhpcy5wYWdlU2l6ZSxcclxuICAgICAgICBmaWx0ZXJzOiBudWxsLFxyXG4gICAgICB9LFxyXG4gICAgICByZXNwb25zZTogbnVsbCxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGVudHJ5O1xyXG4gIH0sXHJcbiAgZ2V0QWN0aXZlSW5kZXhlczogZnVuY3Rpb24gZ2V0QWN0aXZlSW5kZXhlcygpIHtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgYXJyYXkuZm9yRWFjaCh0aGlzLmFjdGl2ZUluZGV4ZXMsIGZ1bmN0aW9uIGZvckVhY2hBY3RpdmVJbmRleChpbmRleE5hbWUpIHtcclxuICAgICAgYXJyYXkuZm9yRWFjaChzZWxmLmluZGV4ZXMsIGZ1bmN0aW9uIGZvckVhY2hJbmRleChpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleC5pbmRleE5hbWUgPT09IGluZGV4TmFtZSkge1xyXG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgfSxcclxuICByZXF1ZXN0RGF0YTogZnVuY3Rpb24gcmVxdWVzdERhdGEoKSB7XHJcbiAgICBkb21DbGFzcy5hZGQodGhpcy5kb21Ob2RlLCAnbGlzdC1sb2FkaW5nJyk7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuY3JlYXRlUmVxdWVzdCgpO1xyXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZVNlYXJjaEVudHJ5KCk7XHJcblxyXG4gICAgcmVxdWVzdC5leGVjdXRlKGVudHJ5LCB7XHJcbiAgICAgIHN1Y2Nlc3M6IGxhbmcuaGl0Y2godGhpcywgdGhpcy5vblJlcXVlc3REYXRhU3VjY2VzcyksXHJcbiAgICAgIGZhaWx0dXJlOiBsYW5nLmhpdGNoKHRoaXMsIHRoaXMub25SZXF1ZXN0RGF0YUZhaWx1cmUpLFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBuYXZpZ2F0ZVRvRGV0YWlsVmlldzogZnVuY3Rpb24gbmF2aWdhdGVUb0RldGFpbFZpZXcoa2V5LCB0eXBlKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcodHlwZS50b0xvd2VyQ2FzZSgpICsgJ19kZXRhaWwnKTtcclxuXHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICB2aWV3LnNob3coe1xyXG4gICAgICAgIGtleToga2V5LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNyZWF0ZVRvb2xMYXlvdXQ6IGZ1bmN0aW9uIGNyZWF0ZVRvb2xMYXlvdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50b29scyB8fCAodGhpcy50b29scyA9IHtcclxuICAgICAgJ3RiYXInOiBbXSxcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgZ2V0SXRlbUljb25BbHQ6IGZ1bmN0aW9uIGdldEl0ZW1JY29uQWx0KGVudHJ5KSB7XHJcbiAgICByZXR1cm4gZW50cnkudHlwZTtcclxuICB9LFxyXG4gIGdldEl0ZW1EZXNjcmlwdG9yOiBmdW5jdGlvbiBnZXRJdGVtRGVzY3JpcHRvcihlbnRyeSkge1xyXG4gICAgcmV0dXJuIGVudHJ5LnR5cGU7XHJcbiAgfSxcclxuICBjcmVhdGVJbmRpY2F0b3JMYXlvdXQ6IGZ1bmN0aW9uIGNyZWF0ZUluZGljYXRvckxheW91dCgpIHtcclxuICAgIHJldHVybiB0aGlzLml0ZW1JbmRpY2F0b3JzIHx8ICh0aGlzLml0ZW1JbmRpY2F0b3JzID0gW3tcclxuICAgICAgaWQ6ICdzcGVhZFNlYXJjaEljb24nLFxyXG4gICAgICBpY29uOiAnJyxcclxuICAgICAgbG9jYXRpb246ICd0b3AnLFxyXG4gICAgICBvbkFwcGx5OiBmdW5jdGlvbiBvbkFwcGx5KGVudHJ5LCBwYXJlbnQpIHtcclxuICAgICAgICBwYXJlbnQuYXBwbHlBY3Rpdml0eUluZGljYXRvcihlbnRyeSwgdGhpcyk7XHJcbiAgICAgIH0sXHJcbiAgICB9XSk7XHJcbiAgfSxcclxuICBhcHBseUFjdGl2aXR5SW5kaWNhdG9yOiBmdW5jdGlvbiBhcHBseUFjdGl2aXR5SW5kaWNhdG9yKGVudHJ5LCBpbmRpY2F0b3IpIHtcclxuICAgIGluZGljYXRvci5pc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgaW5kaWNhdG9yLnNob3dJY29uID0gZmFsc2U7XHJcbiAgICBpbmRpY2F0b3IubGFiZWwgPSB0aGlzLmluZGV4ZXNUZXh0W2VudHJ5LnR5cGVdO1xyXG4gICAgaW5kaWNhdG9yLnZhbHVlVGV4dCA9IHRoaXMuaW5kZXhlc1RleHRbZW50cnkudHlwZV07XHJcbiAgfSxcclxuICBfaW50U2VhcmNoRXhwcmVzc2lvbk5vZGU6IGZ1bmN0aW9uIF9pbnRTZWFyY2hFeHByZXNzaW9uTm9kZSgpIHtcclxuICAgIGNvbnN0IGxpc3ROb2RlID0gcXVlcnkoJyMnICsgdGhpcy5pZCk7XHJcbiAgICBpZiAobGlzdE5vZGVbMF0pIHtcclxuICAgICAgY29uc3QgaHRtbCA9IHRoaXMuc2VhcmNoRXhwcmVzc2lvblRlbXBsYXRlLmFwcGx5KHRoaXMpO1xyXG4gICAgICBkb21Db25zdHJ1Y3QucGxhY2UoaHRtbCwgbGlzdE5vZGVbMF0sICdmaXJzdCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgX2lzSW5kZXhBY3RpdmU6IGZ1bmN0aW9uIF9pc0luZGV4QWN0aXZlKGluZGV4TmFtZSkge1xyXG4gICAgbGV0IGluZGV4Rm91bmQgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ZXMuaW5kZXhPZihpbmRleE5hbWUpID4gLTEpIHtcclxuICAgICAgaW5kZXhGb3VuZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5kZXhGb3VuZDtcclxuICB9LFxyXG4gIHNlbGVjdEluZGV4OiBmdW5jdGlvbiBzZWxlY3RJbmRleChlKSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBlLiRzb3VyY2U7XHJcbiAgICBjb25zdCBpbmRleE5hbWUgPSBkb21BdHRyLmdldChidXR0b24sICdkYXRhLWluZGV4Jyk7XHJcbiAgICBjb25zdCBhY3RpdmF0ZWQgPSB0aGlzLmFjdGl2YXRlSW5kZXgoaW5kZXhOYW1lKTtcclxuICAgIGlmIChhY3RpdmF0ZWQpIHtcclxuICAgICAgZG9tQ2xhc3MuYWRkKGJ1dHRvbiwgJ2NhcmQtbGF5b3V0LXNwZWVkLXNlYXJjaC1pbmRleC1zZWxlY3RlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9tQ2xhc3MucmVtb3ZlKGJ1dHRvbiwgJ2NhcmQtbGF5b3V0LXNwZWVkLXNlYXJjaC1pbmRleC1zZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aXZhdGVJbmRleDogZnVuY3Rpb24gYWN0aXZhdGVJbmRleChpbmRleE5hbWUpIHtcclxuICAgIGNvbnN0IHRlbXBBY3RpdmVJbmRleCA9IFtdO1xyXG4gICAgbGV0IGluZGV4Rm91bmQgPSBmYWxzZTtcclxuICAgIGxldCBhY3RpdmF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodGhpcy5hY3RpdmVJbmRleGVzLmluZGV4T2YoaW5kZXhOYW1lKSA+IC0xKSB7XHJcbiAgICAgIGluZGV4Rm91bmQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZGV4Rm91bmQpIHtcclxuICAgICAgYXJyYXkuZm9yRWFjaCh0aGlzLmFjdGl2ZUluZGV4ZXMsIGZ1bmN0aW9uIGZvckVhY2goYUluZGV4TmFtZSkge1xyXG4gICAgICAgIGlmIChhSW5kZXhOYW1lICE9PSBpbmRleE5hbWUpIHtcclxuICAgICAgICAgIHRlbXBBY3RpdmVJbmRleC5wdXNoKGFJbmRleE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuYWN0aXZlSW5kZXhlcyA9IHRlbXBBY3RpdmVJbmRleDtcclxuICAgICAgYWN0aXZhdGVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFjdGl2ZUluZGV4ZXMucHVzaChpbmRleE5hbWUpO1xyXG4gICAgICBhY3RpdmF0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhY3RpdmF0ZWQ7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnTW9iaWxlLlNhbGVzTG9naXguVmlld3MuU3BlZWRTZWFyY2hMaXN0JywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
