<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/TicketActivity/List', ['exports', 'module', 'dojo/_base/declare', 'dojo/string', 'dojo/dom-style', 'dojo/dom-geometry', 'dojo/query', 'dojo/topic', 'dojo/_base/lang', 'argos/List', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojoString, _dojoDomStyle, _dojoDomGeometry, _dojoQuery, _dojoTopic, _dojo_baseLang, _argosList, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _string = _interopRequireDefault(_dojoString);

  var _domStyle = _interopRequireDefault(_dojoDomStyle);

  var _domGeom = _interopRequireDefault(_dojoDomGeometry);

  var _query = _interopRequireDefault(_dojoQuery);

  var _topic = _interopRequireDefault(_dojoTopic);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _List = _interopRequireDefault(_argosList);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('ticketActivityList');
  var dtFormatResource = (0, _getResource['default'])('ticketActivityListDateTimeFormat');

<span id='crm-Views-TicketActivity-List'>  /**
</span>   * @class crm.Views.TicketActivity.List
   *
   * @extends argos.List
   *
   * @requires crm.Format
   */
  var __class = (0, _declare['default'])('crm.Views.TicketActivity.List', [_List['default']], {
    // Templates
    itemTemplate: new Simplate(['&lt;h3&gt;{%: $.Ticket.TicketNumber %}&lt;/h3&gt;', '&lt;h4&gt;{%: crm.Format.date($.AssignedDate, $$.startDateFormatText) %}&lt;/h4&gt;', '&lt;div class=&quot;note-text-item&quot;&gt;', '&lt;div class=&quot;note-text-wrap&quot;&gt;', '{%: $.ActivityDescription %}', '&lt;/div&gt;', '&lt;div class=&quot;note-text-more&quot;&gt;&lt;/div&gt;', '&lt;/div&gt;']),

    // Localization
    titleText: resource.titleText,
    startDateFormatText: dtFormatResource.startDateFormatText,

    // View Properties
    id: 'ticketactivity_list',
    security: 'Entities/TicketActivity/View',
    expose: false,
    detailView: 'ticketactivity_detail',
    insertView: 'ticketactivity_edit',
    queryOrderBy: 'AssignedDate asc',
    querySelect: ['ActivityDescription', 'ActivityTypeCode', 'AssignedDate', 'CompletedDate', 'ElapsedUnits', 'FollowUp', 'PublicAccessCode', 'Rate', 'RateTypeDescription/Amount', 'RateTypeDescription/RateTypeCode', 'RateTypeDescription/TypeDescription', 'TotalFee', 'TotalLabor', 'TotalParts', 'Units', 'Ticket/Account/AccountName', 'Ticket/TicketNumber', 'Ticket/Contact/Name', 'User/UserInfo/LastName', 'User/UserInfo/FirstName'],
    resourceKind: 'ticketActivities',

    _onResize: function _onResize() {
      (0, _query['default'])('.note-text-item', this.contentNode).forEach(function setNoteTextShown(node) {
        var wrapNode = (0, _query['default'])('.note-text-wrap', node)[0];
        var moreNode = (0, _query['default'])('.note-text-more', node)[0];
        if (_domGeom['default'].getMarginBox(node).h &lt; _domGeom['default'].getMarginBox(wrapNode).h) {
          _domStyle['default'].set(moreNode, 'visibility', 'visible');
        } else {
          _domStyle['default'].set(moreNode, 'visibility', 'hidden');
        }
      });
    },
    processData: function processData() {
      this.inherited(arguments);
      this._onResize();
    },
    postCreate: function postCreate() {
      this.inherited(arguments);
      this.own(_topic['default'].subscribe('/app/resize', _lang['default'].hitch(this, this._onResize)));
    },
    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('ActivityDescription like &quot;${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.TicketActivity.List', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9UaWNrZXRBY3Rpdml0eS9MaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLG9CQUFvQixDQUFDLENBQUM7QUFDbkQsTUFBTSxnQkFBZ0IsR0FBRyw2QkFBWSxrQ0FBa0MsQ0FBQyxDQUFDOzs7Ozs7Ozs7QUFTekUsTUFBTSxPQUFPLEdBQUcseUJBQVEsK0JBQStCLEVBQUUsa0JBQU0sRUFBRTs7QUFFL0QsZ0JBQVksRUFBRSxJQUFJLFFBQVEsQ0FBQyxDQUN6Qix1Q0FBdUMsRUFDdkMseUVBQXlFLEVBQ3pFLDhCQUE4QixFQUM5Qiw4QkFBOEIsRUFDOUIsOEJBQThCLEVBQzlCLFFBQVEsRUFDUixvQ0FBb0MsRUFDcEMsUUFBUSxDQUNULENBQUM7OztBQUdGLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3Qix1QkFBbUIsRUFBRSxnQkFBZ0IsQ0FBQyxtQkFBbUI7OztBQUd6RCxNQUFFLEVBQUUscUJBQXFCO0FBQ3pCLFlBQVEsRUFBRSw4QkFBOEI7QUFDeEMsVUFBTSxFQUFFLEtBQUs7QUFDYixjQUFVLEVBQUUsdUJBQXVCO0FBQ25DLGNBQVUsRUFBRSxxQkFBcUI7QUFDakMsZ0JBQVksRUFBRSxrQkFBa0I7QUFDaEMsZUFBVyxFQUFFLENBQ1gscUJBQXFCLEVBQ3JCLGtCQUFrQixFQUNsQixjQUFjLEVBQ2QsZUFBZSxFQUNmLGNBQWMsRUFDZCxVQUFVLEVBQ1Ysa0JBQWtCLEVBQ2xCLE1BQU0sRUFDTiw0QkFBNEIsRUFDNUIsa0NBQWtDLEVBQ2xDLHFDQUFxQyxFQUNyQyxVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixPQUFPLEVBQ1AsNEJBQTRCLEVBQzVCLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDckIsd0JBQXdCLEVBQ3hCLHlCQUF5QixDQUMxQjtBQUNELGdCQUFZLEVBQUUsa0JBQWtCOztBQUVoQyxhQUFTLEVBQUUsU0FBUyxTQUFTLEdBQUc7QUFDOUIsNkJBQU0saUJBQWlCLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUNqRixZQUFNLFFBQVEsR0FBRyx1QkFBTSxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRCxZQUFNLFFBQVEsR0FBRyx1QkFBTSxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRCxZQUFJLG9CQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsb0JBQVEsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNuRSwrQkFBUyxHQUFHLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNqRCxNQUFNO0FBQ0wsK0JBQVMsR0FBRyxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDaEQ7T0FDRixDQUFDLENBQUM7S0FDSjtBQUNELGVBQVcsRUFBRSxTQUFTLFdBQVcsR0FBRztBQUNsQyxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFCLFVBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztLQUNsQjtBQUNELGNBQVUsRUFBRSxTQUFTLFVBQVUsR0FBRztBQUNoQyxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFCLFVBQUksQ0FBQyxHQUFHLENBQUMsa0JBQU0sU0FBUyxDQUFDLGFBQWEsRUFBRSxpQkFBSyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUU7QUFDRCxxQkFBaUIsRUFBRSxTQUFTLGlCQUFpQixDQUFDLFdBQVcsRUFBRTtBQUN6RCxhQUFPLG1CQUFPLFVBQVUsQ0FDdEIsa0NBQWtDLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FDeEYsQ0FBQztLQUNIO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQyw2Q0FBNkMsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDeEQsT0FBTyIsImZpbGUiOiJzcmMvVmlld3MvVGlja2V0QWN0aXZpdHkvTGlzdC5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IGRvbVN0eWxlIGZyb20gJ2Rvam8vZG9tLXN0eWxlJztcclxuaW1wb3J0IGRvbUdlb20gZnJvbSAnZG9qby9kb20tZ2VvbWV0cnknO1xyXG5pbXBvcnQgcXVlcnkgZnJvbSAnZG9qby9xdWVyeSc7XHJcbmltcG9ydCB0b3BpYyBmcm9tICdkb2pvL3RvcGljJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IExpc3QgZnJvbSAnYXJnb3MvTGlzdCc7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3RpY2tldEFjdGl2aXR5TGlzdCcpO1xyXG5jb25zdCBkdEZvcm1hdFJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3RpY2tldEFjdGl2aXR5TGlzdERhdGVUaW1lRm9ybWF0Jyk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIGNybS5WaWV3cy5UaWNrZXRBY3Rpdml0eS5MaXN0XHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkxpc3RcclxuICpcclxuICogQHJlcXVpcmVzIGNybS5Gb3JtYXRcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uVmlld3MuVGlja2V0QWN0aXZpdHkuTGlzdCcsIFtMaXN0XSwge1xyXG4gIC8vIFRlbXBsYXRlc1xyXG4gIGl0ZW1UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8aDM+eyU6ICQuVGlja2V0LlRpY2tldE51bWJlciAlfTwvaDM+JyxcclxuICAgICc8aDQ+eyU6IGNybS5Gb3JtYXQuZGF0ZSgkLkFzc2lnbmVkRGF0ZSwgJCQuc3RhcnREYXRlRm9ybWF0VGV4dCkgJX08L2g0PicsXHJcbiAgICAnPGRpdiBjbGFzcz1cIm5vdGUtdGV4dC1pdGVtXCI+JyxcclxuICAgICc8ZGl2IGNsYXNzPVwibm90ZS10ZXh0LXdyYXBcIj4nLFxyXG4gICAgJ3slOiAkLkFjdGl2aXR5RGVzY3JpcHRpb24gJX0nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgICAnPGRpdiBjbGFzcz1cIm5vdGUtdGV4dC1tb3JlXCI+PC9kaXY+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG5cclxuICAvLyBMb2NhbGl6YXRpb25cclxuICB0aXRsZVRleHQ6IHJlc291cmNlLnRpdGxlVGV4dCxcclxuICBzdGFydERhdGVGb3JtYXRUZXh0OiBkdEZvcm1hdFJlc291cmNlLnN0YXJ0RGF0ZUZvcm1hdFRleHQsXHJcblxyXG4gIC8vIFZpZXcgUHJvcGVydGllc1xyXG4gIGlkOiAndGlja2V0YWN0aXZpdHlfbGlzdCcsXHJcbiAgc2VjdXJpdHk6ICdFbnRpdGllcy9UaWNrZXRBY3Rpdml0eS9WaWV3JyxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIGRldGFpbFZpZXc6ICd0aWNrZXRhY3Rpdml0eV9kZXRhaWwnLFxyXG4gIGluc2VydFZpZXc6ICd0aWNrZXRhY3Rpdml0eV9lZGl0JyxcclxuICBxdWVyeU9yZGVyQnk6ICdBc3NpZ25lZERhdGUgYXNjJyxcclxuICBxdWVyeVNlbGVjdDogW1xyXG4gICAgJ0FjdGl2aXR5RGVzY3JpcHRpb24nLFxyXG4gICAgJ0FjdGl2aXR5VHlwZUNvZGUnLFxyXG4gICAgJ0Fzc2lnbmVkRGF0ZScsXHJcbiAgICAnQ29tcGxldGVkRGF0ZScsXHJcbiAgICAnRWxhcHNlZFVuaXRzJyxcclxuICAgICdGb2xsb3dVcCcsXHJcbiAgICAnUHVibGljQWNjZXNzQ29kZScsXHJcbiAgICAnUmF0ZScsXHJcbiAgICAnUmF0ZVR5cGVEZXNjcmlwdGlvbi9BbW91bnQnLFxyXG4gICAgJ1JhdGVUeXBlRGVzY3JpcHRpb24vUmF0ZVR5cGVDb2RlJyxcclxuICAgICdSYXRlVHlwZURlc2NyaXB0aW9uL1R5cGVEZXNjcmlwdGlvbicsXHJcbiAgICAnVG90YWxGZWUnLFxyXG4gICAgJ1RvdGFsTGFib3InLFxyXG4gICAgJ1RvdGFsUGFydHMnLFxyXG4gICAgJ1VuaXRzJyxcclxuICAgICdUaWNrZXQvQWNjb3VudC9BY2NvdW50TmFtZScsXHJcbiAgICAnVGlja2V0L1RpY2tldE51bWJlcicsXHJcbiAgICAnVGlja2V0L0NvbnRhY3QvTmFtZScsXHJcbiAgICAnVXNlci9Vc2VySW5mby9MYXN0TmFtZScsXHJcbiAgICAnVXNlci9Vc2VySW5mby9GaXJzdE5hbWUnLFxyXG4gIF0sXHJcbiAgcmVzb3VyY2VLaW5kOiAndGlja2V0QWN0aXZpdGllcycsXHJcblxyXG4gIF9vblJlc2l6ZTogZnVuY3Rpb24gX29uUmVzaXplKCkge1xyXG4gICAgcXVlcnkoJy5ub3RlLXRleHQtaXRlbScsIHRoaXMuY29udGVudE5vZGUpLmZvckVhY2goZnVuY3Rpb24gc2V0Tm90ZVRleHRTaG93bihub2RlKSB7XHJcbiAgICAgIGNvbnN0IHdyYXBOb2RlID0gcXVlcnkoJy5ub3RlLXRleHQtd3JhcCcsIG5vZGUpWzBdO1xyXG4gICAgICBjb25zdCBtb3JlTm9kZSA9IHF1ZXJ5KCcubm90ZS10ZXh0LW1vcmUnLCBub2RlKVswXTtcclxuICAgICAgaWYgKGRvbUdlb20uZ2V0TWFyZ2luQm94KG5vZGUpLmggPCBkb21HZW9tLmdldE1hcmdpbkJveCh3cmFwTm9kZSkuaCkge1xyXG4gICAgICAgIGRvbVN0eWxlLnNldChtb3JlTm9kZSwgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvbVN0eWxlLnNldChtb3JlTm9kZSwgJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcHJvY2Vzc0RhdGE6IGZ1bmN0aW9uIHByb2Nlc3NEYXRhKCkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICAgIHRoaXMuX29uUmVzaXplKCk7XHJcbiAgfSxcclxuICBwb3N0Q3JlYXRlOiBmdW5jdGlvbiBwb3N0Q3JlYXRlKCkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICAgIHRoaXMub3duKHRvcGljLnN1YnNjcmliZSgnL2FwcC9yZXNpemUnLCBsYW5nLmhpdGNoKHRoaXMsIHRoaXMuX29uUmVzaXplKSkpO1xyXG4gIH0sXHJcbiAgZm9ybWF0U2VhcmNoUXVlcnk6IGZ1bmN0aW9uIGZvcm1hdFNlYXJjaFF1ZXJ5KHNlYXJjaFF1ZXJ5KSB7XHJcbiAgICByZXR1cm4gc3RyaW5nLnN1YnN0aXR1dGUoXHJcbiAgICAgICdBY3Rpdml0eURlc2NyaXB0aW9uIGxpa2UgXCIkezB9JVwiJywgW3RoaXMuZXNjYXBlU2VhcmNoUXVlcnkoc2VhcmNoUXVlcnkudG9VcHBlckNhc2UoKSldXHJcbiAgICApO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLlRpY2tldEFjdGl2aXR5Lkxpc3QnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
