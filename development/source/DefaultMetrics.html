<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * Copyright (c) 1997-2014, SalesLogix, NA., LLC. All rights reserved.
 */

define('Mobile/SalesLogix/DefaultMetrics', [
    'dojo/_base/declare',
    'Sage/Platform/Mobile/_CustomizationMixin'
], function(
    declare,
    _CustomizationMixin
) {
    return declare('Mobile.SalesLogix.DefaultMetrics', [_CustomizationMixin], {
        // Localiztion
        accountsText: {
            totalRevenue: 'Total Revenue',
            averageTime: 'Avg Time as Customer',
            total: 'Total Accounts'
        },
        opportunitiesText: {
            total: 'Total Opportunities',
            potential: 'Sales Potential'
        },
        ticketsText: {
            total: 'Total Tickets',
            averageOpen: 'Open Age Average'
        },
        contactsText: {
            total: 'Total Contacts'
        },
        leadsText: {
            total: 'Total Leads'
        },
        historyText: {
            total: 'Total History',
            duration: 'Total Duration'
        },
        customizationSet: 'metrics',
        id: 'default_metrics',
        getDefinitions: function() {
            return this._createCustomizedLayout(this.createLayout(), 'definitions');
        },
        createLayout: function() {
            return [
            {
                resourceKind: 'accounts',
                children: [{
                    title: this.accountsText.totalRevenue,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;AccountManager&quot;,
                        _metricName: &quot;TotalRevenue&quot;
                    },
                    metricDisplayName: &quot;Total Revenue&quot;,
                    filterDisplayName: &quot;Account Manager&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: false
                }, {
                    title: this.accountsText.averageTime,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;Type&quot;,
                        _metricName: &quot;AverageTimeAsCustomer&quot;
                    },
                    metricDisplayName: &quot;Average Time as Customer&quot;,
                    filterDisplayName: &quot;Type&quot;,
                    chartType: &quot;pie&quot;,
                    aggregate: &quot;avg&quot;,
                    formatter: &quot;fixed&quot;,
                    enabled: false
                }, {
                    title: this.accountsText.total,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        &quot;_filterName&quot;: &quot;AccountManager&quot;,
                        &quot;_metricName&quot;: &quot;CountAccounts&quot;
                    },
                    metricDisplayName: &quot;Count Accounts&quot;,
                    filterDisplayName: &quot;Account Manager&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: false
                }]
            }, {
                resourceKind: 'opportunities',
                children: [{
                    title: this.opportunitiesText.total,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;AccountManager&quot;,
                        _metricName: &quot;CountOpportunities&quot;
                    },
                    metricDisplayName: &quot;Count Opportunities&quot;,
                    filterDisplayName: &quot;Account Manager&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: false
                }, {
                    title: this.opportunitiesText.potential,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;AccountManager&quot;,
                        _metricName: &quot;SumSalesPotential&quot;
                    },
                    metricDisplayName: &quot;Sum Sales Potential&quot;,
                    filterDisplayName: &quot;Account Manager&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: false
                }]
            }, {
                resourceKind: 'tickets',
                children: [{
                    title: this.ticketsText.total,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;Category&quot;,
                        _metricName: &quot;TicketCount&quot;
                    },
                    metricDisplayName: &quot;Ticket Count&quot;,
                    filterDisplayName: &quot;Category&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: false
                }, {
                    title: this.ticketsText.averageOpen,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;AssignedTo&quot;,
                        _metricName: &quot;OpenTicketAgingAverage&quot;
                    },
                    metricDisplayName: &quot;Open Ticket Aging Average&quot;,
                    filterDisplayName: &quot;Assigned To&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;avg&quot;,
                    formatter: &quot;fixed&quot;,
                    enabled: false
                }]
            }, {
                resourceKind: 'contacts',
                children: [{
                    title: this.contactsText.total,
                    queryName: &quot;executeMetric&quot;,
                    queryArgs: {
                        _filterName: &quot;AccountManager&quot;,
                        _metricName: &quot;CountContacts&quot;
                    },
                    metricDisplayName: &quot;Count Contacts&quot;,
                    filterDisplayName: &quot;Account Manager&quot;,
                    chartType: &quot;bar&quot;,
                    aggregate: &quot;sum&quot;,
                    formatter: &quot;bigNumber&quot;,
                    enabled: true
                }]
            }, {
                resourceKind: 'leads',
                children: [{
                        title: this.leadsText.total,
                        queryName: &quot;executeMetric&quot;,
                        queryArgs: {
                            _filterName: &quot;Owner&quot;,
                            _metricName: &quot;CountLeads&quot;
                        },
                        metricDisplayName: &quot;Count Leads&quot;,
                        filterDisplayName: &quot;Owner&quot;,
                        chartType: &quot;bar&quot;,
                        aggregate: &quot;sum&quot;,
                        formatter: &quot;bigNumber&quot;,
                        enabled: false
                }]
            }, {
                resourceKind: 'history',
                children: [{
                        title: this.historyText.total,
                        queryName: &quot;executeMetric&quot;,
                        queryArgs: {
                            _filterName: &quot;Type&quot;,
                            _metricName: &quot;CountHistory&quot;
                        },
                        metricDisplayName: &quot;Count History&quot;,
                        filterDisplayName: &quot;Type&quot;,
                        chartType: &quot;bar&quot;,
                        aggregate: &quot;sum&quot;,
                        formatter: &quot;bigNumber&quot;,
                        enabled: true
                    }, {
                        title: this.historyText.duration,
                        queryName: &quot;executeMetric&quot;,
                        queryArgs: {
                            _filterName: &quot;Type&quot;,
                            _metricName: &quot;TotalDuration&quot;
                        },
                        metricDisplayName: &quot;Total Duration&quot;,
                        filterDisplayName: &quot;Type&quot;,
                        chartType: &quot;bar&quot;,
                        aggregate: &quot;sum&quot;,
                        formatter: &quot;bigNumber&quot;,
                        enabled: true
                }]
            }];
        }
    });

});
</pre>
</body>
</html>
