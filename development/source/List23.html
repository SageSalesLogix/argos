<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/TicketActivity/List', ['exports', 'module', 'dojo/_base/declare', 'dojo/string', 'dojo/dom-style', 'dojo/dom-geometry', 'dojo/query', 'dojo/topic', 'dojo/_base/lang', 'argos/List', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojoString, _dojoDomStyle, _dojoDomGeometry, _dojoQuery, _dojoTopic, _dojo_baseLang, _argosList, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _string = _interopRequireDefault(_dojoString);

  var _domStyle = _interopRequireDefault(_dojoDomStyle);

  var _domGeom = _interopRequireDefault(_dojoDomGeometry);

  var _query = _interopRequireDefault(_dojoQuery);

  var _topic = _interopRequireDefault(_dojoTopic);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _List = _interopRequireDefault(_argosList);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('ticketActivityList');

<span id='crm-Views-TicketActivity-List'>  /**
</span>   * @class crm.Views.TicketActivity.List
   *
   * @extends argos.List
   *
   * @requires crm.Format
   */
  var __class = (0, _declare['default'])('crm.Views.TicketActivity.List', [_List['default']], {
    // Templates
    itemTemplate: new Simplate(['&lt;h3&gt;{%: $.Ticket.TicketNumber %}&lt;/h3&gt;', '&lt;h4&gt;{%: crm.Format.date($.AssignedDate, $$.startDateFormatText) %}&lt;/h4&gt;', '&lt;div class=&quot;note-text-item&quot;&gt;', '&lt;div class=&quot;note-text-wrap&quot;&gt;', '{%: $.ActivityDescription %}', '&lt;/div&gt;', '&lt;div class=&quot;note-text-more&quot;&gt;&lt;/div&gt;', '&lt;/div&gt;']),

    // Localization
    titleText: resource.titleText,
    startDateFormatText: resource.startDateFormatText,

    // View Properties
    id: 'ticketactivity_list',
    security: 'Entities/TicketActivity/View',
    expose: false,
    detailView: 'ticketactivity_detail',
    insertView: 'ticketactivity_edit',
    queryOrderBy: 'AssignedDate asc',
    querySelect: ['ActivityDescription', 'ActivityTypeCode', 'AssignedDate', 'CompletedDate', 'ElapsedUnits', 'FollowUp', 'PublicAccessCode', 'Rate', 'RateTypeDescription/Amount', 'RateTypeDescription/RateTypeCode', 'RateTypeDescription/TypeDescription', 'TotalFee', 'TotalLabor', 'TotalParts', 'Units', 'Ticket/Account/AccountName', 'Ticket/TicketNumber', 'Ticket/Contact/Name', 'User/UserInfo/LastName', 'User/UserInfo/FirstName'],
    resourceKind: 'ticketActivities',

    _onResize: function _onResize() {
      (0, _query['default'])('.note-text-item', this.contentNode).forEach(function setNoteTextShown(node) {
        var wrapNode = (0, _query['default'])('.note-text-wrap', node)[0];
        var moreNode = (0, _query['default'])('.note-text-more', node)[0];
        if (_domGeom['default'].getMarginBox(node).h &lt; _domGeom['default'].getMarginBox(wrapNode).h) {
          _domStyle['default'].set(moreNode, 'visibility', 'visible');
        } else {
          _domStyle['default'].set(moreNode, 'visibility', 'hidden');
        }
      });
    },
    processData: function processData() {
      this.inherited(arguments);
      this._onResize();
    },
    postCreate: function postCreate() {
      this.inherited(arguments);
      this.own(_topic['default'].subscribe('/app/resize', _lang['default'].hitch(this, this._onResize)));
    },
    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('ActivityDescription like &quot;${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.TicketActivity.List', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9UaWNrZXRBY3Rpdml0eS9MaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLG9CQUFvQixDQUFDLENBQUM7Ozs7Ozs7OztBQVNuRCxNQUFNLE9BQU8sR0FBRyx5QkFBUSwrQkFBK0IsRUFBRSxrQkFBTSxFQUFFOztBQUUvRCxnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLHVDQUF1QyxFQUN2Qyx5RUFBeUUsRUFDekUsOEJBQThCLEVBQzlCLDhCQUE4QixFQUM5Qiw4QkFBOEIsRUFDOUIsUUFBUSxFQUNSLG9DQUFvQyxFQUNwQyxRQUFRLENBQ1QsQ0FBQzs7O0FBR0YsYUFBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTO0FBQzdCLHVCQUFtQixFQUFFLFFBQVEsQ0FBQyxtQkFBbUI7OztBQUdqRCxNQUFFLEVBQUUscUJBQXFCO0FBQ3pCLFlBQVEsRUFBRSw4QkFBOEI7QUFDeEMsVUFBTSxFQUFFLEtBQUs7QUFDYixjQUFVLEVBQUUsdUJBQXVCO0FBQ25DLGNBQVUsRUFBRSxxQkFBcUI7QUFDakMsZ0JBQVksRUFBRSxrQkFBa0I7QUFDaEMsZUFBVyxFQUFFLENBQ1gscUJBQXFCLEVBQ3JCLGtCQUFrQixFQUNsQixjQUFjLEVBQ2QsZUFBZSxFQUNmLGNBQWMsRUFDZCxVQUFVLEVBQ1Ysa0JBQWtCLEVBQ2xCLE1BQU0sRUFDTiw0QkFBNEIsRUFDNUIsa0NBQWtDLEVBQ2xDLHFDQUFxQyxFQUNyQyxVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixPQUFPLEVBQ1AsNEJBQTRCLEVBQzVCLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDckIsd0JBQXdCLEVBQ3hCLHlCQUF5QixDQUMxQjtBQUNELGdCQUFZLEVBQUUsa0JBQWtCOztBQUVoQyxhQUFTLEVBQUUsU0FBUyxTQUFTLEdBQUc7QUFDOUIsNkJBQU0saUJBQWlCLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUNqRixZQUFNLFFBQVEsR0FBRyx1QkFBTSxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRCxZQUFNLFFBQVEsR0FBRyx1QkFBTSxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRCxZQUFJLG9CQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsb0JBQVEsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNuRSwrQkFBUyxHQUFHLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNqRCxNQUFNO0FBQ0wsK0JBQVMsR0FBRyxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDaEQ7T0FDRixDQUFDLENBQUM7S0FDSjtBQUNELGVBQVcsRUFBRSxTQUFTLFdBQVcsR0FBRztBQUNsQyxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFCLFVBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztLQUNsQjtBQUNELGNBQVUsRUFBRSxTQUFTLFVBQVUsR0FBRztBQUNoQyxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFCLFVBQUksQ0FBQyxHQUFHLENBQUMsa0JBQU0sU0FBUyxDQUFDLGFBQWEsRUFBRSxpQkFBSyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUU7QUFDRCxxQkFBaUIsRUFBRSxTQUFTLGlCQUFpQixDQUFDLFdBQVcsRUFBRTtBQUN6RCxhQUFPLG1CQUFPLFVBQVUsQ0FDdEIsa0NBQWtDLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FDeEYsQ0FBQztLQUNIO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQyw2Q0FBNkMsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDeEQsT0FBTyIsImZpbGUiOiJzcmMvVmlld3MvVGlja2V0QWN0aXZpdHkvTGlzdC5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IGRvbVN0eWxlIGZyb20gJ2Rvam8vZG9tLXN0eWxlJztcclxuaW1wb3J0IGRvbUdlb20gZnJvbSAnZG9qby9kb20tZ2VvbWV0cnknO1xyXG5pbXBvcnQgcXVlcnkgZnJvbSAnZG9qby9xdWVyeSc7XHJcbmltcG9ydCB0b3BpYyBmcm9tICdkb2pvL3RvcGljJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IExpc3QgZnJvbSAnYXJnb3MvTGlzdCc7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3RpY2tldEFjdGl2aXR5TGlzdCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuVGlja2V0QWN0aXZpdHkuTGlzdFxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBhcmdvcy5MaXN0XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBjcm0uRm9ybWF0XHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLlRpY2tldEFjdGl2aXR5Lkxpc3QnLCBbTGlzdF0sIHtcclxuICAvLyBUZW1wbGF0ZXNcclxuICBpdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGgzPnslOiAkLlRpY2tldC5UaWNrZXROdW1iZXIgJX08L2gzPicsXHJcbiAgICAnPGg0PnslOiBjcm0uRm9ybWF0LmRhdGUoJC5Bc3NpZ25lZERhdGUsICQkLnN0YXJ0RGF0ZUZvcm1hdFRleHQpICV9PC9oND4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJub3RlLXRleHQtaXRlbVwiPicsXHJcbiAgICAnPGRpdiBjbGFzcz1cIm5vdGUtdGV4dC13cmFwXCI+JyxcclxuICAgICd7JTogJC5BY3Rpdml0eURlc2NyaXB0aW9uICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJub3RlLXRleHQtbW9yZVwiPjwvZGl2PicsXHJcbiAgICAnPC9kaXY+JyxcclxuICBdKSxcclxuXHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgc3RhcnREYXRlRm9ybWF0VGV4dDogcmVzb3VyY2Uuc3RhcnREYXRlRm9ybWF0VGV4dCxcclxuXHJcbiAgLy8gVmlldyBQcm9wZXJ0aWVzXHJcbiAgaWQ6ICd0aWNrZXRhY3Rpdml0eV9saXN0JyxcclxuICBzZWN1cml0eTogJ0VudGl0aWVzL1RpY2tldEFjdGl2aXR5L1ZpZXcnLFxyXG4gIGV4cG9zZTogZmFsc2UsXHJcbiAgZGV0YWlsVmlldzogJ3RpY2tldGFjdGl2aXR5X2RldGFpbCcsXHJcbiAgaW5zZXJ0VmlldzogJ3RpY2tldGFjdGl2aXR5X2VkaXQnLFxyXG4gIHF1ZXJ5T3JkZXJCeTogJ0Fzc2lnbmVkRGF0ZSBhc2MnLFxyXG4gIHF1ZXJ5U2VsZWN0OiBbXHJcbiAgICAnQWN0aXZpdHlEZXNjcmlwdGlvbicsXHJcbiAgICAnQWN0aXZpdHlUeXBlQ29kZScsXHJcbiAgICAnQXNzaWduZWREYXRlJyxcclxuICAgICdDb21wbGV0ZWREYXRlJyxcclxuICAgICdFbGFwc2VkVW5pdHMnLFxyXG4gICAgJ0ZvbGxvd1VwJyxcclxuICAgICdQdWJsaWNBY2Nlc3NDb2RlJyxcclxuICAgICdSYXRlJyxcclxuICAgICdSYXRlVHlwZURlc2NyaXB0aW9uL0Ftb3VudCcsXHJcbiAgICAnUmF0ZVR5cGVEZXNjcmlwdGlvbi9SYXRlVHlwZUNvZGUnLFxyXG4gICAgJ1JhdGVUeXBlRGVzY3JpcHRpb24vVHlwZURlc2NyaXB0aW9uJyxcclxuICAgICdUb3RhbEZlZScsXHJcbiAgICAnVG90YWxMYWJvcicsXHJcbiAgICAnVG90YWxQYXJ0cycsXHJcbiAgICAnVW5pdHMnLFxyXG4gICAgJ1RpY2tldC9BY2NvdW50L0FjY291bnROYW1lJyxcclxuICAgICdUaWNrZXQvVGlja2V0TnVtYmVyJyxcclxuICAgICdUaWNrZXQvQ29udGFjdC9OYW1lJyxcclxuICAgICdVc2VyL1VzZXJJbmZvL0xhc3ROYW1lJyxcclxuICAgICdVc2VyL1VzZXJJbmZvL0ZpcnN0TmFtZScsXHJcbiAgXSxcclxuICByZXNvdXJjZUtpbmQ6ICd0aWNrZXRBY3Rpdml0aWVzJyxcclxuXHJcbiAgX29uUmVzaXplOiBmdW5jdGlvbiBfb25SZXNpemUoKSB7XHJcbiAgICBxdWVyeSgnLm5vdGUtdGV4dC1pdGVtJywgdGhpcy5jb250ZW50Tm9kZSkuZm9yRWFjaChmdW5jdGlvbiBzZXROb3RlVGV4dFNob3duKG5vZGUpIHtcclxuICAgICAgY29uc3Qgd3JhcE5vZGUgPSBxdWVyeSgnLm5vdGUtdGV4dC13cmFwJywgbm9kZSlbMF07XHJcbiAgICAgIGNvbnN0IG1vcmVOb2RlID0gcXVlcnkoJy5ub3RlLXRleHQtbW9yZScsIG5vZGUpWzBdO1xyXG4gICAgICBpZiAoZG9tR2VvbS5nZXRNYXJnaW5Cb3gobm9kZSkuaCA8IGRvbUdlb20uZ2V0TWFyZ2luQm94KHdyYXBOb2RlKS5oKSB7XHJcbiAgICAgICAgZG9tU3R5bGUuc2V0KG1vcmVOb2RlLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9tU3R5bGUuc2V0KG1vcmVOb2RlLCAndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBwcm9jZXNzRGF0YTogZnVuY3Rpb24gcHJvY2Vzc0RhdGEoKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gICAgdGhpcy5fb25SZXNpemUoKTtcclxuICB9LFxyXG4gIHBvc3RDcmVhdGU6IGZ1bmN0aW9uIHBvc3RDcmVhdGUoKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gICAgdGhpcy5vd24odG9waWMuc3Vic2NyaWJlKCcvYXBwL3Jlc2l6ZScsIGxhbmcuaGl0Y2godGhpcywgdGhpcy5fb25SZXNpemUpKSk7XHJcbiAgfSxcclxuICBmb3JtYXRTZWFyY2hRdWVyeTogZnVuY3Rpb24gZm9ybWF0U2VhcmNoUXVlcnkoc2VhcmNoUXVlcnkpIHtcclxuICAgIHJldHVybiBzdHJpbmcuc3Vic3RpdHV0ZShcclxuICAgICAgJ0FjdGl2aXR5RGVzY3JpcHRpb24gbGlrZSBcIiR7MH0lXCInLCBbdGhpcy5lc2NhcGVTZWFyY2hRdWVyeShzZWFyY2hRdWVyeS50b1VwcGVyQ2FzZSgpKV1cclxuICAgICk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnTW9iaWxlLlNhbGVzTG9naXguVmlld3MuVGlja2V0QWN0aXZpdHkuTGlzdCcsIF9fY2xhc3MpO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
