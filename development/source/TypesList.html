<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Activity/TypesList', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'argos/List', 'dojo/store/Memory', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _argosList, _dojoStoreMemory, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _List = _interopRequireDefault(_argosList);

  var _MemoryStore = _interopRequireDefault(_dojoStoreMemory);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('activityTypesList');

<span id='crm-Views-Activity-TypesList'>  /**
</span>   * @class crm.Views.Activity.TypesList
   *
   * @extends argos.List
   * @mixins argos._LegacySDataListMixin
   * @mixins crm.Views._CardLayoutListMixin
   *
   * @requires argos.List
   * @requires argos._LegacySDataListMixin
   *
   * @requires crm.Views._CardLayoutListMixin
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Activity.TypesList', [_List['default']], {
    // Templates
    rowTemplate: new Simplate(['&lt;li data-action=&quot;activateEntry&quot; data-key=&quot;{%= $.$key %}&quot; data-descriptor=&quot;{%: $.$descriptor %}&quot;&gt;', '&lt;div class=&quot;list-item-static-selector&quot;&gt;', '{% if ($.icon) { %}', '&lt;img src=&quot;{%: $.icon || &quot;&quot; %}&quot; alt=&quot;icon&quot; class=&quot;icon&quot; /&gt;', '{% } else if ($.iconClass) { %}', '&lt;div class=&quot;{%= $.iconClass %}&quot;&gt;&lt;/div&gt;', '{% } %}', '&lt;/div&gt;', '&lt;div class=&quot;list-item-content&quot;&gt;{%! $$.itemTemplate %}&lt;/div&gt;', '&lt;/li&gt;']),
    itemTemplate: new Simplate(['&lt;h3&gt;{%: $.$descriptor %}&lt;/h3&gt;']),

    // Localization
    titleText: resource.titleText,
    activityTypeText: {
      'atToDo': resource.toDo,
      'atPhoneCall': resource.phoneCall,
      'atAppointment': resource.meeting,
      'atLiterature': resource.literature,
      'atPersonal': resource.personal,
      'event': resource.eventText
    },

    // View Properties
    activityTypeIcons: {
      'atToDo': 'fa fa-list-ul',
      'atPhoneCall': 'fa fa-phone',
      'atAppointment': 'fa fa-calendar-o',
      'atLiterature': 'fa fa-calendar-o',
      'atPersonal': 'fa fa-check-square-o',
      'event': 'fa fa-calendar-o'
    },
    activityTypeOrder: ['atAppointment',
    // 'atLiterature', // For [#7206791], We will enable this later.
    'atPersonal', 'atPhoneCall', 'atToDo', 'event'],
    expose: false,
    enableSearch: false,
    enablePullToRefresh: false,
    id: 'activity_types_list',
    editView: 'activity_edit',
    eventEditView: 'event_edit',

    activateEntry: function activateEntry(params) {
      if (params.key) {
        var view = App.getView(params.key === 'event' ? this.eventEditView : this.editView);

        if (view) {
          var source = this.options &amp;&amp; this.options.source;
          view.show({
            insert: true,
            entry: this.options &amp;&amp; this.options.entry || null,
            source: source,
            activityType: params.key,
            title: this.activityTypeText[params.key],
            returnTo: this.options &amp;&amp; this.options.returnTo,
            currentDate: this.options &amp;&amp; this.options.currentDate
          }, {
            returnTo: -1
          });
        }
      }
    },
    refreshRequiredFor: function refreshRequiredFor(options) {
      var toReturn = undefined;
      if (this.options) {
        toReturn = options;
      } else {
        toReturn = true;
      }
      return toReturn;
    },
    hasMoreData: function hasMoreData() {
      return false;
    },
    createStore: function createStore() {
      var list = [];
      var eventViews = ['calendar_monthlist', 'calendar_weeklist', 'calendar_daylist', 'calendar_yearlist'];

      for (var i = 0; i &lt; this.activityTypeOrder.length; i++) {
        list.push({
          '$key': this.activityTypeOrder[i],
          '$descriptor': this.activityTypeText[this.activityTypeOrder[i]],
          'iconClass': this.activityTypeIcons[this.activityTypeOrder[i]],
          'type': this.activityTypeOrder[i]
        });
      }

      if (eventViews.indexOf(this.options.returnTo) === -1) {
        list.pop(); // remove event for non event views
      }

      var store = new _MemoryStore['default']({
        data: list
      });
      return store;
    },
    init: function init() {
      this.inherited(arguments);
    },
    createToolLayout: function createToolLayout() {
      return this.tools || (this.tools = {
        tbar: []
      });
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Activity.TypesList', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9BY3Rpdml0eS9UeXBlc0xpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU1BLE1BQU0sUUFBUSxHQUFHLDZCQUFZLG1CQUFtQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQWVsRCxNQUFNLE9BQU8sR0FBRyx5QkFBUSw4QkFBOEIsRUFBRSxrQkFBTSxFQUFFOztBQUU5RCxlQUFXLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDeEIsa0dBQWtHLEVBQ2xHLHlDQUF5QyxFQUN6QyxxQkFBcUIsRUFDckIsMkRBQTJELEVBQzNELGlDQUFpQyxFQUNqQyx3Q0FBd0MsRUFDeEMsU0FBUyxFQUNULFFBQVEsRUFDUiw2REFBNkQsRUFDN0QsT0FBTyxDQUNSLENBQUM7QUFDRixnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLCtCQUErQixDQUNoQyxDQUFDOzs7QUFHRixhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0Isb0JBQWdCLEVBQUU7QUFDaEIsY0FBUSxFQUFFLFFBQVEsQ0FBQyxJQUFJO0FBQ3ZCLG1CQUFhLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDakMscUJBQWUsRUFBRSxRQUFRLENBQUMsT0FBTztBQUNqQyxvQkFBYyxFQUFFLFFBQVEsQ0FBQyxVQUFVO0FBQ25DLGtCQUFZLEVBQUUsUUFBUSxDQUFDLFFBQVE7QUFDL0IsYUFBTyxFQUFFLFFBQVEsQ0FBQyxTQUFTO0tBQzVCOzs7QUFHRCxxQkFBaUIsRUFBRTtBQUNqQixjQUFRLEVBQUUsZUFBZTtBQUN6QixtQkFBYSxFQUFFLGFBQWE7QUFDNUIscUJBQWUsRUFBRSxrQkFBa0I7QUFDbkMsb0JBQWMsRUFBRSxrQkFBa0I7QUFDbEMsa0JBQVksRUFBRSxzQkFBc0I7QUFDcEMsYUFBTyxFQUFFLGtCQUFrQjtLQUM1QjtBQUNELHFCQUFpQixFQUFFLENBQ2pCLGVBQWU7O0FBRWYsZ0JBQVksRUFDWixhQUFhLEVBQ2IsUUFBUSxFQUNSLE9BQU8s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QUNYLENBQUMsQ0FBQztBQUNILGFBQU8sS0FBSyxDQUFDO0tBQ2Q7QUFDRCxRQUFJLEVBQUUsU0FBUyxJQUFJLEdBQUc7QUFDcEIsVUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztLQUMzQjtBQUNELG9CQUFnQixFQUFFLFNBQVMsZ0JBQWdCLEdBQUc7QUFDNUMsYUFBTyxJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLEdBQUc7QUFDakMsWUFBSSxFQUFFLEVBQUU7T0FDVCxDQUFBLEFBQUMsQ0FBQztLQUNKO0dBQ0YsQ0FBQyxDQUFDOztBQUVILG1CQUFLLFNBQVMsQ0FBQyw0Q0FBNEMsRUFBRSxPQUFPLENBQUMsQ0FBQzttQkFDdkQsT0FBTyIsImZpbGUiOiJzcmMvVmlld3MvQWN0aXZpdHkvVHlwZXNMaXN0LmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBMaXN0IGZyb20gJ2FyZ29zL0xpc3QnO1xyXG5pbXBvcnQgTWVtb3J5U3RvcmUgZnJvbSAnZG9qby9zdG9yZS9NZW1vcnknO1xyXG5pbXBvcnQgZ2V0UmVzb3VyY2UgZnJvbSAnYXJnb3MvSTE4bic7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY3Rpdml0eVR5cGVzTGlzdCcpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuQWN0aXZpdHkuVHlwZXNMaXN0XHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkxpc3RcclxuICogQG1peGlucyBhcmdvcy5fTGVnYWN5U0RhdGFMaXN0TWl4aW5cclxuICogQG1peGlucyBjcm0uVmlld3MuX0NhcmRMYXlvdXRMaXN0TWl4aW5cclxuICpcclxuICogQHJlcXVpcmVzIGFyZ29zLkxpc3RcclxuICogQHJlcXVpcmVzIGFyZ29zLl9MZWdhY3lTRGF0YUxpc3RNaXhpblxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgY3JtLlZpZXdzLl9DYXJkTGF5b3V0TGlzdE1peGluXHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLkFjdGl2aXR5LlR5cGVzTGlzdCcsIFtMaXN0XSwge1xyXG4gIC8vIFRlbXBsYXRlc1xyXG4gIHJvd1RlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxsaSBkYXRhLWFjdGlvbj1cImFjdGl2YXRlRW50cnlcIiBkYXRhLWtleT1cInslPSAkLiRrZXkgJX1cIiBkYXRhLWRlc2NyaXB0b3I9XCJ7JTogJC4kZGVzY3JpcHRvciAlfVwiPicsXHJcbiAgICAnPGRpdiBjbGFzcz1cImxpc3QtaXRlbS1zdGF0aWMtc2VsZWN0b3JcIj4nLFxyXG4gICAgJ3slIGlmICgkLmljb24pIHsgJX0nLFxyXG4gICAgJzxpbWcgc3JjPVwieyU6ICQuaWNvbiB8fCBcIlwiICV9XCIgYWx0PVwiaWNvblwiIGNsYXNzPVwiaWNvblwiIC8+JyxcclxuICAgICd7JSB9IGVsc2UgaWYgKCQuaWNvbkNsYXNzKSB7ICV9JyxcclxuICAgICc8ZGl2IGNsYXNzPVwieyU9ICQuaWNvbkNsYXNzICV9XCI+PC9kaXY+JyxcclxuICAgICd7JSB9ICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LWl0ZW0tY29udGVudFwiPnslISAkJC5pdGVtVGVtcGxhdGUgJX08L2Rpdj4nLFxyXG4gICAgJzwvbGk+JyxcclxuICBdKSxcclxuICBpdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGgzPnslOiAkLiRkZXNjcmlwdG9yICV9PC9oMz4nLFxyXG4gIF0pLFxyXG5cclxuICAvLyBMb2NhbGl6YXRpb25cclxuICB0aXRsZVRleHQ6IHJlc291cmNlLnRpdGxlVGV4dCxcclxuICBhY3Rpdml0eVR5cGVUZXh0OiB7XHJcbiAgICAnYXRUb0RvJzogcmVzb3VyY2UudG9EbyxcclxuICAgICdhdFBob25lQ2FsbCc6IHJlc291cmNlLnBob25lQ2FsbCxcclxuICAgICdhdEFwcG9pbnRtZW50JzogcmVzb3VyY2UubWVldGluZyxcclxuICAgICdhdExpdGVyYXR1cmUnOiByZXNvdXJjZS5saXRlcmF0dXJlLFxyXG4gICAgJ2F0UGVyc29uYWwnOiByZXNvdXJjZS5wZXJzb25hbCxcclxuICAgICdldmVudCc6IHJlc291cmNlLmV2ZW50VGV4dCxcclxuICB9LFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBhY3Rpdml0eVR5cGVJY29uczoge1xyXG4gICAgJ2F0VG9Ebyc6ICdmYSBmYS1saXN0LXVsJyxcclxuICAgICdhdFBob25lQ2FsbCc6ICdmYSBmYS1waG9uZScsXHJcbiAgICAnYXRBcHBvaW50bWVudCc6ICdmYSBmYS1jYWxlbmRhci1vJyxcclxuICAgICdhdExpdGVyYXR1cmUnOiAnZmEgZmEtY2FsZW5kYXItbycsXHJcbiAgICAnYXRQZXJzb25hbCc6ICdmYSBmYS1jaGVjay1zcXVhcmUtbycsXHJcbiAgICAnZXZlbnQnOiAnZmEgZmEtY2FsZW5kYXItbycsXHJcbiAgfSxcclxuICBhY3Rpdml0eVR5cGVPcmRlcjogW1xyXG4gICAgJ2F0QXBwb2ludG1lbnQnLFxyXG4gICAgLy8gJ2F0TGl0ZXJhdHVyZScsIC8vIEZvciBbIzcyMDY3OTFdLCBXZSB3aWxsIGVuYWJsZSB0aGlzIGxhdGVyLlxyXG4gICAgJ2F0UGVyc29uYWwnLFxyXG4gICAgJ2F0UGhvbmVDYWxsJyxcclxuICAgICdhdFRvRG8nLFxyXG4gICAgJ2V2ZW50JyxcclxuICBdLFxyXG4gIGV4cG9zZTogZmFsc2UsXHJcbiAgZW5hYmxlU2VhcmNoOiBmYWxzZSxcclxuICBlbmFibGVQdWxsVG9SZWZyZXNoOiBmYWxzZSxcclxuICBpZDogJ2FjdGl2aXR5X3R5cGVzX2xpc3QnLFxyXG4gIGVkaXRWaWV3OiAnYWN0aXZpdHlfZWRpdCcsXHJcbiAgZXZlbnRFZGl0VmlldzogJ2V2ZW50X2VkaXQnLFxyXG5cclxuICBhY3RpdmF0ZUVudHJ5OiBmdW5jdGlvbiBhY3RpdmF0ZUVudHJ5KHBhcmFtcykge1xyXG4gICAgaWYgKHBhcmFtcy5rZXkpIHtcclxuICAgICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KChwYXJhbXMua2V5ID09PSAnZXZlbnQnKSA/IHRoaXMuZXZlbnRFZGl0VmlldyA6IHRoaXMuZWRpdFZpZXcpO1xyXG5cclxuICAgICAgaWYgKHZpZXcpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnNvdXJjZTtcclxuICAgICAgICB2aWV3LnNob3coe1xyXG4gICAgICAgICAgaW5zZXJ0OiB0cnVlLFxyXG4gICAgICAgICAgZW50cnk6ICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmVudHJ5KSB8fCBudWxsLFxyXG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgICBhY3Rpdml0eVR5cGU6IHBhcmFtcy5rZXksXHJcbiAgICAgICAgICB0aXRsZTogdGhpcy5hY3Rpdml0eVR5cGVUZXh0W3BhcmFtcy5rZXldLFxyXG4gICAgICAgICAgcmV0dXJuVG86IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucmV0dXJuVG8sXHJcbiAgICAgICAgICBjdXJyZW50RGF0ZTogdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jdXJyZW50RGF0ZSxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICByZXR1cm5UbzogLTEsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHJlZnJlc2hSZXF1aXJlZEZvcjogZnVuY3Rpb24gcmVmcmVzaFJlcXVpcmVkRm9yKG9wdGlvbnMpIHtcclxuICAgIGxldCB0b1JldHVybjtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMpIHtcclxuICAgICAgdG9SZXR1cm4gPSBvcHRpb25zO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9SZXR1cm4gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvUmV0dXJuO1xyXG4gIH0sXHJcbiAgaGFzTW9yZURhdGE6IGZ1bmN0aW9uIGhhc01vcmVEYXRhKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbiAgY3JlYXRlU3RvcmU6IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKCkge1xyXG4gICAgY29uc3QgbGlzdCA9IFtdO1xyXG4gICAgY29uc3QgZXZlbnRWaWV3cyA9IFtcclxuICAgICAgJ2NhbGVuZGFyX21vbnRobGlzdCcsXHJcbiAgICAgICdjYWxlbmRhcl93ZWVrbGlzdCcsXHJcbiAgICAgICdjYWxlbmRhcl9kYXlsaXN0JyxcclxuICAgICAgJ2NhbGVuZGFyX3llYXJsaXN0JyxcclxuICAgIF07XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFjdGl2aXR5VHlwZU9yZGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgJyRrZXknOiB0aGlzLmFjdGl2aXR5VHlwZU9yZGVyW2ldLFxyXG4gICAgICAgICckZGVzY3JpcHRvcic6IHRoaXMuYWN0aXZpdHlUeXBlVGV4dFt0aGlzLmFjdGl2aXR5VHlwZU9yZGVyW2ldXSxcclxuICAgICAgICAnaWNvbkNsYXNzJzogdGhpcy5hY3Rpdml0eVR5cGVJY29uc1t0aGlzLmFjdGl2aXR5VHlwZU9yZGVyW2ldXSxcclxuICAgICAgICAndHlwZSc6IHRoaXMuYWN0aXZpdHlUeXBlT3JkZXJbaV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChldmVudFZpZXdzLmluZGV4T2YodGhpcy5vcHRpb25zLnJldHVyblRvKSA9PT0gLTEpIHtcclxuICAgICAgbGlzdC5wb3AoKTsgLy8gcmVtb3ZlIGV2ZW50IGZvciBub24gZXZlbnQgdmlld3NcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdG9yZSA9IG5ldyBNZW1vcnlTdG9yZSh7XHJcbiAgICAgIGRhdGE6IGxpc3QsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzdG9yZTtcclxuICB9LFxyXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gIH0sXHJcbiAgY3JlYXRlVG9vbExheW91dDogZnVuY3Rpb24gY3JlYXRlVG9vbExheW91dCgpIHtcclxuICAgIHJldHVybiB0aGlzLnRvb2xzIHx8ICh0aGlzLnRvb2xzID0ge1xyXG4gICAgICB0YmFyOiBbXSxcclxuICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLkFjdGl2aXR5LlR5cGVzTGlzdCcsIF9fY2xhc3MpO1xyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
