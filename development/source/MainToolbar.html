<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/MainToolbar', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/dom-style', 'dojo/has', 'argos/MainToolbar'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoDomStyle, _dojoHas, _argosMainToolbar) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _domStyle = _interopRequireDefault(_dojoDomStyle);

  var _has = _interopRequireDefault(_dojoHas);

  var _MainToolbar = _interopRequireDefault(_argosMainToolbar);

<span id='crm-Views-MainToolbar'>  /**
</span>   * @class crm.Views.MainToolbar
   *
   *
   * @extends argos.MainToolbar
   *
   */
  var __class = (0, _declare['default'])('crm.Views.MainToolbar', [_MainToolbar['default']], {
    showTools: function showTools(tools) {
      var hasLeftDrawer = undefined;
      var isOnEdit = undefined;
      var isOnFirstView = App.isOnFirstView();

      if (tools) {
        for (var i = 0; i &lt; tools.length; i++) {
          if (tools[i].id === 'toggleLeftDrawer') {
            hasLeftDrawer = true;
          }

          if (tools[i].id === 'back') {
            hasLeftDrawer = true;
          }

          if (tools[i].id === 'cancel') {
            isOnEdit = true;
          }
        }
      }

      if (tools !== false) {
        tools = tools || []; // eslint-disable-line

        if (!hasLeftDrawer) {
          tools.unshift({
            id: 'toggleLeftDrawer',
            'cls': 'fa fa-bars fa-fw fa-lg',
            side: 'left',
            fn: this.toggleLeftDrawer,
            scope: this
          });
        }

        if (!isOnEdit &amp;&amp; !isOnFirstView) {
          tools = tools.concat([{ //eslint-disable-line
            id: 'back',
            cls: 'fa fa-angle-left fa-fw fa-lg',
            side: 'left',
            fn: this.navigateBack,
            scope: this
          }]);
        }
      }

      this.inherited(arguments);
    },
    navigateBack: function navigateBack() {
      ReUI.back();
    },
    navigateToHomeView: function navigateToHomeView() {
      App.navigateToHomeView();
    },
    toggleRightDrawer: function toggleRightDrawer() {
      this._toggleDrawer('right');
    },
    toggleLeftDrawer: function toggleLeftDrawer() {
      this._toggleDrawer('left');
    },
    onTitleClick: function onTitleClick() {
      var state = App.snapper &amp;&amp; App.snapper.state();
      var view = App.getPrimaryActiveView();

      if (view &amp;&amp; state &amp;&amp; state.state === 'closed') {
        var scrollerNode = view.get('scroller');
        if ((0, _has['default'])('android')) {
          // Hack to work around https://code.google.com/p/android/issues/detail?id=19625
          _domStyle['default'].set(scrollerNode, 'overflow', 'hidden');
          scrollerNode.scrollTop = 0;
          _domStyle['default'].set(scrollerNode, 'overflow', 'auto');
        } else {
          scrollerNode.scrollTop = 0;
        }
      }
    },
    _toggleDrawer: function _toggleDrawer(state) {
      var snapperState = App.snapper.state();
      if (snapperState.state === state) {
        App.snapper.close();
      } else {
        App.snapper.open(state);
      }
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.MainToolbar', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9NYWluVG9vbGJhci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWFBLE1BQU0sT0FBTyxHQUFHLHlCQUFRLHVCQUF1QixFQUFFLHlCQUFhLEVBQUU7QUFDOUQsYUFBUyxFQUFFLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRTtBQUNuQyxVQUFJLGFBQWEsWUFBQSxDQUFDO0FBQ2xCLFVBQUksUUFBUSxZQUFBLENBQUM7QUFDYixVQUFNLGFBQWEsR0FBRyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUM7O0FBRTFDLFVBQUksS0FBSyxFQUFFO0FBQ1QsYUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDckMsY0FBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLGtCQUFrQixFQUFFO0FBQ3RDLHlCQUFhLEdBQUcsSUFBSSxDQUFDO1dBQ3RCOztBQUVELGNBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxNQUFNLEVBQUU7QUFDMUIseUJBQWEsR0FBRyxJQUFJLENBQUM7V0FDdEI7O0FBRUQsY0FBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFFBQVEsRUFBRTtBQUM1QixvQkFBUSxHQUFHLElBQUksQ0FBQztXQUNqQjtTQUNGO09BQ0Y7O0FBRUQsVUFBSSxLQUFLLEtBQUssS0FBSyxFQUFFO0FBQ25CLGFBQUssR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDOztBQUVwQixZQUFJLENBQUMsYUFBYSxFQUFFO0FBQ2xCLGVBQUssQ0FBQyxPQUFPLENBQUM7QUFDWixjQUFFLEVBQUUsa0JBQWtCO0FBQ3RCLGlCQUFLLEVBQUUsd0JBQXdCO0FBQy9CLGdCQUFJLEVBQUUsTUFBTTtBQUNaLGNBQUUsRUFBRSxJQUFJLENBQUMsZ0JBQWdCO0FBQ3pCLGlCQUFLLEVBQUUsSUFBSTtXQUNaLENBQUMsQ0FBQztTQUNKOztBQUVELFlBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxhQUFhLEVBQUU7QUFDL0IsZUFBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQixjQUFFLEVBQUUsTUFBTTtBQUNWLGVBQUcsRUFBRSw4QkFBOEI7QUFDbkMsZ0JBQUksRUFBRSxNQUFNO0FBQ1osY0FBRSxFQUFFLElBQUksQ0FBQyxZQUFZO0FBQ3JCLGlCQUFLLEVBQUUsSUFBSTtXQUNaLENBQUMsQ0FBQyxDQUFDO1NBQ0w7T0FDRjs7QUFFRCxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQzNCO0FBQ0QsZ0JBQVksRUFBRSxTQUFTLFlBQVksR0FBRztBQUNwQyxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDYjtBQUNELHNCQUFrQixFQUFFLFNBQVMsa0JBQWtCLEdBQUc7QUFDaEQsU0FBRyxDQUFDLGtCQUFrQixFQUFFLENBQUM7S0FDMUI7QUFDRCxxQkFBaUIsRUFBRSxTQUFTLGlCQUFpQixHQUFHO0FBQzlDLFVBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDN0I7QUFDRCxvQkFBZ0IsRUFBRSxTQUFTLGdCQUFnQixHQUFHO0FBQzVDLFVBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDNUI7QUFDRCxnQkFBWSxFQUFFLFNBQVMsWUFBWSxHQUFHO0FBQ3BDLFVBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNqRCxVQUFNLElBQUksR0FBRyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsQ0FBQzs7QUFFeEMsVUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxLQUFLLEtBQUssUUFBUSxFQUFFO0FBQzdDLFlBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDMUMsWUFBSSxxQkFBSSxTQUFTLENBQUMsRUFBRTs7QUFFbEIsK0JBQVMsR0FBRyxDQUFDLFlBQVksRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDakQsc0JBQVksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLCtCQUFTLEdBQUcsQ0FBQyxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ2hELE1BQU07QUFDTCxzQkFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7U0FDNUI7T0FDRjtLQUNGO0FBQ0QsaUJBQWEsRUFBRSxTQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUU7QUFDM0MsVUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUN6QyxVQUFJLFlBQVksQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUFFO0FBQ2hDLFdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7T0FDckIsTUFBTTtBQUNMLFdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO09BQ3pCO0tBQ0Y7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLHFDQUFxQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUNoRCxPQUFPIiwiZmlsZSI6InNyYy9WaWV3cy9NYWluVG9vbGJhci5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgZG9tU3R5bGUgZnJvbSAnZG9qby9kb20tc3R5bGUnO1xyXG5pbXBvcnQgaGFzIGZyb20gJ2Rvam8vaGFzJztcclxuaW1wb3J0IE1haW5Ub29sYmFyIGZyb20gJ2FyZ29zL01haW5Ub29sYmFyJztcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgY3JtLlZpZXdzLk1haW5Ub29sYmFyXHJcbiAqXHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLk1haW5Ub29sYmFyXHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLk1haW5Ub29sYmFyJywgW01haW5Ub29sYmFyXSwge1xyXG4gIHNob3dUb29sczogZnVuY3Rpb24gc2hvd1Rvb2xzKHRvb2xzKSB7XHJcbiAgICBsZXQgaGFzTGVmdERyYXdlcjtcclxuICAgIGxldCBpc09uRWRpdDtcclxuICAgIGNvbnN0IGlzT25GaXJzdFZpZXcgPSBBcHAuaXNPbkZpcnN0VmlldygpO1xyXG5cclxuICAgIGlmICh0b29scykge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRvb2xzW2ldLmlkID09PSAndG9nZ2xlTGVmdERyYXdlcicpIHtcclxuICAgICAgICAgIGhhc0xlZnREcmF3ZXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRvb2xzW2ldLmlkID09PSAnYmFjaycpIHtcclxuICAgICAgICAgIGhhc0xlZnREcmF3ZXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRvb2xzW2ldLmlkID09PSAnY2FuY2VsJykge1xyXG4gICAgICAgICAgaXNPbkVkaXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b29scyAhPT0gZmFsc2UpIHtcclxuICAgICAgdG9vbHMgPSB0b29scyB8fCBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG5cclxuICAgICAgaWYgKCFoYXNMZWZ0RHJhd2VyKSB7XHJcbiAgICAgICAgdG9vbHMudW5zaGlmdCh7XHJcbiAgICAgICAgICBpZDogJ3RvZ2dsZUxlZnREcmF3ZXInLFxyXG4gICAgICAgICAgJ2Nscyc6ICdmYSBmYS1iYXJzIGZhLWZ3IGZhLWxnJyxcclxuICAgICAgICAgIHNpZGU6ICdsZWZ0JyxcclxuICAgICAgICAgIGZuOiB0aGlzLnRvZ2dsZUxlZnREcmF3ZXIsXHJcbiAgICAgICAgICBzY29wZTogdGhpcyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc09uRWRpdCAmJiAhaXNPbkZpcnN0Vmlldykge1xyXG4gICAgICAgIHRvb2xzID0gdG9vbHMuY29uY2F0KFt7IC8vZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgICAgaWQ6ICdiYWNrJyxcclxuICAgICAgICAgIGNsczogJ2ZhIGZhLWFuZ2xlLWxlZnQgZmEtZncgZmEtbGcnLFxyXG4gICAgICAgICAgc2lkZTogJ2xlZnQnLFxyXG4gICAgICAgICAgZm46IHRoaXMubmF2aWdhdGVCYWNrLFxyXG4gICAgICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICAgICAgfV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICB9LFxyXG4gIG5hdmlnYXRlQmFjazogZnVuY3Rpb24gbmF2aWdhdGVCYWNrKCkge1xyXG4gICAgUmVVSS5iYWNrKCk7XHJcbiAgfSxcclxuICBuYXZpZ2F0ZVRvSG9tZVZpZXc6IGZ1bmN0aW9uIG5hdmlnYXRlVG9Ib21lVmlldygpIHtcclxuICAgIEFwcC5uYXZpZ2F0ZVRvSG9tZVZpZXcoKTtcclxuICB9LFxyXG4gIHRvZ2dsZVJpZ2h0RHJhd2VyOiBmdW5jdGlvbiB0b2dnbGVSaWdodERyYXdlcigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZURyYXdlcigncmlnaHQnKTtcclxuICB9LFxyXG4gIHRvZ2dsZUxlZnREcmF3ZXI6IGZ1bmN0aW9uIHRvZ2dsZUxlZnREcmF3ZXIoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVEcmF3ZXIoJ2xlZnQnKTtcclxuICB9LFxyXG4gIG9uVGl0bGVDbGljazogZnVuY3Rpb24gb25UaXRsZUNsaWNrKCkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSBBcHAuc25hcHBlciAmJiBBcHAuc25hcHBlci5zdGF0ZSgpO1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRQcmltYXJ5QWN0aXZlVmlldygpO1xyXG5cclxuICAgIGlmICh2aWV3ICYmIHN0YXRlICYmIHN0YXRlLnN0YXRlID09PSAnY2xvc2VkJykge1xyXG4gICAgICBjb25zdCBzY3JvbGxlck5vZGUgPSB2aWV3LmdldCgnc2Nyb2xsZXInKTtcclxuICAgICAgaWYgKGhhcygnYW5kcm9pZCcpKSB7XHJcbiAgICAgICAgLy8gSGFjayB0byB3b3JrIGFyb3VuZCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xOTYyNVxyXG4gICAgICAgIGRvbVN0eWxlLnNldChzY3JvbGxlck5vZGUsICdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuICAgICAgICBzY3JvbGxlck5vZGUuc2Nyb2xsVG9wID0gMDtcclxuICAgICAgICBkb21TdHlsZS5zZXQoc2Nyb2xsZXJOb2RlLCAnb3ZlcmZsb3cnLCAnYXV0bycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNjcm9sbGVyTm9kZS5zY3JvbGxUb3AgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBfdG9nZ2xlRHJhd2VyOiBmdW5jdGlvbiBfdG9nZ2xlRHJhd2VyKHN0YXRlKSB7XHJcbiAgICBjb25zdCBzbmFwcGVyU3RhdGUgPSBBcHAuc25hcHBlci5zdGF0ZSgpO1xyXG4gICAgaWYgKHNuYXBwZXJTdGF0ZS5zdGF0ZSA9PT0gc3RhdGUpIHtcclxuICAgICAgQXBwLnNuYXBwZXIuY2xvc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIEFwcC5zbmFwcGVyLm9wZW4oc3RhdGUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLk1haW5Ub29sYmFyJywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
