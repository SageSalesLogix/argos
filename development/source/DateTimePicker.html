<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/DateTimePicker', ['exports', 'module', 'dojo/_base/declare', 'dojo/dom-construct', 'dojo/dom-style', 'dijit/_Widget', 'argos/_Templated', './Calendar', './TimePicker'], function (exports, module, _dojo_baseDeclare, _dojoDomConstruct, _dojoDomStyle, _dijit_Widget, _argos_Templated, _Calendar, _TimePicker) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _domStyle = _interopRequireDefault(_dojoDomStyle);

  var _Widget2 = _interopRequireDefault(_dijit_Widget);

  var _Templated2 = _interopRequireDefault(_argos_Templated);

  var _Calendar2 = _interopRequireDefault(_Calendar);

  var _TimePicker2 = _interopRequireDefault(_TimePicker);

<span id='argos-DateTimePicker'>  /**
</span>   * @class argos.DateTimePicker
   */
  var __class = (0, _declare['default'])('argos.DateTimePicker', [_Widget2['default'], _Templated2['default']], {
    widgetTemplate: new Simplate(['&lt;div class=&quot;datetime-select&quot; data-dojo-attach-point=&quot;dateTimeNode&quot;&gt;', '&lt;/div&gt;']),

    _calendarNode: null,
    _timeSelectNode: null,
    isModal: false,
    showTimePicker: false,

    init: function init() {
      this.inherited(arguments);
    },
    getContent: function getContent() {
      var data = {};
      if (this._calendarNode &amp;&amp; this._calendarNode.getContent) {
        data.calendar = this._calendarNode.getContent();
      }
      if (this._timeSelectNode &amp;&amp; this._timeSelectNode.getContent) {
        data.time = this._timeSelectNode.getContent();
      }
      return data;
    },
    removeListeners: function removeListeners() {
      if (this._calendarNode &amp;&amp; this._calendarNode.removeListeners) {
        this._calendarNode.removeListeners();
      }
      if (this._timeSelectNode &amp;&amp; this._timeSelectNode.removeListeners) {
        this._timeSelectNode.removeListeners();
      }
    },
    show: function show() {
      var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      this.showTimePicker = options.showTimePicker;
      if (!this._calendarNode) {
        this._calendarNode = new _Calendar2['default']({ id: 'datetime-calendar ' + this.id, isModal: this.isModal || options.isModal });
        _domConstruct['default'].place(this._calendarNode.domNode, this.dateTimeNode);
        this._calendarNode.show(options);
        this._timeSelectNode = new _TimePicker2['default']({ id: 'datetime-timePicker ' + this.id, showSetTime: false });
        _domConstruct['default'].place(this._timeSelectNode.domNode, this.dateTimeNode);
        this._timeSelectNode.show(options);
        if (!this.showTimePicker) {
          _domStyle['default'].set(this._timeSelectNode.domNode, {
            display: 'none'
          });
        }
      } else {
        this._calendarNode.show(options);
        if (this.showTimePicker) {
          this._timeSelectNode.show(options);
          _domStyle['default'].set(this._timeSelectNode.domNode, {
            display: 'block'
          });
        } else {
          _domStyle['default'].set(this._timeSelectNode.domNode, {
            display: 'none'
          });
        }
      }
    }
  });

  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,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WUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO0FBQ3ZCLGNBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLCtCQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRTtBQUN6QyxtQkFBTyxFQUFFLE9BQU87V0FDakIsQ0FBQyxDQUFDO1NBQ0osTUFBTTtBQUNMLCtCQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRTtBQUN6QyxtQkFBTyxFQUFFLE1BQU07V0FDaEIsQ0FBQyxDQUFDO1NBQ0o7T0FDRjtLQUNGO0dBQ0YsQ0FBQyxDQUFDOzttQkFFWSxPQUFPIiwiZmlsZSI6InNyYy9EYXRlVGltZVBpY2tlci5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgZG9tQ29uc3RydWN0IGZyb20gJ2Rvam8vZG9tLWNvbnN0cnVjdCc7XHJcbmltcG9ydCBkb21TdHlsZSBmcm9tICdkb2pvL2RvbS1zdHlsZSc7XHJcbmltcG9ydCBfV2lkZ2V0IGZyb20gJ2Rpaml0L19XaWRnZXQnO1xyXG5pbXBvcnQgX1RlbXBsYXRlZCBmcm9tICdhcmdvcy9fVGVtcGxhdGVkJztcclxuaW1wb3J0IENhbGVuZGFyIGZyb20gJy4vQ2FsZW5kYXInO1xyXG5pbXBvcnQgVGltZVBpY2tlciBmcm9tICcuL1RpbWVQaWNrZXInO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBhcmdvcy5EYXRlVGltZVBpY2tlclxyXG4gKi9cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2FyZ29zLkRhdGVUaW1lUGlja2VyJywgW19XaWRnZXQsIF9UZW1wbGF0ZWRdLCB7XHJcbiAgd2lkZ2V0VGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBjbGFzcz1cImRhdGV0aW1lLXNlbGVjdFwiIGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJkYXRlVGltZU5vZGVcIj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXSksXHJcblxyXG4gIF9jYWxlbmRhck5vZGU6IG51bGwsXHJcbiAgX3RpbWVTZWxlY3ROb2RlOiBudWxsLFxyXG4gIGlzTW9kYWw6IGZhbHNlLFxyXG4gIHNob3dUaW1lUGlja2VyOiBmYWxzZSxcclxuXHJcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgfSxcclxuICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgaWYgKHRoaXMuX2NhbGVuZGFyTm9kZSAmJiB0aGlzLl9jYWxlbmRhck5vZGUuZ2V0Q29udGVudCkge1xyXG4gICAgICBkYXRhLmNhbGVuZGFyID0gdGhpcy5fY2FsZW5kYXJOb2RlLmdldENvbnRlbnQoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl90aW1lU2VsZWN0Tm9kZSAmJiB0aGlzLl90aW1lU2VsZWN0Tm9kZS5nZXRDb250ZW50KSB7XHJcbiAgICAgIGRhdGEudGltZSA9IHRoaXMuX3RpbWVTZWxlY3ROb2RlLmdldENvbnRlbnQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0sXHJcbiAgcmVtb3ZlTGlzdGVuZXJzOiBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKSB7XHJcbiAgICBpZiAodGhpcy5fY2FsZW5kYXJOb2RlICYmIHRoaXMuX2NhbGVuZGFyTm9kZS5yZW1vdmVMaXN0ZW5lcnMpIHtcclxuICAgICAgdGhpcy5fY2FsZW5kYXJOb2RlLnJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX3RpbWVTZWxlY3ROb2RlICYmIHRoaXMuX3RpbWVTZWxlY3ROb2RlLnJlbW92ZUxpc3RlbmVycykge1xyXG4gICAgICB0aGlzLl90aW1lU2VsZWN0Tm9kZS5yZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIHNob3c6IGZ1bmN0aW9uIHNob3cob3B0aW9ucyA9IHt9KSB7XHJcbiAgICB0aGlzLnNob3dUaW1lUGlja2VyID0gb3B0aW9ucy5zaG93VGltZVBpY2tlcjtcclxuICAgIGlmICghdGhpcy5fY2FsZW5kYXJOb2RlKSB7XHJcbiAgICAgIHRoaXMuX2NhbGVuZGFyTm9kZSA9IG5ldyBDYWxlbmRhcih7IGlkOiAnZGF0ZXRpbWUtY2FsZW5kYXIgJyArIHRoaXMuaWQsIGlzTW9kYWw6IHRoaXMuaXNNb2RhbCB8fCBvcHRpb25zLmlzTW9kYWx9KTtcclxuICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMuX2NhbGVuZGFyTm9kZS5kb21Ob2RlLCB0aGlzLmRhdGVUaW1lTm9kZSk7XHJcbiAgICAgIHRoaXMuX2NhbGVuZGFyTm9kZS5zaG93KG9wdGlvbnMpO1xyXG4gICAgICB0aGlzLl90aW1lU2VsZWN0Tm9kZSA9IG5ldyBUaW1lUGlja2VyKHsgaWQ6ICdkYXRldGltZS10aW1lUGlja2VyICcgKyB0aGlzLmlkLCBzaG93U2V0VGltZTogZmFsc2UgfSk7XHJcbiAgICAgIGRvbUNvbnN0cnVjdC5wbGFjZSh0aGlzLl90aW1lU2VsZWN0Tm9kZS5kb21Ob2RlLCB0aGlzLmRhdGVUaW1lTm9kZSk7XHJcbiAgICAgIHRoaXMuX3RpbWVTZWxlY3ROb2RlLnNob3cob3B0aW9ucyk7XHJcbiAgICAgIGlmICghdGhpcy5zaG93VGltZVBpY2tlcikge1xyXG4gICAgICAgIGRvbVN0eWxlLnNldCh0aGlzLl90aW1lU2VsZWN0Tm9kZS5kb21Ob2RlLCB7XHJcbiAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NhbGVuZGFyTm9kZS5zaG93KG9wdGlvbnMpO1xyXG4gICAgICBpZiAodGhpcy5zaG93VGltZVBpY2tlcikge1xyXG4gICAgICAgIHRoaXMuX3RpbWVTZWxlY3ROb2RlLnNob3cob3B0aW9ucyk7XHJcbiAgICAgICAgZG9tU3R5bGUuc2V0KHRoaXMuX3RpbWVTZWxlY3ROb2RlLmRvbU5vZGUsIHtcclxuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9tU3R5bGUuc2V0KHRoaXMuX3RpbWVTZWxlY3ROb2RlLmRvbU5vZGUsIHtcclxuICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
