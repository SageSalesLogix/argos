<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Integrations/BOE/Views/Locations/QuoteItemAvailabilityList', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', './PricingAvailabilityList', '../../PricingAvailabilityService', '../../Models/Names'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _PricingAvailabilityList, _PricingAvailabilityService, _ModelsNames) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _List = _interopRequireDefault(_PricingAvailabilityList);

  var _PricingAvailabilityService2 = _interopRequireDefault(_PricingAvailabilityService);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var __class = (0, _declare['default'])('crm.Integrations.BOE.Views.Locations.QuoteItemAvailabilityList', [_List['default']], {
    // View Properties
    id: 'locations_quoteItemAvailabilityList',
    modelName: _MODEL_NAMES['default'].QUOTEITEM,
    processWarehouse: function processWarehouse(warehouse) {
      var _this = this;

      var promise = new Promise(function (resolve) {
        _this._model.updateItemWithWarehouse(_this.options.quoteItem, warehouse).then(function (result) {
          resolve(result);
        });
      });
      return promise;
    },
    getAvailability: function getAvailability() {
      var _this2 = this;

      var promise = new Promise(function (resolve) {
        if (_this2.options &amp;&amp; _this2.options.quoteItem) {
          _PricingAvailabilityService2['default'].getQuoteItemAvailability(_this2.options.quoteItem).then(function (entries) {
            resolve(entries);
          }, function () {
            resolve([]);
          });
        }
      });
      return promise;
    }
  });

  _lang['default'].setObject('icboe.Views.Locations.QuoteItemAvailabilityList', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9JbnRlZ3JhdGlvbnMvQk9FL1ZpZXdzL0xvY2F0aW9ucy9RdW90ZUl0ZW1BdmFpbGFiaWxpdHlMaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFNQSxNQUFNLE9BQU8sR0FBRyx5QkFBUSxnRUFBZ0UsRUFBRSxrQkFBTSxFQUFFOztBQUVoRyxNQUFFLEVBQUUscUNBQXFDO0FBQ3pDLGFBQVMsRUFBRSx3QkFBWSxTQUFTO0FBQ2hDLG9CQUFnQixFQUFFLFNBQVMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFOzs7QUFDckQsVUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUs7QUFDdkMsY0FBSyxNQUFNLENBQUMsdUJBQXVCLENBQUMsTUFBSyxPQUFPLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLE1BQU0sRUFBSztBQUN0RixpQkFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2pCLENBQUMsQ0FBQztPQUNKLENBQUMsQ0FBQztBQUNILGFBQU8sT0FBTyxDQUFDO0tBQ2hCO0FBQ0QsbUJBQWUsRUFBRSxTQUFTLGVBQWUsR0FBRzs7O0FBQzFDLFVBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFLO0FBQ3ZDLFlBQUksT0FBSyxPQUFPLElBQUksT0FBSyxPQUFPLENBQUMsU0FBUyxFQUFFO0FBQzFDLGtEQUEyQix3QkFBd0IsQ0FBQyxPQUFLLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxPQUFPLEVBQUs7QUFDNUYsbUJBQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztXQUNsQixFQUFFLFlBQU07QUFDUCxtQkFBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1dBQ2IsQ0FBQyxDQUFDO1NBQ0o7T0FDRixDQUFDLENBQUM7QUFDSCxhQUFPLE9BQU8sQ0FBQztLQUNoQjtHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMsaURBQWlELEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQzVELE9BQU8iLCJmaWxlIjoic3JjL0ludGVncmF0aW9ucy9CT0UvVmlld3MvTG9jYXRpb25zL1F1b3RlSXRlbUF2YWlsYWJpbGl0eUxpc3QuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IExpc3QgZnJvbSAnLi9QcmljaW5nQXZhaWxhYmlsaXR5TGlzdCc7XHJcbmltcG9ydCBQcmljaW5nQXZhaWxhYmlsaXR5U2VydmljZSBmcm9tICcuLi8uLi9QcmljaW5nQXZhaWxhYmlsaXR5U2VydmljZSc7XHJcbmltcG9ydCBNT0RFTF9OQU1FUyBmcm9tICcuLi8uLi9Nb2RlbHMvTmFtZXMnO1xyXG5cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2NybS5JbnRlZ3JhdGlvbnMuQk9FLlZpZXdzLkxvY2F0aW9ucy5RdW90ZUl0ZW1BdmFpbGFiaWxpdHlMaXN0JywgW0xpc3RdLCB7XHJcbiAgLy8gVmlldyBQcm9wZXJ0aWVzXHJcbiAgaWQ6ICdsb2NhdGlvbnNfcXVvdGVJdGVtQXZhaWxhYmlsaXR5TGlzdCcsXHJcbiAgbW9kZWxOYW1lOiBNT0RFTF9OQU1FUy5RVU9URUlURU0sXHJcbiAgcHJvY2Vzc1dhcmVob3VzZTogZnVuY3Rpb24gcHJvY2Vzc1dhcmVob3VzZSh3YXJlaG91c2UpIHtcclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICB0aGlzLl9tb2RlbC51cGRhdGVJdGVtV2l0aFdhcmVob3VzZSh0aGlzLm9wdGlvbnMucXVvdGVJdGVtLCB3YXJlaG91c2UpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH0sXHJcbiAgZ2V0QXZhaWxhYmlsaXR5OiBmdW5jdGlvbiBnZXRBdmFpbGFiaWxpdHkoKSB7XHJcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucXVvdGVJdGVtKSB7XHJcbiAgICAgICAgUHJpY2luZ0F2YWlsYWJpbGl0eVNlcnZpY2UuZ2V0UXVvdGVJdGVtQXZhaWxhYmlsaXR5KHRoaXMub3B0aW9ucy5xdW90ZUl0ZW0pLnRoZW4oKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUoZW50cmllcyk7XHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnaWNib2UuVmlld3MuTG9jYXRpb25zLlF1b3RlSXRlbUF2YWlsYWJpbGl0eUxpc3QnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
