<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/ErrorLog/List', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/store/Memory', 'argos/Convert', 'argos/ErrorManager', 'argos/List', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoStoreMemory, _argosConvert, _argosErrorManager, _argosList, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _Memory = _interopRequireDefault(_dojoStoreMemory);

  var _convert = _interopRequireDefault(_argosConvert);

  var _ErrorManager = _interopRequireDefault(_argosErrorManager);

  var _List = _interopRequireDefault(_argosList);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('errorLogList');

<span id='crm-Views-ErrorLog-List'>  /**
</span>   * @class crm.Views.ErrorLog.List
   *
   * @extends argos.List
   *
   * @requires crm.Format
   * @requires argos.ErrorManager
   */
  var __class = (0, _declare['default'])('crm.Views.ErrorLog.List', [_List['default']], {
    // Localization
    titleText: resource.titleText,
    errorDateFormatText: resource.errorDateFormatText,

    // Templates
    itemTemplate: new Simplate(['&lt;h3&gt;{%: crm.Format.date($.Date, $$.errorDateFormatText) %}&lt;/h3&gt;', '&lt;h4&gt;{%: $.Description %}&lt;/h4&gt;']),

    // View Properties
    id: 'errorlog_list',
    enableSearch: false,
    enablePullToRefresh: false,
    hideSearch: true,
    expose: false,
    detailView: 'errorlog_detail',

    _onRefresh: function _onRefresh(o) {
      this.inherited(arguments);
      if (o.resourceKind === 'errorlogs' || o.resourceKind === 'localStorage') {
        this.refreshRequired = true;
      }
    },
    createStore: function createStore() {
      var errorItems = _ErrorManager['default'].getAllErrors();

      errorItems.sort(function sortErrorItems(a, b) {
        a.errorDateStamp = a.errorDateStamp || a.Date;
        b.errorDateStamp = b.errorDateStamp || b.Date;
        a.Date = a.errorDateStamp;
        b.Date = b.errorDateStamp;
        var A = _convert['default'].toDateFromString(a.errorDateStamp);
        var B = _convert['default'].toDateFromString(b.errorDateStamp);

        return A.valueOf() &gt; B.valueOf();
      });

      return new _Memory['default']({
        data: errorItems
      });
    },
    createToolLayout: function createToolLayout() {
      return this.tools || (this.tools = {
        'tbar': []
      });
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.ErrorLog.List', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9FcnJvckxvZy9MaXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUUEsTUFBTSxRQUFRLEdBQUcsNkJBQVksY0FBYyxDQUFDLENBQUM7Ozs7Ozs7Ozs7QUFVN0MsTUFBTSxPQUFPLEdBQUcseUJBQVEseUJBQXlCLEVBQUUsa0JBQU0sRUFBRTs7QUFFekQsYUFBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTO0FBQzdCLHVCQUFtQixFQUFFLFFBQVEsQ0FBQyxtQkFBbUI7OztBQUdqRCxnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLGlFQUFpRSxFQUNqRSwrQkFBK0IsQ0FDaEMsQ0FBQzs7O0FBR0YsTUFBRSxFQUFFLGVBQWU7QUFDbkIsZ0JBQVksRUFBRSxLQUFLO0FBQ25CLHVCQUFtQixFQUFFLEtBQUs7QUFDMUIsY0FBVSxFQUFFLElBQUk7QUFDaEIsVUFBTSxFQUFFLEtBQUs7QUFDYixjQUFVLEVBQUUsaUJBQWlCOztBQUU3QixjQUFVLEVBQUUsU0FBUyxVQUFVLENBQUMsQ0FBQyxFQUFFO0FBQ2pDLFVBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDMUIsVUFBSSxDQUFDLENBQUMsWUFBWSxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsWUFBWSxLQUFLLGNBQWMsRUFBRTtBQUN2RSxZQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztPQUM3QjtLQUNGO0FBQ0QsZUFBVyxFQUFFLFNBQVMsV0FBVyxHQUFHO0FBQ2xDLFVBQU0sVUFBVSxHQUFHLHlCQUFhLFlBQVksRUFBRSxDQUFDOztBQUUvQyxnQkFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQzVDLFNBQUMsQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzlDLFNBQUMsQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzlDLFNBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQztBQUMxQixTQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxjQUFjLENBQUM7QUFDMUIsWUFBTSxDQUFDLEdBQUcsb0JBQVEsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3JELFlBQU0sQ0FBQyxHQUFHLG9CQUFRLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFckQsZUFBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO09BQ2xDLENBQUMsQ0FBQzs7QUFFSCxhQUFPLHVCQUFXO0FBQ2hCLFlBQUksRUFBRSxVQUFVO09BQ2pCLENBQUMsQ0FBQztLQUNKO0FBQ0Qsb0JBQWdCLEVBQUUsU0FBUyxnQkFBZ0IsR0FBRztBQUM1QyxhQUFPLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssR0FBRztBQUNqQyxjQUFNLEVBQUUsRUFBRTtPQUNYLENBQUEsQUFBQyxDQUFDO0tBQ0o7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLHVDQUF1QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUNsRCxPQUFPIiwiZmlsZSI6InNyYy9WaWV3cy9FcnJvckxvZy9MaXN0LmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBNZW1vcnkgZnJvbSAnZG9qby9zdG9yZS9NZW1vcnknO1xyXG5pbXBvcnQgY29udmVydCBmcm9tICdhcmdvcy9Db252ZXJ0JztcclxuaW1wb3J0IEVycm9yTWFuYWdlciBmcm9tICdhcmdvcy9FcnJvck1hbmFnZXInO1xyXG5pbXBvcnQgTGlzdCBmcm9tICdhcmdvcy9MaXN0JztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnZXJyb3JMb2dMaXN0Jyk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIGNybS5WaWV3cy5FcnJvckxvZy5MaXN0XHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkxpc3RcclxuICpcclxuICogQHJlcXVpcmVzIGNybS5Gb3JtYXRcclxuICogQHJlcXVpcmVzIGFyZ29zLkVycm9yTWFuYWdlclxyXG4gKi9cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2NybS5WaWV3cy5FcnJvckxvZy5MaXN0JywgW0xpc3RdLCB7XHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgdGl0bGVUZXh0OiByZXNvdXJjZS50aXRsZVRleHQsXHJcbiAgZXJyb3JEYXRlRm9ybWF0VGV4dDogcmVzb3VyY2UuZXJyb3JEYXRlRm9ybWF0VGV4dCxcclxuXHJcbiAgLy8gVGVtcGxhdGVzXHJcbiAgaXRlbVRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxoMz57JTogY3JtLkZvcm1hdC5kYXRlKCQuRGF0ZSwgJCQuZXJyb3JEYXRlRm9ybWF0VGV4dCkgJX08L2gzPicsXHJcbiAgICAnPGg0PnslOiAkLkRlc2NyaXB0aW9uICV9PC9oND4nLFxyXG4gIF0pLFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBpZDogJ2Vycm9ybG9nX2xpc3QnLFxyXG4gIGVuYWJsZVNlYXJjaDogZmFsc2UsXHJcbiAgZW5hYmxlUHVsbFRvUmVmcmVzaDogZmFsc2UsXHJcbiAgaGlkZVNlYXJjaDogdHJ1ZSxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIGRldGFpbFZpZXc6ICdlcnJvcmxvZ19kZXRhaWwnLFxyXG5cclxuICBfb25SZWZyZXNoOiBmdW5jdGlvbiBfb25SZWZyZXNoKG8pIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgICBpZiAoby5yZXNvdXJjZUtpbmQgPT09ICdlcnJvcmxvZ3MnIHx8IG8ucmVzb3VyY2VLaW5kID09PSAnbG9jYWxTdG9yYWdlJykge1xyXG4gICAgICB0aGlzLnJlZnJlc2hSZXF1aXJlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjcmVhdGVTdG9yZTogZnVuY3Rpb24gY3JlYXRlU3RvcmUoKSB7XHJcbiAgICBjb25zdCBlcnJvckl0ZW1zID0gRXJyb3JNYW5hZ2VyLmdldEFsbEVycm9ycygpO1xyXG5cclxuICAgIGVycm9ySXRlbXMuc29ydChmdW5jdGlvbiBzb3J0RXJyb3JJdGVtcyhhLCBiKSB7XHJcbiAgICAgIGEuZXJyb3JEYXRlU3RhbXAgPSBhLmVycm9yRGF0ZVN0YW1wIHx8IGEuRGF0ZTtcclxuICAgICAgYi5lcnJvckRhdGVTdGFtcCA9IGIuZXJyb3JEYXRlU3RhbXAgfHwgYi5EYXRlO1xyXG4gICAgICBhLkRhdGUgPSBhLmVycm9yRGF0ZVN0YW1wO1xyXG4gICAgICBiLkRhdGUgPSBiLmVycm9yRGF0ZVN0YW1wO1xyXG4gICAgICBjb25zdCBBID0gY29udmVydC50b0RhdGVGcm9tU3RyaW5nKGEuZXJyb3JEYXRlU3RhbXApO1xyXG4gICAgICBjb25zdCBCID0gY29udmVydC50b0RhdGVGcm9tU3RyaW5nKGIuZXJyb3JEYXRlU3RhbXApO1xyXG5cclxuICAgICAgcmV0dXJuIEEudmFsdWVPZigpID4gQi52YWx1ZU9mKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE1lbW9yeSh7XHJcbiAgICAgIGRhdGE6IGVycm9ySXRlbXMsXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGNyZWF0ZVRvb2xMYXlvdXQ6IGZ1bmN0aW9uIGNyZWF0ZVRvb2xMYXlvdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50b29scyB8fCAodGhpcy50b29scyA9IHtcclxuICAgICAgJ3RiYXInOiBbXSxcclxuICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLkVycm9yTG9nLkxpc3QnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
