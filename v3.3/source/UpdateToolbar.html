<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * Copyright (c) 1997-2013, SalesLogix, NA., LLC. All rights reserved.
 */

<span id='crm-Views-UpdateToolbar'>/**
</span> * @class crm.Views.UpdateToolbar
 *
 *
 * @extends argos.MainToolbar
 *
 */
define('crm/Views/UpdateToolbar', [
    'dojo/_base/declare',
    'dojo/_base/lang',
    'dojo/_base/window',
    'dojo/dom-class',
    'argos/MainToolbar'
], function(
    declare,
    lang,
    win,
    domClass,
    MainToolbar
) {
    var __class = declare('crm.Views.UpdateToolbar', [MainToolbar], {
        widgetTemplate: new Simplate([
            '&lt;div class=&quot;update-toolbar&quot;&gt;',
            '&lt;h1 data-action=&quot;reload&quot;&gt;{%= $.updateText %}&lt;/h1&gt;',
            '&lt;/div&gt;'
        ]),

        updateText: 'An update is available.  Click to reload.',

        managed: false,

        show: function() {
            domClass.add(win.body(), 'update-available');

            this.showTools([{
                id: 'cancel',
                side: 'right',
                fn: this.cancel,
                scope: this
            }]);

            this.inherited(arguments);
        },

        showTools: function() {
            this.inherited(arguments);
        },

        hide: function() {
            domClass.remove(win.body(), 'update-available');
        },
        reload: function() {
            App.reload();
        },
        cancel: function() {
            this.hide();
        }
    });

    lang.setObject('Mobile.SalesLogix.Views.UpdateToolbar', __class);
    return __class;
});

</pre>
</body>
</html>
