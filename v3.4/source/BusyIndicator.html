<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/Dialogs/BusyIndicator', ['exports', 'module', 'dojo/_base/declare', 'dojo/dom-construct', 'dojo/dom-class', 'dojo/dom-style', 'dojo/Deferred', 'dijit/_Widget', '../_Templated', '../I18n'], function (exports, module, _dojo_baseDeclare, _dojoDomConstruct, _dojoDomClass, _dojoDomStyle, _dojoDeferred, _dijit_Widget, _Templated2, _I18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _domClass = _interopRequireDefault(_dojoDomClass);

  var _domStyle = _interopRequireDefault(_dojoDomStyle);

  var _Deferred = _interopRequireDefault(_dojoDeferred);

  var _Widget2 = _interopRequireDefault(_dijit_Widget);

  var _Templated3 = _interopRequireDefault(_Templated2);

  var _getResource = _interopRequireDefault(_I18n);

  var resource = (0, _getResource['default'])('busyIndicator');

<span id='argos-Dialogs-BusyIndicator'>  /**
</span>   * @class argos.Dialogs.BusyIndicator
   */
  var __class = (0, _declare['default'])('argos.Dialogs.BusyIndicator', [_Widget2['default'], _Templated3['default']], {
    widgetTemplate: new Simplate(['&lt;div class=&quot;busyIndicator__container {%: $.containerClass %}&quot; aria-live=&quot;polite&quot; data-dojo-attach-point=&quot;busyIndicatorNode&quot;&gt;', '{%! $.busyIndicatorTemplate %}', '{%! $.progressBarTemplate %}', '&lt;/div&gt;']),
    busyIndicatorTemplate: new Simplate(['&lt;div class=&quot;busyIndicator busyIndicator--{%: $.size %}&quot;&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--{%: $.size %} busyIndicator__bar--one&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--{%: $.size %} busyIndicator__bar--two&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--{%: $.size %} busyIndicator__bar--three&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--{%: $.size %} busyIndicator__bar--four&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;busyIndicator__bar busyIndicator__bar--{%: $.size %} busyIndicator__bar--five&quot;&gt;&lt;/div&gt;', '&lt;/div&gt;', '&lt;span class=&quot;busyIndicator__label&quot; data-dojo-attach-point=&quot;labelNode&quot;&gt;{%: $.label %}&lt;/span&gt;']),
    progressBarTemplate: new Simplate(['&lt;div class=&quot;busyIndicator__progress&quot; data-dojo-attach-point=&quot;progressNode&quot;&gt;', '&lt;/div&gt;']),
    progressLabelTemplate: new Simplate(['&lt;span class=&quot;busyIndicator__progress__label&quot;&gt;{%: $.progressText %}&lt;/span&gt;']),
    barTemplate: new Simplate(['&lt;div class=&quot;busyIndicator__progress__bar&quot;&gt;&lt;/div&gt;']),

    _busyDeferred: null,
    _busyIndicator: null,
    _progressBar: null,
    containerClass: null,
    currentProgress: null,
    id: 'busyIndicator-template',
    isAsync: true,
    label: resource.loadingText,
    progressLabelNode: null,
    progressText: resource.progressText,
    size: 'large',
    totalProgress: null,

    complete: function complete() {
      var result = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      _domClass['default'].remove(this.busyIndicatorNode, 'busyIndicator--active');
      this._busyDeferred.resolve(result);
    },
    show: function show() {},
    start: function start() {
      var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      this._busyDeferred = new _Deferred['default']();

      _domClass['default'].add(this.busyIndicatorNode, 'busyIndicator--active');

      if (!this.isAsync || options.isAsync !== undefined &amp;&amp; !options.isAsync) {
        this._progressBar = _domConstruct['default'].toDom(this.barTemplate.apply(this));
        this.progressLabelNode = _domConstruct['default'].toDom(this.progressLabelTemplate.apply(this));
        _domConstruct['default'].place(this.progressLabelNode, this.progressNode);
        _domConstruct['default'].place(this._progressBar, this.progressNode);
        this.currentProgress = options.current || 0;
        this.totalProgress = options.total || options.count || 0;
      }

      return this._busyDeferred.promise;
    },
    updateProgress: function updateProgress() {
      this.currentProgress = this.currentProgress + 1;
      if (this._progressBar) {
        _domStyle['default'].set(this._progressBar, {
          width: 100 * this.currentProgress / this.totalProgress + '%'
        });
      }
    }
  });

  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9EaWFsb2dzL0J1c3lJbmRpY2F0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGVBQWUsQ0FBQyxDQUFDOzs7OztBQUs5QyxNQUFNLE9BQU8sR0FBRyx5QkFBUSw2QkFBNkIsRUFBRSw2Q0FBdUIsRUFBRTtBQUM5RSxrQkFBYyxFQUFFLElBQUksUUFBUSxDQUFDLENBQzNCLDhIQUE4SCxFQUM1SCxnQ0FBZ0MsRUFDaEMsOEJBQThCLEVBQ2hDLFFBQVEsQ0FDVCxDQUFDO0FBQ0YseUJBQXFCLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDaEMsMERBQTBELEVBQ3hELGtHQUFrRyxFQUNsRyxrR0FBa0csRUFDbEcsb0dBQW9HLEVBQ3BHLG1HQUFtRyxFQUNuRyxtR0FBbUcsRUFDckcsUUFBUSxFQUNSLDZGQUE2RixDQUNoRyxDQUFDO0FBQ0YsdUJBQW1CLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDaEMsNkVBQTZFLEVBQzdFLFFBQVEsQ0FDVCxDQUFDO0FBQ0YseUJBQXFCLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDbEMsMkVBQTJFLENBQzVFLENBQUM7QUFDRixlQUFXLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDeEIsa0RBQWtELENBQ25ELENBQUM7O0FBRUYsaUJBQWEsRUFBRSxJQUFJO0FBQ25CLGtCQUFjLEVBQUUsSUFBSTtBQUNwQixnQkFBWSxFQUFFLElBQUk7QUFDbEIsa0JBQWMsRUFBRSxJQUFJO0FBQ3BCLG1CQUFlLEVBQUUsSUFBSTtBQUNyQixNQUFFLEVBQUUsd0JBQXdCO0FBQzVCLFdBQU8sRUFBRSxJQUFJO0FBQ2IsU0FBSyxFQUFFLFFBQVEsQ0FBQyxXQUFXO0FBQzNCLHFCQUFpQixFQUFFLElBQUk7QUFDdkIsZ0JBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtBQUNuQyxRQUFJLEVBQUUsT0FBTztBQUNiLGlCQUFhLEVBQUUsSUFBSTs7QUFFbkIsWUFBUSxFQUFFLFNBQVMsUUFBUSxHQUFjO1VBQWIsTUFBTSx5REFBRyxFQUFFOztBQUNyQywyQkFBUyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLHVCQUF1QixDQUFDLENBQUM7QUFDakUsVUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDcEM7QUFDRCxRQUFJLEVBQUUsU0FBUyxJQUFJLEdBQUcsRUFBRTtBQUN4QixTQUFLLEVBQUUsU0FBUyxLQUFLLEdBQWU7VUFBZCxPQUFPLHlEQUFHLEVBQUU7O0FBQ2hDLFVBQUksQ0FBQyxhQUFhLEdBQUcsMEJBQWMsQ0FBQzs7QUFFcEMsMkJBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDOztBQUU5RCxVQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSyxPQUFPLENBQUMsT0FBTyxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEFBQUMsRUFBRTtBQUN4RSxZQUFJLENBQUMsWUFBWSxHQUFHLHlCQUFhLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3JFLFlBQUksQ0FBQyxpQkFBaUIsR0FBRyx5QkFBYSxLQUFLLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3BGLGlDQUFhLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzlELGlDQUFhLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN6RCxZQUFJLENBQUMsZUFBZSxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDO0FBQzVDLFlBQUksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztPQUMxRDs7QUFFRCxhQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO0tBQ25DO0FBQ0Qsa0JBQWMsRUFBRSxTQUFTLGNBQWMsR0FBRztBQUN4QyxVQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO0FBQ2hELFVBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtBQUNyQiw2QkFBUyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRTtBQUM5QixlQUFLLEVBQUssR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGFBQWEsTUFBRztTQUM3RCxDQUFDLENBQUM7T0FDSjtLQUNGO0dBQ0YsQ0FBQyxDQUFDOzttQkFFWSxPQUFPIiwiZmlsZSI6InNyYy9EaWFsb2dzL0J1c3lJbmRpY2F0b3IuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IGRvbUNvbnN0cnVjdCBmcm9tICdkb2pvL2RvbS1jb25zdHJ1Y3QnO1xyXG5pbXBvcnQgZG9tQ2xhc3MgZnJvbSAnZG9qby9kb20tY2xhc3MnO1xyXG5pbXBvcnQgZG9tU3R5bGUgZnJvbSAnZG9qby9kb20tc3R5bGUnO1xyXG5pbXBvcnQgRGVmZXJyZWQgZnJvbSAnZG9qby9EZWZlcnJlZCc7XHJcbmltcG9ydCBfV2lkZ2V0IGZyb20gJ2Rpaml0L19XaWRnZXQnO1xyXG5pbXBvcnQgX1RlbXBsYXRlZCBmcm9tICcuLi9fVGVtcGxhdGVkJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJy4uL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnYnVzeUluZGljYXRvcicpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBhcmdvcy5EaWFsb2dzLkJ1c3lJbmRpY2F0b3JcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdhcmdvcy5EaWFsb2dzLkJ1c3lJbmRpY2F0b3InLCBbIF9XaWRnZXQsIF9UZW1wbGF0ZWQgXSwge1xyXG4gIHdpZGdldFRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19jb250YWluZXIgeyU6ICQuY29udGFpbmVyQ2xhc3MgJX1cIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiYnVzeUluZGljYXRvck5vZGVcIj4nLFxyXG4gICAgICAneyUhICQuYnVzeUluZGljYXRvclRlbXBsYXRlICV9JyxcclxuICAgICAgJ3slISAkLnByb2dyZXNzQmFyVGVtcGxhdGUgJX0nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXSksXHJcbiAgYnVzeUluZGljYXRvclRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgICAnPGRpdiBjbGFzcz1cImJ1c3lJbmRpY2F0b3IgYnVzeUluZGljYXRvci0teyU6ICQuc2l6ZSAlfVwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19iYXIgYnVzeUluZGljYXRvcl9fYmFyLS17JTogJC5zaXplICV9IGJ1c3lJbmRpY2F0b3JfX2Jhci0tb25lXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX2JhciBidXN5SW5kaWNhdG9yX19iYXItLXslOiAkLnNpemUgJX0gYnVzeUluZGljYXRvcl9fYmFyLS10d29cIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYnVzeUluZGljYXRvcl9fYmFyIGJ1c3lJbmRpY2F0b3JfX2Jhci0teyU6ICQuc2l6ZSAlfSBidXN5SW5kaWNhdG9yX19iYXItLXRocmVlXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX2JhciBidXN5SW5kaWNhdG9yX19iYXItLXslOiAkLnNpemUgJX0gYnVzeUluZGljYXRvcl9fYmFyLS1mb3VyXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX2JhciBidXN5SW5kaWNhdG9yX19iYXItLXslOiAkLnNpemUgJX0gYnVzeUluZGljYXRvcl9fYmFyLS1maXZlXCI+PC9kaXY+JyxcclxuICAgICAgJzwvZGl2PicsXHJcbiAgICAgICc8c3BhbiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX2xhYmVsXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cImxhYmVsTm9kZVwiPnslOiAkLmxhYmVsICV9PC9zcGFuPicsXHJcbiAgXSksXHJcbiAgcHJvZ3Jlc3NCYXJUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8ZGl2IGNsYXNzPVwiYnVzeUluZGljYXRvcl9fcHJvZ3Jlc3NcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwicHJvZ3Jlc3NOb2RlXCI+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIHByb2dyZXNzTGFiZWxUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8c3BhbiBjbGFzcz1cImJ1c3lJbmRpY2F0b3JfX3Byb2dyZXNzX19sYWJlbFwiPnslOiAkLnByb2dyZXNzVGV4dCAlfTwvc3Bhbj4nLFxyXG4gIF0pLFxyXG4gIGJhclRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgY2xhc3M9XCJidXN5SW5kaWNhdG9yX19wcm9ncmVzc19fYmFyXCI+PC9kaXY+JyxcclxuICBdKSxcclxuXHJcbiAgX2J1c3lEZWZlcnJlZDogbnVsbCxcclxuICBfYnVzeUluZGljYXRvcjogbnVsbCxcclxuICBfcHJvZ3Jlc3NCYXI6IG51bGwsXHJcbiAgY29udGFpbmVyQ2xhc3M6IG51bGwsXHJcbiAgY3VycmVudFByb2dyZXNzOiBudWxsLFxyXG4gIGlkOiAnYnVzeUluZGljYXRvci10ZW1wbGF0ZScsXHJcbiAgaXNBc3luYzogdHJ1ZSxcclxuICBsYWJlbDogcmVzb3VyY2UubG9hZGluZ1RleHQsXHJcbiAgcHJvZ3Jlc3NMYWJlbE5vZGU6IG51bGwsXHJcbiAgcHJvZ3Jlc3NUZXh0OiByZXNvdXJjZS5wcm9ncmVzc1RleHQsXHJcbiAgc2l6ZTogJ2xhcmdlJyxcclxuICB0b3RhbFByb2dyZXNzOiBudWxsLFxyXG5cclxuICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVzdWx0ID0ge30pIHtcclxuICAgIGRvbUNsYXNzLnJlbW92ZSh0aGlzLmJ1c3lJbmRpY2F0b3JOb2RlLCAnYnVzeUluZGljYXRvci0tYWN0aXZlJyk7XHJcbiAgICB0aGlzLl9idXN5RGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gIH0sXHJcbiAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHt9LFxyXG4gIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChvcHRpb25zID0ge30pIHtcclxuICAgIHRoaXMuX2J1c3lEZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG5cclxuICAgIGRvbUNsYXNzLmFkZCh0aGlzLmJ1c3lJbmRpY2F0b3JOb2RlLCAnYnVzeUluZGljYXRvci0tYWN0aXZlJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlzQXN5bmMgfHwgKG9wdGlvbnMuaXNBc3luYyAhPT0gdW5kZWZpbmVkICYmICFvcHRpb25zLmlzQXN5bmMpKSB7XHJcbiAgICAgIHRoaXMuX3Byb2dyZXNzQmFyID0gZG9tQ29uc3RydWN0LnRvRG9tKHRoaXMuYmFyVGVtcGxhdGUuYXBwbHkodGhpcykpO1xyXG4gICAgICB0aGlzLnByb2dyZXNzTGFiZWxOb2RlID0gZG9tQ29uc3RydWN0LnRvRG9tKHRoaXMucHJvZ3Jlc3NMYWJlbFRlbXBsYXRlLmFwcGx5KHRoaXMpKTtcclxuICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMucHJvZ3Jlc3NMYWJlbE5vZGUsIHRoaXMucHJvZ3Jlc3NOb2RlKTtcclxuICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMuX3Byb2dyZXNzQmFyLCB0aGlzLnByb2dyZXNzTm9kZSk7XHJcbiAgICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gb3B0aW9ucy5jdXJyZW50IHx8IDA7XHJcbiAgICAgIHRoaXMudG90YWxQcm9ncmVzcyA9IG9wdGlvbnMudG90YWwgfHwgb3B0aW9ucy5jb3VudCB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9idXN5RGVmZXJyZWQucHJvbWlzZTtcclxuICB9LFxyXG4gIHVwZGF0ZVByb2dyZXNzOiBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHtcclxuICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3MgKyAxO1xyXG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzQmFyKSB7XHJcbiAgICAgIGRvbVN0eWxlLnNldCh0aGlzLl9wcm9ncmVzc0Jhciwge1xyXG4gICAgICAgIHdpZHRoOiBgJHsxMDAgKiB0aGlzLmN1cnJlbnRQcm9ncmVzcyAvIHRoaXMudG90YWxQcm9ncmVzc30lYCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBfX2NsYXNzO1xyXG4iXX0=
</pre>
</body>
</html>
