<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/Groups/GroupByValueSection', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', '../Utility', './_GroupBySection', '../I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _Utility, _GroupBySection2, _I18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

<span id='argos-Groups-GroupByValueSection'>  /**
</span>   * @class argos.Groups.GroupByValueSection
   */

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _Utility2 = _interopRequireDefault(_Utility);

  var _GroupBySection3 = _interopRequireDefault(_GroupBySection2);

  var _getResource = _interopRequireDefault(_I18n);

  var resource = (0, _getResource['default'])('groupByValueSection');

  var __class = (0, _declare['default'])('argos.Groups.GroupByValueSection', [_GroupBySection3['default']], {
    name: 'DateTimeSectionFilter',
    displayNameText: resource.displayNameText,
    width: 0,
    constructor: function constructor(o) {
      this.groupByProperty = o.groupByProperty;
      this.sortDirection = o.sortDirection;
      if (o.width) {
        this.width = o.width;
      }
      this.init();
    },
    init: function init() {
      this.sections = [];
    },
    getSection: function getSection(entry) {
      if (this.groupByProperty &amp;&amp; entry) {
        var value = _Utility2['default'].getValue(entry, this.groupByProperty);
        value = this._getValueFromWidth(value, this.width);
        if (value) {
          return {
            key: value,
            title: value
          };
        }
        return this.getDefaultSection();
      }
      return null;
    },
    getDefaultSection: function getDefaultSection() {
      return {
        key: 'Unknown',
        title: 'Unknown'
      };
    },
    _getValueFromWidth: function _getValueFromWidth(value, width) {
      if (value) {
        if (width &gt; 0) {
          return value.toString().substring(0, width);
        }
      }
      return value;
    }
  });

  _lang['default'].setObject('Sage.Platform.Mobile.Groups.GroupByValueSection', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Hcm91cHMvR3JvdXBCeVZhbHVlU2VjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQVNBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLHFCQUFxQixDQUFDLENBQUM7O0FBRXBELE1BQU0sT0FBTyxHQUFHLHlCQUFRLGtDQUFrQyxFQUFFLDZCQUFpQixFQUFFO0FBQzdFLFFBQUksRUFBRSx1QkFBdUI7QUFDN0IsbUJBQWUsRUFBRSxRQUFRLENBQUMsZUFBZTtBQUN6QyxTQUFLLEVBQUUsQ0FBQztBQUNSLGVBQVcsRUFBRSxTQUFTLFdBQVcsQ0FBQyxDQUFDLEVBQUU7QUFDbkMsVUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO0FBQ3pDLFVBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQztBQUNyQyxVQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7QUFDWCxZQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7T0FDdEI7QUFDRCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDYjtBQUNELFFBQUksRUFBRSxTQUFTLElBQUksR0FBRztBQUNwQixVQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztLQUNwQjtBQUNELGNBQVUsRUFBRSxTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDckMsVUFBSSxBQUFDLElBQUksQ0FBQyxlQUFlLElBQU0sS0FBSyxBQUFDLEVBQUU7QUFDckMsWUFBSSxLQUFLLEdBQUcscUJBQVEsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDMUQsYUFBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELFlBQUksS0FBSyxFQUFFO0FBQ1QsaUJBQU87QUFDTCxlQUFHLEVBQUUsS0FBSztBQUNWLGlCQUFLLEVBQUUsS0FBSztXQUNiLENBQUM7U0FDSDtBQUNELGVBQU8sSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7T0FDakM7QUFDRCxhQUFPLElBQUksQ0FBQztLQUNiO0FBQ0QscUJBQWlCLEVBQUUsU0FBUyxpQkFBaUIsR0FBRztBQUM5QyxhQUFPO0FBQ0wsV0FBRyxFQUFFLFNBQVM7QUFDZCxhQUFLLEVBQUUsU0FBUztPQUNqQixDQUFDO0tBQ0g7QUFDRCxzQkFBa0IsRUFBRSxTQUFTLGtCQUFrQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDNUQsVUFBSSxLQUFLLEVBQUU7QUFDVCxZQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7QUFDYixpQkFBTyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3QztPQUNGO0FBQ0QsYUFBTyxLQUFLLENBQUM7S0FDZDtHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMsaURBQWlELEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQzVELE9BQU8iLCJmaWxlIjoic3JjL0dyb3Vwcy9Hcm91cEJ5VmFsdWVTZWN0aW9uLmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAY2xhc3MgYXJnb3MuR3JvdXBzLkdyb3VwQnlWYWx1ZVNlY3Rpb25cclxuICovXHJcbmltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcbmltcG9ydCBVdGlsaXR5IGZyb20gJy4uL1V0aWxpdHknO1xyXG5pbXBvcnQgX0dyb3VwQnlTZWN0aW9uIGZyb20gJy4vX0dyb3VwQnlTZWN0aW9uJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJy4uL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnZ3JvdXBCeVZhbHVlU2VjdGlvbicpO1xyXG5cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2FyZ29zLkdyb3Vwcy5Hcm91cEJ5VmFsdWVTZWN0aW9uJywgW19Hcm91cEJ5U2VjdGlvbl0sIHtcclxuICBuYW1lOiAnRGF0ZVRpbWVTZWN0aW9uRmlsdGVyJyxcclxuICBkaXNwbGF5TmFtZVRleHQ6IHJlc291cmNlLmRpc3BsYXlOYW1lVGV4dCxcclxuICB3aWR0aDogMCxcclxuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gY29uc3RydWN0b3Iobykge1xyXG4gICAgdGhpcy5ncm91cEJ5UHJvcGVydHkgPSBvLmdyb3VwQnlQcm9wZXJ0eTtcclxuICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IG8uc29ydERpcmVjdGlvbjtcclxuICAgIGlmIChvLndpZHRoKSB7XHJcbiAgICAgIHRoaXMud2lkdGggPSBvLndpZHRoO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfSxcclxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdGhpcy5zZWN0aW9ucyA9IFtdO1xyXG4gIH0sXHJcbiAgZ2V0U2VjdGlvbjogZnVuY3Rpb24gZ2V0U2VjdGlvbihlbnRyeSkge1xyXG4gICAgaWYgKCh0aGlzLmdyb3VwQnlQcm9wZXJ0eSkgJiYgKGVudHJ5KSkge1xyXG4gICAgICBsZXQgdmFsdWUgPSBVdGlsaXR5LmdldFZhbHVlKGVudHJ5LCB0aGlzLmdyb3VwQnlQcm9wZXJ0eSk7XHJcbiAgICAgIHZhbHVlID0gdGhpcy5fZ2V0VmFsdWVGcm9tV2lkdGgodmFsdWUsIHRoaXMud2lkdGgpO1xyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAga2V5OiB2YWx1ZSxcclxuICAgICAgICAgIHRpdGxlOiB2YWx1ZSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLmdldERlZmF1bHRTZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG4gIGdldERlZmF1bHRTZWN0aW9uOiBmdW5jdGlvbiBnZXREZWZhdWx0U2VjdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGtleTogJ1Vua25vd24nLFxyXG4gICAgICB0aXRsZTogJ1Vua25vd24nLFxyXG4gICAgfTtcclxuICB9LFxyXG4gIF9nZXRWYWx1ZUZyb21XaWR0aDogZnVuY3Rpb24gX2dldFZhbHVlRnJvbVdpZHRoKHZhbHVlLCB3aWR0aCkge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGlmICh3aWR0aCA+IDApIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgd2lkdGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnU2FnZS5QbGF0Zm9ybS5Nb2JpbGUuR3JvdXBzLkdyb3VwQnlWYWx1ZVNlY3Rpb24nLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
