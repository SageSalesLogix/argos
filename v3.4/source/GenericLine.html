<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Charts/GenericLine', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/_base/array', 'dojo/dom-geometry', 'argos/View', './_ChartMixin'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojo_baseArray, _dojoDomGeometry, _argosView, _ChartMixin2) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _array = _interopRequireDefault(_dojo_baseArray);

  var _domGeo = _interopRequireDefault(_dojoDomGeometry);

  var _View = _interopRequireDefault(_argosView);

  var _ChartMixin3 = _interopRequireDefault(_ChartMixin2);

<span id='crm-Views-Charts-GenericLine'>  /**
</span>   * @class crm.Views.Charts.GenericLine
   *
   * @extends argos.View
   * @mixins crm.Views.Charts._ChartMixin
   *
   * @requires argos.View
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Charts.GenericLine', [_View['default'], _ChartMixin3['default']], {
    id: 'chart_generic_line',
    titleText: '',
    expose: false,
    chart: null,
    lineColor: '#0896e9',
    pointColor: '#0896e9',
    fillColor: 'rgba(8,150,233, 0.2)',

    chartOptions: {
      scaleShowGridLines: false,
      bezierCurve: true,
      bezierCurveTension: 0.4,
      pointDot: true,
      pointDotRadius: 4,
      datasetFill: true,
      legendTemplate: '&lt;ul class=&quot;&lt;%=name.toLowerCase()%&gt;-legend&quot;&gt;&lt;% for (var i=0; i&lt;datasets.length; i++){%&gt;&lt;li&gt;&lt;span style=&quot;background-color:&lt;%=datasets[i].strokeColor%&gt;&quot;&gt;&lt;/span&gt;&lt;%if(datasets[i].label){%&gt;&lt;%=datasets[i].label%&gt;&lt;%}%&gt;&lt;/li&gt;&lt;%}%&gt;&lt;/ul&gt;'
    },

    attributeMap: {
      chartContent: {
        node: 'contentNode',
        type: 'innerHTML'
      }
    },

    createChart: function createChart(rawData) {
      this.inherited(arguments);

      this.showSearchExpression();

      var labels = [];
      var seriesData = _array['default'].map(rawData, function mapData(item) {
        labels.push(item.$descriptor);
        return Math.round(item.value);
      });

      var data = {
        labels: labels,
        datasets: [{
          label: 'Default',
          strokeColor: this.lineColor,
          pointColor: this.pointColor,
          fillColor: this.fillColor,
          data: seriesData
        }]
      };

      if (this.chart) {
        this.chart.destroy();
      }

      var box = _domGeo['default'].getMarginBox(this.domNode);
      this.contentNode.width = box.w;
      this.contentNode.height = box.h;

      var ctx = this.contentNode.getContext('2d');

      this.chart = new window.Chart(ctx).Line(data, this.chartOptions); // eslint-disable-line
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Charts.GenericLine', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9DaGFydHMvR2VuZXJpY0xpbmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBLE1BQU0sT0FBTyxHQUFHLHlCQUFRLDhCQUE4QixFQUFFLDJDQUFtQixFQUFFO0FBQzNFLE1BQUUsRUFBRSxvQkFBb0I7QUFDeEIsYUFBUyxFQUFFLEVBQUU7QUFDYixVQUFNLEVBQUUsS0FBSztBQUNiLFNBQUssRUFBRSxJQUFJO0FBQ1gsYUFBUyxFQUFFLFNBQVM7QUFDcEIsY0FBVSxFQUFFLFNBQVM7QUFDckIsYUFBUyxFQUFFLHNCQUFzQjs7QUFFakMsZ0JBQVksRUFBRTtBQUNaLHdCQUFrQixFQUFFLEtBQUs7QUFDekIsaUJBQVcsRUFBRSxJQUFJO0FBQ2pCLHdCQUFrQixFQUFFLEdBQUc7QUFDdkIsY0FBUSxFQUFFLElBQUk7QUFDZCxvQkFBYyxFQUFFLENBQUM7QUFDakIsaUJBQVcsRUFBRSxJQUFJO0FBQ2pCLG9CQUFjLEVBQUUsbU9BQW1PO0tBQ3BQOztBQUVELGdCQUFZLEVBQUU7QUFDWixrQkFBWSxFQUFFO0FBQ1osWUFBSSxFQUFFLGFBQWE7QUFDbkIsWUFBSSxFQUFFLFdBQVc7T0FDbEI7S0FDRjs7QUFFRCxlQUFXLEVBQUUsU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFO0FBQ3pDLFVBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRTFCLFVBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDOztBQUU1QixVQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDbEIsVUFBTSxVQUFVLEdBQUcsa0JBQU0sR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDM0QsY0FBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDOUIsZUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUMvQixDQUFDLENBQUM7O0FBRUgsVUFBTSxJQUFJLEdBQUc7QUFDWCxjQUFNLEVBQUUsTUFBTTtBQUNkLGdCQUFRLEVBQUUsQ0FBQztBQUNULGVBQUssRUFBRSxTQUFTO0FBQ2hCLHFCQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVM7QUFDM0Isb0JBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtBQUMzQixtQkFBUyxFQUFFLElBQUksQ0FBQyxTQUFTO0FBQ3pCLGNBQUksRUFBRSxVQUFVO1NBQ2pCLENBQUM7T0FDSCxDQUFDOztBQUVGLFVBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNkLFlBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7T0FDdEI7O0FBRUQsVUFBTSxHQUFHLEdBQUcsbUJBQU8sWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5QyxVQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQy9CLFVBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0FBRWhDLFVBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUU5QyxVQUFJLENBQUMsS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztLQUNsRTtHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMsNENBQTRDLEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQ3ZELE9BQU8iLCJmaWxlIjoic3JjL1ZpZXdzL0NoYXJ0cy9HZW5lcmljTGluZS5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgYXJyYXkgZnJvbSAnZG9qby9fYmFzZS9hcnJheSc7XHJcbmltcG9ydCBkb21HZW8gZnJvbSAnZG9qby9kb20tZ2VvbWV0cnknO1xyXG5pbXBvcnQgVmlldyBmcm9tICdhcmdvcy9WaWV3JztcclxuaW1wb3J0IF9DaGFydE1peGluIGZyb20gJy4vX0NoYXJ0TWl4aW4nO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuQ2hhcnRzLkdlbmVyaWNMaW5lXHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLlZpZXdcclxuICogQG1peGlucyBjcm0uVmlld3MuQ2hhcnRzLl9DaGFydE1peGluXHJcbiAqXHJcbiAqIEByZXF1aXJlcyBhcmdvcy5WaWV3XHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLkNoYXJ0cy5HZW5lcmljTGluZScsIFtWaWV3LCBfQ2hhcnRNaXhpbl0sIHtcclxuICBpZDogJ2NoYXJ0X2dlbmVyaWNfbGluZScsXHJcbiAgdGl0bGVUZXh0OiAnJyxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIGNoYXJ0OiBudWxsLFxyXG4gIGxpbmVDb2xvcjogJyMwODk2ZTknLFxyXG4gIHBvaW50Q29sb3I6ICcjMDg5NmU5JyxcclxuICBmaWxsQ29sb3I6ICdyZ2JhKDgsMTUwLDIzMywgMC4yKScsXHJcblxyXG4gIGNoYXJ0T3B0aW9uczoge1xyXG4gICAgc2NhbGVTaG93R3JpZExpbmVzOiBmYWxzZSxcclxuICAgIGJlemllckN1cnZlOiB0cnVlLFxyXG4gICAgYmV6aWVyQ3VydmVUZW5zaW9uOiAwLjQsXHJcbiAgICBwb2ludERvdDogdHJ1ZSxcclxuICAgIHBvaW50RG90UmFkaXVzOiA0LFxyXG4gICAgZGF0YXNldEZpbGw6IHRydWUsXHJcbiAgICBsZWdlbmRUZW1wbGF0ZTogJzx1bCBjbGFzcz1cIjwlPW5hbWUudG9Mb3dlckNhc2UoKSU+LWxlZ2VuZFwiPjwlIGZvciAodmFyIGk9MDsgaTxkYXRhc2V0cy5sZW5ndGg7IGkrKyl7JT48bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOjwlPWRhdGFzZXRzW2ldLnN0cm9rZUNvbG9yJT5cIj48L3NwYW4+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD4nLFxyXG4gIH0sXHJcblxyXG4gIGF0dHJpYnV0ZU1hcDoge1xyXG4gICAgY2hhcnRDb250ZW50OiB7XHJcbiAgICAgIG5vZGU6ICdjb250ZW50Tm9kZScsXHJcbiAgICAgIHR5cGU6ICdpbm5lckhUTUwnLFxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBjcmVhdGVDaGFydDogZnVuY3Rpb24gY3JlYXRlQ2hhcnQocmF3RGF0YSkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuXHJcbiAgICB0aGlzLnNob3dTZWFyY2hFeHByZXNzaW9uKCk7XHJcblxyXG4gICAgY29uc3QgbGFiZWxzID0gW107XHJcbiAgICBjb25zdCBzZXJpZXNEYXRhID0gYXJyYXkubWFwKHJhd0RhdGEsIGZ1bmN0aW9uIG1hcERhdGEoaXRlbSkge1xyXG4gICAgICBsYWJlbHMucHVzaChpdGVtLiRkZXNjcmlwdG9yKTtcclxuICAgICAgcmV0dXJuIE1hdGgucm91bmQoaXRlbS52YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBsYWJlbHM6IGxhYmVscyxcclxuICAgICAgZGF0YXNldHM6IFt7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0JyxcclxuICAgICAgICBzdHJva2VDb2xvcjogdGhpcy5saW5lQ29sb3IsXHJcbiAgICAgICAgcG9pbnRDb2xvcjogdGhpcy5wb2ludENvbG9yLFxyXG4gICAgICAgIGZpbGxDb2xvcjogdGhpcy5maWxsQ29sb3IsXHJcbiAgICAgICAgZGF0YTogc2VyaWVzRGF0YSxcclxuICAgICAgfV0sXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJveCA9IGRvbUdlby5nZXRNYXJnaW5Cb3godGhpcy5kb21Ob2RlKTtcclxuICAgIHRoaXMuY29udGVudE5vZGUud2lkdGggPSBib3gudztcclxuICAgIHRoaXMuY29udGVudE5vZGUuaGVpZ2h0ID0gYm94Lmg7XHJcblxyXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIHRoaXMuY2hhcnQgPSBuZXcgd2luZG93LkNoYXJ0KGN0eCkuTGluZShkYXRhLCB0aGlzLmNoYXJ0T3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcclxuICB9LFxyXG59KTtcclxuXHJcbmxhbmcuc2V0T2JqZWN0KCdNb2JpbGUuU2FsZXNMb2dpeC5WaWV3cy5DaGFydHMuR2VuZXJpY0xpbmUnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
