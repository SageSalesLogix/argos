<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Groups/Selector', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', 'argos/List', 'argos/Store/SData', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoString, _argosList, _argosStoreSData, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _string = _interopRequireDefault(_dojoString);

  var _List = _interopRequireDefault(_argosList);

  var _SDataStore = _interopRequireDefault(_argosStoreSData);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('groupsSelector');

<span id='crm-Views-Groups-Selector'>  /**
</span>   * @class crm.Views.Groups.Selector
   *
   * @extends argos.List
   * @requires argos.List
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Groups.Selector', [_List['default']], {
    id: 'groups_configure',
    expose: false,
    enableSearch: false,
    icon: '',

    listViewId: 'groups_list',
    family: '',

    // Localization
    titleText: resource.titleText,

    itemTemplate: new Simplate(['&lt;h3&gt;{%: $[$$.labelProperty] %}&lt;/h3&gt;']),

    constructor: function constructor() {
      this.tools = {
        tbar: []
      };
    },

    activateEntry: function activateEntry(params) {
      if (this._selectionModel &amp;&amp; this.isNavigationDisabled()) {
        this._selectionModel.toggle(params.key, this.entries[params.key] || params.descriptor, params.$source);
        if (this.options.singleSelect &amp;&amp; this.options.singleSelectAction) {
          this.invokeSingleSelectAction();
        }
      }
    },

    createStore: function createStore() {
      if (!this.family) {
        throw new Error('The groups selector must have a family set.');
      }

      return this.createGroupStore(this.family);
    },

    createGroupStore: function createGroupStore(entityName) {
      var store = null;

      if (typeof entityName === 'string' &amp;&amp; entityName !== '') {
        store = new _SDataStore['default']({
          service: App.services.crm,
          resourceKind: 'groups',
          contractName: 'system',
          where: &quot;upper(family) eq '&quot; + entityName.toUpperCase() + &quot;'&quot;,
          orderBy: 'name asc',
          include: ['layout', 'tableAliases'],
          idProperty: '$key',
          applicationName: 'slx',
          scope: this
        });
      }

      return store;
    },
    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('name like &quot;${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Groups.Selector', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9Hcm91cHMvU2VsZWN0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBT0EsTUFBTSxRQUFRLEdBQUcsNkJBQVksZ0JBQWdCLENBQUMsQ0FBQzs7Ozs7Ozs7O0FBUy9DLE1BQU0sT0FBTyxHQUFHLHlCQUFRLDJCQUEyQixFQUFFLGtCQUFNLEVBQUU7QUFDM0QsTUFBRSxFQUFFLGtCQUFrQjtBQUN0QixVQUFNLEVBQUUsS0FBSztBQUNiLGdCQUFZLEVBQUUsS0FBSztBQUNuQixRQUFJLEVBQUUsRUFBRTs7QUFFUixjQUFVLEVBQUUsYUFBYTtBQUN6QixVQUFNLEVBQUUsRUFBRTs7O0FBR1YsYUFBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTOztBQUU3QixnQkFBWSxFQUFFLElBQUksUUFBUSxDQUFDLENBQ3pCLHFDQUFxQyxDQUN0QyxDQUFDOztBQUVGLGVBQVcsRUFBRSxTQUFTLFdBQVcsR0FBRztBQUNsQyxVQUFJLENBQUMsS0FBSyxHQUFHO0FBQ1gsWUFBSSxFQUFFLEVBQUU7T0FDVCxDQUFDO0tBQ0g7O0FBRUQsaUJBQWEsRUFBRSxTQUFTLGFBQWEsQ0FBQyxNQUFNLEVBQUU7QUFDNUMsVUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxFQUFFO0FBQ3ZELFlBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkcsWUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFO0FBQ2hFLGNBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1NBQ2pDO09BQ0Y7S0FDRjs7QUFFRCxlQUFXLEVBQUUsU0FBUyxXQUFXLEdBQUc7QUFDbEMsVUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDaEIsY0FBTSxJQUFJLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO09BQ2hFOztBQUVELGFBQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMzQzs7QUFFRCxvQkFBZ0IsRUFBRSxTQUFTLGdCQUFnQixDQUFDLFVBQVUsRUFBRTtBQUN0RCxVQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRWpCLFVBQUksT0FBTyxVQUFVLEtBQUssUUFBUSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7QUFDdkQsYUFBSyxHQUFHLDJCQUFlO0FBQ3JCLGlCQUFPLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHO0FBQ3pCLHNCQUFZLEVBQUUsUUFBUTtBQUN0QixzQkFBWSxFQUFFLFFBQVE7QUFDdEIsZUFBSyxFQUFFLG9CQUFvQixHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUUsR0FBRyxHQUFHO0FBQzVELGlCQUFPLEVBQUUsVUFBVTtBQUNuQixpQkFBTyxFQUFFLENBQUMsUUFBUSxFQUFFLGNBQWMsQ0FBQztBQUNuQyxvQkFBVSxFQUFFLE1BQU07QUFDbEIseUJBQWUsRUFBRSxLQUFLO0FBQ3RCLGVBQUssRUFBRSxJQUFJO1NBQ1osQ0FBQyxDQUFDO09BQ0o7O0FBRUQsYUFBTyxLQUFLLENBQUM7S0FDZDtBQUNELHFCQUFpQixFQUFFLFNBQVMsaUJBQWlCLENBQUMsV0FBVyxFQUFFO0FBQ3pELGFBQU8sbUJBQU8sVUFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNwRztHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMseUNBQXlDLEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQ3BELE9BQU8iLCJmaWxlIjoic3JjL1ZpZXdzL0dyb3Vwcy9TZWxlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgc3RyaW5nIGZyb20gJ2Rvam8vc3RyaW5nJztcclxuaW1wb3J0IExpc3QgZnJvbSAnYXJnb3MvTGlzdCc7XHJcbmltcG9ydCBTRGF0YVN0b3JlIGZyb20gJ2FyZ29zL1N0b3JlL1NEYXRhJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnZ3JvdXBzU2VsZWN0b3InKTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgY3JtLlZpZXdzLkdyb3Vwcy5TZWxlY3RvclxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBhcmdvcy5MaXN0XHJcbiAqIEByZXF1aXJlcyBhcmdvcy5MaXN0XHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLkdyb3Vwcy5TZWxlY3RvcicsIFtMaXN0XSwge1xyXG4gIGlkOiAnZ3JvdXBzX2NvbmZpZ3VyZScsXHJcbiAgZXhwb3NlOiBmYWxzZSxcclxuICBlbmFibGVTZWFyY2g6IGZhbHNlLFxyXG4gIGljb246ICcnLFxyXG5cclxuICBsaXN0Vmlld0lkOiAnZ3JvdXBzX2xpc3QnLFxyXG4gIGZhbWlseTogJycsXHJcblxyXG4gIC8vIExvY2FsaXphdGlvblxyXG4gIHRpdGxlVGV4dDogcmVzb3VyY2UudGl0bGVUZXh0LFxyXG5cclxuICBpdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGgzPnslOiAkWyQkLmxhYmVsUHJvcGVydHldICV9PC9oMz4nLFxyXG4gIF0pLFxyXG5cclxuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRvb2xzID0ge1xyXG4gICAgICB0YmFyOiBbXSxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgYWN0aXZhdGVFbnRyeTogZnVuY3Rpb24gYWN0aXZhdGVFbnRyeShwYXJhbXMpIHtcclxuICAgIGlmICh0aGlzLl9zZWxlY3Rpb25Nb2RlbCAmJiB0aGlzLmlzTmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcclxuICAgICAgdGhpcy5fc2VsZWN0aW9uTW9kZWwudG9nZ2xlKHBhcmFtcy5rZXksIHRoaXMuZW50cmllc1twYXJhbXMua2V5XSB8fCBwYXJhbXMuZGVzY3JpcHRvciwgcGFyYW1zLiRzb3VyY2UpO1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNpbmdsZVNlbGVjdCAmJiB0aGlzLm9wdGlvbnMuc2luZ2xlU2VsZWN0QWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5pbnZva2VTaW5nbGVTZWxlY3RBY3Rpb24oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZVN0b3JlOiBmdW5jdGlvbiBjcmVhdGVTdG9yZSgpIHtcclxuICAgIGlmICghdGhpcy5mYW1pbHkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZ3JvdXBzIHNlbGVjdG9yIG11c3QgaGF2ZSBhIGZhbWlseSBzZXQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlR3JvdXBTdG9yZSh0aGlzLmZhbWlseSk7XHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlR3JvdXBTdG9yZTogZnVuY3Rpb24gY3JlYXRlR3JvdXBTdG9yZShlbnRpdHlOYW1lKSB7XHJcbiAgICBsZXQgc3RvcmUgPSBudWxsO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZW50aXR5TmFtZSA9PT0gJ3N0cmluZycgJiYgZW50aXR5TmFtZSAhPT0gJycpIHtcclxuICAgICAgc3RvcmUgPSBuZXcgU0RhdGFTdG9yZSh7XHJcbiAgICAgICAgc2VydmljZTogQXBwLnNlcnZpY2VzLmNybSxcclxuICAgICAgICByZXNvdXJjZUtpbmQ6ICdncm91cHMnLFxyXG4gICAgICAgIGNvbnRyYWN0TmFtZTogJ3N5c3RlbScsXHJcbiAgICAgICAgd2hlcmU6IFwidXBwZXIoZmFtaWx5KSBlcSAnXCIgKyBlbnRpdHlOYW1lLnRvVXBwZXJDYXNlKCkgKyBcIidcIixcclxuICAgICAgICBvcmRlckJ5OiAnbmFtZSBhc2MnLFxyXG4gICAgICAgIGluY2x1ZGU6IFsnbGF5b3V0JywgJ3RhYmxlQWxpYXNlcyddLFxyXG4gICAgICAgIGlkUHJvcGVydHk6ICcka2V5JyxcclxuICAgICAgICBhcHBsaWNhdGlvbk5hbWU6ICdzbHgnLFxyXG4gICAgICAgIHNjb3BlOiB0aGlzLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RvcmU7XHJcbiAgfSxcclxuICBmb3JtYXRTZWFyY2hRdWVyeTogZnVuY3Rpb24gZm9ybWF0U2VhcmNoUXVlcnkoc2VhcmNoUXVlcnkpIHtcclxuICAgIHJldHVybiBzdHJpbmcuc3Vic3RpdHV0ZSgnbmFtZSBsaWtlIFwiJHswfSVcIicsIFt0aGlzLmVzY2FwZVNlYXJjaFF1ZXJ5KHNlYXJjaFF1ZXJ5LnRvVXBwZXJDYXNlKCkpXSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnTW9iaWxlLlNhbGVzTG9naXguVmlld3MuR3JvdXBzLlNlbGVjdG9yJywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
