<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Calendar/WeekView', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/query', 'dojo/string', 'dojo/dom-construct', 'dojo/dom-class', 'argos/ErrorManager', 'argos/Convert', 'argos/List', 'argos/_LegacySDataListMixin', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoQuery, _dojoString, _dojoDomConstruct, _dojoDomClass, _argosErrorManager, _argosConvert, _argosList, _argos_LegacySDataListMixin, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _query = _interopRequireDefault(_dojoQuery);

  var _string = _interopRequireDefault(_dojoString);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _domClass = _interopRequireDefault(_dojoDomClass);

  var _ErrorManager = _interopRequireDefault(_argosErrorManager);

  var _convert = _interopRequireDefault(_argosConvert);

  var _List = _interopRequireDefault(_argosList);

  var _LegacySDataListMixin2 = _interopRequireDefault(_argos_LegacySDataListMixin);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('calendarWeekView');
  var dtFormatResource = (0, _getResource['default'])('calendarWeekViewDateTimeFormat');

<span id='crm-Views-Calendar-WeekView'>  /**
</span>   * @class crm.Views.Calendar.WeekView
   *
   * @extends argos.List
   * @mixins argos.List
   * @mixins argos._LegacySDataListMixin
   *
   * @requires argos.List
   * @requires argos._LegacySDataListMixin
   * @requires argos.Convert
   * @requires argos.ErrorManager
   *
   * @requires crm.Format
   *
   * @requires moment
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Calendar.WeekView', [_List['default'], _LegacySDataListMixin2['default']], {
    // Localization
    titleText: resource.titleText,
    weekTitleFormatText: dtFormatResource.weekTitleFormatText,
    dayHeaderLeftFormatText: dtFormatResource.dayHeaderLeftFormatText,
    dayHeaderRightFormatText: dtFormatResource.dayHeaderRightFormatText,
    eventDateFormatText: dtFormatResource.eventDateFormatText,
    startTimeFormatText: dtFormatResource.startTimeFormatText,
    todayText: resource.todayText,
    dayText: resource.dayText,
    weekText: resource.weekText,
    monthText: resource.monthText,
    allDayText: resource.allDayText,
    eventHeaderText: resource.eventHeaderText,
    eventMoreText: resource.eventMoreText,
    toggleCollapseText: resource.toggleCollapseText,

    toggleCollapseClass: 'fa fa-chevron-down',
    toggleExpandClass: 'fa fa-chevron-right',
    enablePullToRefresh: false,

    // Templates
    widgetTemplate: new Simplate(['&lt;div id=&quot;{%= $.id %}&quot; title=&quot;{%= $.titleText %}&quot; class=&quot;overthrow {%= $.cls %}&quot; {% if ($.resourceKind) { %}data-resource-kind=&quot;{%= $.resourceKind %}&quot;{% } %}&gt;', '&lt;div data-dojo-attach-point=&quot;searchNode&quot;&gt;&lt;/div&gt;', '{%! $.navigationTemplate %}', '&lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;event-content event-hidden&quot; data-dojo-attach-point=&quot;eventContainerNode&quot;&gt;', '&lt;h2 data-action=&quot;toggleGroup&quot;&gt;&lt;button data-dojo-attach-point=&quot;collapseButton&quot; class=&quot;{%= $$.toggleCollapseClass %}&quot; aria-label=&quot;{%: $$.toggleCollapseText %}&quot;&gt;&lt;/button&gt;{%= $.eventHeaderText %}&lt;/h2&gt;', '&lt;ul class=&quot;list-content&quot; data-dojo-attach-point=&quot;eventContentNode&quot;&gt;&lt;/ul&gt;', '{%! $.eventMoreTemplate %}', '&lt;/div&gt;', '&lt;div class=&quot;list-content&quot; data-dojo-attach-point=&quot;contentNode&quot;&gt;&lt;/div&gt;', '{%! $.moreTemplate %}', '&lt;/div&gt;']),
    navigationTemplate: new Simplate(['&lt;div class=&quot;split-buttons&quot;&gt;', '&lt;button data-tool=&quot;today&quot; data-action=&quot;getThisWeekActivities&quot; class=&quot;button&quot;&gt;{%: $.todayText %}&lt;/button&gt;', '&lt;button data-tool=&quot;selectdate&quot; data-action=&quot;selectDate&quot; class=&quot;button fa fa-calendar&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/button&gt;', '&lt;button data-tool=&quot;day&quot; data-action=&quot;navigateToDayView&quot; class=&quot;button&quot;&gt;{%: $.dayText %}&lt;/button&gt;', '&lt;button data-tool=&quot;week&quot; class=&quot;button current&quot;&gt;{%: $.weekText %}&lt;/button&gt;', '&lt;button data-tool=&quot;month&quot; data-action=&quot;navigateToMonthView&quot; class=&quot;button&quot;&gt;{%: $.monthText %}&lt;/button&gt;', '&lt;/div&gt;', '&lt;div class=&quot;nav-bar&quot;&gt;', '&lt;button data-tool=&quot;next&quot; data-action=&quot;getNextWeekActivities&quot; class=&quot;button button-next fa fa-arrow-right fa-lg&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/button&gt;', '&lt;button data-tool=&quot;prev&quot; data-action=&quot;getPrevWeekActivities&quot; class=&quot;button button-prev fa fa-arrow-left fa-lg&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/button&gt;', '&lt;h3 class=&quot;date-text&quot; data-dojo-attach-point=&quot;dateNode&quot;&gt;&lt;/h3&gt;', '&lt;/div&gt;']),
    groupTemplate: new Simplate(['&lt;h2 data-action=&quot;activateDayHeader&quot; class=&quot;dayHeader {%= $.headerClass %}&quot; data-date=&quot;{%: moment($.StartDate).format(\'YYYY-MM-DD\') %}&quot;&gt;', '&lt;span class=&quot;dayHeaderLeft&quot;&gt;{%: moment($.StartDate).format($$.dayHeaderLeftFormatText) %}&lt;/span&gt;', '&lt;span class=&quot;dayHeaderRight&quot;&gt;{%: moment($.StartDate).format($$.dayHeaderRightFormatText) %}&lt;/span&gt;', '&lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;', '&lt;/h2&gt;', '&lt;ul class=&quot;list-content&quot;&gt;']),
    groupEndTemplate: new Simplate(['&lt;/ul&gt;']),
    rowTemplate: new Simplate(['&lt;li data-action=&quot;activateEntry&quot; data-key=&quot;{%= $.$key %}&quot; data-descriptor=&quot;{%: $.$descriptor %}&quot; data-activity-type=&quot;{%: $.Type %}&quot;&gt;', '&lt;table class=&quot;calendar-entry-table&quot;&gt;&lt;tr&gt;', '&lt;td class=&quot;entry-table-icon&quot;&gt;', '&lt;button data-action=&quot;selectEntry&quot; class=&quot;list-item-selector button {%= $$.activityIconByType[$.Type] %}&quot;&gt;', '&lt;/button&gt;', '&lt;/td&gt;', '&lt;td class=&quot;entry-table-time&quot;&gt;{%! $$.timeTemplate %}&lt;/td&gt;', '&lt;td class=&quot;entry-table-description&quot;&gt;{%! $$.itemTemplate %}&lt;/td&gt;', '&lt;/tr&gt;&lt;/table&gt;', '&lt;/li&gt;']),
    eventRowTemplate: new Simplate(['&lt;li data-action=&quot;activateEntry&quot; data-key=&quot;{%= $.$key %}&quot; data-descriptor=&quot;{%: $.$descriptor %}&quot; data-activity-type=&quot;Event&quot;&gt;', '&lt;table class=&quot;calendar-entry-table&quot;&gt;&lt;tr&gt;', '&lt;td class=&quot;entry-table-icon&quot;&gt;', '&lt;button data-action=&quot;selectEntry&quot; class=&quot;list-item-selector button {%= $$.eventIcon %}&quot;&gt;', '&lt;/button&gt;', '&lt;/td&gt;', '&lt;td class=&quot;entry-table-description&quot;&gt;{%! $$.eventItemTemplate %}&lt;/td&gt;', '&lt;/tr&gt;&lt;/table&gt;', '&lt;/li&gt;']),
    timeTemplate: new Simplate(['{% if ($.Timeless) { %}', '&lt;span class=&quot;p-time&quot;&gt;{%= $$.allDayText %}&lt;/span&gt;', '{% } else { %}', '&lt;span class=&quot;p-time&quot;&gt;{%: crm.Format.date($.StartDate, $$.startTimeFormatText) %}&lt;/span&gt;', '{% } %}']),
    itemTemplate: new Simplate(['&lt;h3 class=&quot;p-description&quot;&gt;{%: $.Description %}&lt;/h3&gt;', '&lt;h4&gt;{%= $$.nameTemplate.apply($) %}&lt;/h4&gt;']),
    eventItemTemplate: new Simplate(['&lt;h3 class=&quot;p-description&quot;&gt;{%: $.Description %} ({%: $.Type %})&lt;/h3&gt;', '&lt;h4&gt;{%! $$.eventNameTemplate %}&lt;/h4&gt;']),
    nameTemplate: new Simplate(['{% if ($.ContactName) { %}', '{%: $.ContactName %} / {%: $.AccountName %}', '{% } else if ($.AccountName) { %}', '{%: $.AccountName %}', '{% } else { %}', '{%: $.LeadName %}', '{% } %}']),
    eventNameTemplate: new Simplate(['{%: moment($.StartDate).format($$.eventDateFormatText) %}', '&amp;nbsp;-&amp;nbsp;', '{%: moment($.EndDate).format($$.eventDateFormatText) %}']),
    eventMoreTemplate: new Simplate(['&lt;div class=&quot;list-more&quot; data-dojo-attach-point=&quot;eventMoreNode&quot;&gt;', '&lt;button class=&quot;button&quot; data-action=&quot;activateEventMore&quot;&gt;', '&lt;span data-dojo-attach-point=&quot;eventRemainingContentNode&quot;&gt;{%= $$.eventMoreText %}&lt;/span&gt;', '&lt;/button&gt;', '&lt;/div&gt;']),
    noDataTemplate: new Simplate(['&lt;div class=&quot;no-data&quot;&gt;&lt;h3&gt;{%= $.noDataText %}&lt;/h3&gt;&lt;/div&gt;']),
    eventRemainingContentNode: null,
    eventContentNode: null,
    attributeMap: {
      listContent: {
        node: 'contentNode',
        type: 'innerHTML'
      },
      dateContent: {
        node: 'dateNode',
        type: 'innerHTML'
      },
      eventListContent: {
        node: 'eventContentNode',
        type: 'innerHTML'
      },
      eventRemainingContent: {
        node: 'eventRemainingContentNode',
        type: 'innerHTML'
      },
      remainingContent: {
        node: 'remainingContentNode',
        type: 'innerHTML'
      }
    },

    // View Properties
    id: 'calendar_weeklist',
    cls: 'list activities-for-week',
    activityDetailView: 'activity_detail',
    eventDetailView: 'event_detail',
    monthView: 'calendar_monthlist',
    datePickerView: 'generic_calendar',
    activityListView: 'calendar_daylist',
    insertView: 'activity_types_list',
    currentDate: null,
    enableSearch: false,
    expose: false,
    entryGroups: {},
    weekStartDate: null,
    weekEndDate: null,
    todayDate: null,
    continuousScrolling: false,

    queryWhere: null,
    queryOrderBy: 'StartDate desc',
    querySelect: ['Description', 'StartDate', 'Type', 'AccountName', 'ContactName', 'LeadId', 'LeadName', 'UserId', 'Timeless'],
    eventQuerySelect: ['StartDate', 'EndDate', 'Description', 'Type'],
    activityIconByType: {
      'atToDo': 'fa fa-list-ul',
      'atPhoneCall': 'fa fa-phone',
      'atAppointment': 'fa fa-calendar-o',
      'atLiterature': 'fa fa-calendar-o',
      'atPersonal': 'fa fa-check-square-o',
      'atQuestion': 'fa fa-question',
      'atNote': 'fa fa-calendar-o',
      'atEMail': 'fa fa-envelope'
    },
    eventIcon: 'fa fa-calendar-o',

    contractName: 'system',
    pageSize: 105, // gives 15 activities per day
    eventPageSize: 5,
    resourceKind: 'activities',

    _onRefresh: function _onRefresh(o) {
      this.inherited(arguments);
      if (o.resourceKind === 'activities' || o.resourceKind === 'events') {
        this.refreshRequired = true;
      }
    },
    init: function init() {
      this.inherited(arguments);
      this.todayDate = moment().startOf('day');
      this.currentDate = this.todayDate.clone();
    },
    toggleGroup: function toggleGroup(params) {
      var node = params.$source;
      if (node &amp;&amp; node.parentNode) {
        _domClass['default'].toggle(node, 'collapsed');
        _domClass['default'].toggle(node.parentNode, 'collapsed-event');

        var button = this.collapseButton;

        if (button) {
          _domClass['default'].toggle(button, this.toggleCollapseClass);
          _domClass['default'].toggle(button, this.toggleExpandClass);
        }
      }
    },
    activateDayHeader: function activateDayHeader(params) {
      this.currentDate = moment(params.date, 'YYYY-MM-DD');
      this.navigateToDayView();
    },
    getThisWeekActivities: function getThisWeekActivities() {
      if (!this.isInCurrentWeek(this.todayDate)) {
        this.currentDate = this.todayDate.clone();
        this.refresh();
      }
    },
    getStartDay: function getStartDay(date) {
      return date.clone().startOf('week');
    },
    getEndDay: function getEndDay(date) {
      return date.clone().endOf('week');
    },
    getNextWeekActivities: function getNextWeekActivities() {
      this.currentDate = this.getStartDay(this.weekEndDate.clone().add({
        days: 1
      }));
      this.refresh();
    },
    getPrevWeekActivities: function getPrevWeekActivities() {
      this.currentDate = this.getStartDay(this.weekStartDate.clone().subtract({
        days: 1
      }));
      this.refresh();
    },
    setWeekQuery: function setWeekQuery() {
      var setDate = this.currentDate || this.todayDate;
      this.weekStartDate = this.getStartDay(setDate);
      this.weekEndDate = this.getEndDay(setDate);
      this.queryWhere = _string['default'].substitute(['UserActivities.UserId eq &quot;${0}&quot; and Type ne &quot;atLiterature&quot; and (', '(Timeless eq false and StartDate between @${1}@ and @${2}@) or ', '(Timeless eq true and StartDate between @${3}@ and @${4}@))'].join(''), [App.context.user &amp;&amp; App.context.user.$key, _convert['default'].toIsoStringFromDate(this.weekStartDate.toDate()), _convert['default'].toIsoStringFromDate(this.weekEndDate.toDate()), this.weekStartDate.format('YYYY-MM-DDT00:00:00[Z]'), this.weekEndDate.format('YYYY-MM-DDT23:59:59[Z]')]);
    },
    setWeekTitle: function setWeekTitle() {
      var start = this.getStartDay(this.currentDate);
      var end = this.getEndDay(this.currentDate);

      this.set('dateContent', _string['default'].substitute('${0}-${1}', [start.format(this.weekTitleFormatText), end.format(this.weekTitleFormatText)]));
    },
    isInCurrentWeek: function isInCurrentWeek(date) {
      return date.valueOf() &gt; this.weekStartDate.valueOf() &amp;&amp; date.valueOf() &lt; this.weekEndDate.valueOf();
    },
    processFeed: function processFeed(feed) {
      this.feed = feed;

      var todayNode = this.addTodayDom();
      var entryGroups = this.entryGroups;
      var feedLength = feed.$resources.length;
      var entryOrder = [];
      var dateCompareString = 'YYYY-MM-DD';
      var o = [];
      this.set('listContent', '');

      // If we fetched a page that has no data due to un-reliable counts,
      // check if we fetched anything in the previous pages before assuming there is no data.
      if (feedLength === 0 &amp;&amp; Object.keys(this.entries).length === 0) {
        (0, _query['default'])(this.contentNode).append(this.noDataTemplate.apply(this));
      } else if (feed.$resources) {
        if (todayNode &amp;&amp; !entryGroups[this.todayDate.format(dateCompareString)]) {
          entryGroups[this.todayDate.format(dateCompareString)] = [todayNode];
        }

        for (var i = 0; i &lt; feed.$resources.length; i++) {
          var currentEntry = feed.$resources[i];
          var startDate = _convert['default'].toDateFromString(currentEntry.StartDate);
          if (currentEntry.Timeless) {
            startDate = this.dateToUTC(startDate);
          }
          currentEntry.StartDate = startDate;
          currentEntry.isEvent = false;
          this.entries[currentEntry.$key] = currentEntry;

          var currentDateCompareKey = moment(currentEntry.StartDate).format(dateCompareString);
          var currentGroup = entryGroups[currentDateCompareKey];
          if (currentGroup) {
            if (currentEntry.Timeless) {
              currentGroup.splice(1, 0, this.rowTemplate.apply(currentEntry, this));
            } else {
              currentGroup.push(this.rowTemplate.apply(currentEntry, this));
            }
            continue;
          }
          currentGroup = [this.groupTemplate.apply(currentEntry, this)];
          currentGroup.push(this.rowTemplate.apply(currentEntry, this));
          entryGroups[currentDateCompareKey] = currentGroup;
        }

        for (var entryGroup in entryGroups) {
          if (entryGroups.hasOwnProperty(entryGroup)) {
            entryOrder.push(moment(entryGroup, dateCompareString));
          }
        }

        entryOrder.sort(function sortEntryOrder(a, b) {
          if (a.valueOf() &lt; b.valueOf()) {
            return 1;
          } else if (a.valueOf() &gt; b.valueOf()) {
            return -1;
          }

          return 0;
        });

        var entryOrderLength = entryOrder.length;
        for (var i = 0; i &lt; entryOrderLength; i++) {
          o.push(entryGroups[entryOrder[i].format(dateCompareString)].join('') + this.groupEndTemplate.apply(this));
        }

        if (o.length &gt; 0) {
          this.set('listContent', o.join(''));
        }
      }

      this.set('remainingContent', ''); // Feed does not return reliable data, don't show remaining

      _domClass['default'].toggle(this.domNode, 'list-has-more', this.hasMoreData());
      this._loadPreviousSelections();
    },
    addTodayDom: function addTodayDom() {
      if (!this.isInCurrentWeek(this.todayDate)) {
        return null;
      }

      var todayEntry = {
        StartDate: this.todayDate.toDate(),
        headerClass: 'currentDate'
      };

      return this.groupTemplate.apply(todayEntry, this);
    },
    dateToUTC: function dateToUTC(date) {
      return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());
    },
    requestEventData: function requestEventData() {
      var request = this.createEventRequest();
      request.read({
        success: this.onRequestEventDataSuccess,
        failure: this.onRequestEventDataFailure,
        aborted: this.onRequestEventDataAborted,
        scope: this
      });
    },
    onRequestEventDataFailure: function onRequestEventDataFailure(response, o) {
      alert(_string['default'].substitute(this.requestErrorText, [response, o])); // eslint-disable-line
      _ErrorManager['default'].addError(response, o, this.options, 'failure');
    },
    onRequestEventDataAborted: function onRequestEventDataAborted() {
      this.options = false; // force a refresh
    },
    onRequestEventDataSuccess: function onRequestEventDataSuccess(feed) {
      this.processEventFeed(feed);
    },
    createEventRequest: function createEventRequest() {
      var querySelect = this.eventQuerySelect;
      var queryWhere = this.getEventQuery();
      var request = new Sage.SData.Client.SDataResourceCollectionRequest(this.getService()).setCount(this.eventPageSize).setStartIndex(1).setResourceKind('events').setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Select, this.expandExpression(querySelect).join(',')).setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Where, queryWhere);
      return request;
    },
    getEventQuery: function getEventQuery() {
      var startDate = this.weekStartDate;
      var endDate = this.weekEndDate;
      return _string['default'].substitute(['UserId eq &quot;${0}&quot; and (', '(StartDate gt @${1}@ or EndDate gt @${1}@) and ', 'StartDate lt @${2}@', ')'].join(''), [App.context.user &amp;&amp; App.context.user.$key, startDate.format('YYYY-MM-DDT00:00:00[Z]'), endDate.format('YYYY-MM-DDT23:59:59[Z]')]);
    },
    hideEventList: function hideEventList() {
      _domClass['default'].add(this.eventContainerNode, 'event-hidden');
    },
    showEventList: function showEventList() {
      _domClass['default'].remove(this.eventContainerNode, 'event-hidden');
    },
    processEventFeed: function processEventFeed(feed) {
      var o = [];
      var feedLength = feed.$resources.length;

      if (feedLength === 0) {
        this.hideEventList();
        return false;
      }

      this.showEventList();

      for (var i = 0; i &lt; feedLength; i++) {
        var _event = feed.$resources[i];
        _event.isEvent = true;
        _event.StartDate = moment(_convert['default'].toDateFromString(_event.StartDate));
        _event.EndDate = moment(_convert['default'].toDateFromString(_event.EndDate));
        this.entries[_event.$key] = _event;
        o.push(this.eventRowTemplate.apply(_event, this));
      }

      if (feed.$totalResults &gt; feedLength) {
        _domClass['default'].add(this.eventContainerNode, 'list-has-more');
        this.set('eventRemainingContent', _string['default'].substitute(this.eventMoreText, [feed.$totalResults - feedLength]));
      } else {
        _domClass['default'].remove(this.eventContainerNode, 'list-has-more');
        _domConstruct['default'].empty(this.eventRemainingContentNode);
      }

      this.set('eventListContent', o.join(''));
    },
    refresh: function refresh() {
      var startDate = this.currentDate.clone();
      this.currentDate = startDate.clone();
      this.weekStartDate = this.getStartDay(startDate);
      this.weekEndDate = this.getEndDay(startDate);
      this.setWeekTitle();
      this.setWeekQuery();

      this.clear();
      this.requestData();
      this.requestEventData();
    },
    show: function show(options) {
      if (options) {
        this.processShowOptions(options);
      }

      this.inherited(arguments);
    },
    processShowOptions: function processShowOptions(options) {
      if (options.currentDate) {
        this.currentDate = moment(options.currentDate).startOf('day') || moment().startOf('day');
        this.refreshRequired = true;
      }
    },
    activateEventMore: function activateEventMore() {
      var view = App.getView('event_related');
      var where = this.getEventQuery();
      if (view) {
        view.show({
          'where': where
        });
      }
    },
    clear: function clear() {
      this.inherited(arguments);
      this.entryGroups = {};
      this.set('eventContent', '');
      this.set('listContent', this.loadingTemplate.apply(this));
    },
    selectEntry: function selectEntry(params) {
      var row = (0, _query['default'])(params.$source).closest('[data-key]')[0];
      var key = row ? row.getAttribute('data-key') : false;

      this.navigateToDetailView(key);
    },
    selectDate: function selectDate() {
      var options = {
        date: this.currentDate.toDate(),
        showTimePicker: false,
        timeless: false,
        tools: {
          tbar: [{
            id: 'complete',
            cls: 'fa fa-check fa-fw fa-lg',
            fn: this.selectDateSuccess,
            scope: this
          }, {
            id: 'cancel',
            cls: 'fa fa-ban fa-fw fa-lg',
            side: 'left',
            fn: ReUI.back,
            scope: ReUI
          }]
        }
      };
      var view = App.getView(this.datePickerView);
      if (view) {
        view.show(options);
      }
    },
    selectDateSuccess: function selectDateSuccess() {
      var view = App.getPrimaryActiveView();
      this.currentDate = moment(view.getDateTime()).startOf('day');
      this.refresh();
      ReUI.back();
    },
    navigateToDayView: function navigateToDayView() {
      var view = App.getView(this.activityListView);
      var options = {
        currentDate: this.currentDate.toDate().valueOf() || moment().startOf('day').valueOf()
      };
      view.show(options);
    },
    navigateToMonthView: function navigateToMonthView() {
      var view = App.getView(this.monthView);
      var options = {
        currentDate: this.currentDate.toDate().valueOf() || moment().startOf('day').valueOf()
      };
      view.show(options);
    },
    navigateToInsertView: function navigateToInsertView() {
      var view = App.getView(this.insertView || this.editView);

      this.options.currentDate = this.currentDate.format('YYYY-MM-DD') || moment().startOf('day');
      if (view) {
        view.show({
          negateHistory: true,
          returnTo: this.id,
          insert: true,
          currentDate: this.options.currentDate.valueOf()
        });
      }
    },
    navigateToDetailView: function navigateToDetailView(key, descriptor) {
      var entry = this.entries[key];
      var detailView = entry.isEvent ? this.eventDetailView : this.activityDetailView;
      var view = App.getView(detailView);

      var theDescriptor = entry.isEvent ? descriptor : entry.Description;

      if (view) {
        view.show({
          title: theDescriptor,
          key: key
        });
      }
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Calendar.WeekView', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9DYWxlbmRhci9XZWVrVmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWUEsTUFBTSxRQUFRLEdBQUcsNkJBQVksa0JBQWtCLENBQUMsQ0FBQztBQUNqRCxNQUFNLGdCQUFnQixHQUFHLDZCQUFZLGdDQUFnQyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQnZFLE1BQU0sT0FBTyxHQUFHLHlCQUFRLDZCQUE2QixFQUFFLHFEQUE2QixFQUFFOztBQUVwRixhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsdUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsbUJBQW1CO0FBQ3pELDJCQUF1QixFQUFFLGdCQUFnQixDQUFDLHVCQUF1QjtBQUNqRSw0QkFBd0IsRUFBRSxnQkFBZ0IsQ0FBQyx3QkFBd0I7QUFDbkUsdUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsbUJBQW1CO0FBQ3pELHVCQUFtQixFQUFFLGdCQUFnQixDQUFDLG1CQUFtQjtBQUN6RCxhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsV0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPO0FBQ3pCLFlBQVEsRUFBRSxRQUFRLENBQUMsUUFBUTtBQUMzQixhQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7QUFDN0IsY0FBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVO0FBQy9CLG1CQUFlLEVBQUUsUUFBUSxDQUFDLGVBQWU7QUFDekMsaUJBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtBQUNyQyxzQkFBa0IsRUFBRSxRQUFRLENBQUMsa0JBQWtCOztBQUUvQyx1QkFBbUIsRUFBRSxvQkFBb0I7QUFDekMscUJBQWlCLEVBQUUscUJBQXFCO0FBQ3hDLHVCQUFtQixFQUFFLEtBQUs7OztBQUcxQixrQkFBYyxFQUFFLElBQUksUUFBUSxDQUFDLENBQzNCLCtKQUErSixFQUMvSixpREFBaUQsRUFDakQsNkJBQTZCLEVBQzdCLGdDQUFnQyxFQUNo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QUNaLHFCQUFXLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFO1NBQ2hELENBQUMsQ0FBQztPQUNKO0tBQ0Y7QUFDRCx3QkFBb0IsRUFBRSxTQUFTLG9CQUFvQixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUU7QUFDbkUsVUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxVQUFNLFVBQVUsR0FBRyxBQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUksSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7QUFDcEYsVUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFckMsVUFBTSxhQUFhLEdBQUcsQUFBQyxLQUFLLENBQUMsT0FBTyxHQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOztBQUV2RSxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxJQUFJLENBQUM7QUFDUixlQUFLLEVBQUUsYUFBYTtBQUNwQixhQUFHLEVBQUUsR0FBRztTQUNULENBQUMsQ0FBQztPQUNKO0tBQ0Y7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLDJDQUEyQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUN0RCxPQUFPIiwiZmlsZSI6InNyYy9WaWV3cy9DYWxlbmRhci9XZWVrVmlldy5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgbGFuZyBmcm9tICdkb2pvL19iYXNlL2xhbmcnO1xyXG5pbXBvcnQgcXVlcnkgZnJvbSAnZG9qby9xdWVyeSc7XHJcbmltcG9ydCBzdHJpbmcgZnJvbSAnZG9qby9zdHJpbmcnO1xyXG5pbXBvcnQgZG9tQ29uc3RydWN0IGZyb20gJ2Rvam8vZG9tLWNvbnN0cnVjdCc7XHJcbmltcG9ydCBkb21DbGFzcyBmcm9tICdkb2pvL2RvbS1jbGFzcyc7XHJcbmltcG9ydCBFcnJvck1hbmFnZXIgZnJvbSAnYXJnb3MvRXJyb3JNYW5hZ2VyJztcclxuaW1wb3J0IGNvbnZlcnQgZnJvbSAnYXJnb3MvQ29udmVydCc7XHJcbmltcG9ydCBMaXN0IGZyb20gJ2FyZ29zL0xpc3QnO1xyXG5pbXBvcnQgX0xlZ2FjeVNEYXRhTGlzdE1peGluIGZyb20gJ2FyZ29zL19MZWdhY3lTRGF0YUxpc3RNaXhpbic7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2NhbGVuZGFyV2Vla1ZpZXcnKTtcclxuY29uc3QgZHRGb3JtYXRSZXNvdXJjZSA9IGdldFJlc291cmNlKCdjYWxlbmRhcldlZWtWaWV3RGF0ZVRpbWVGb3JtYXQnKTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgY3JtLlZpZXdzLkNhbGVuZGFyLldlZWtWaWV3XHJcbiAqXHJcbiAqIEBleHRlbmRzIGFyZ29zLkxpc3RcclxuICogQG1peGlucyBhcmdvcy5MaXN0XHJcbiAqIEBtaXhpbnMgYXJnb3MuX0xlZ2FjeVNEYXRhTGlzdE1peGluXHJcbiAqXHJcbiAqIEByZXF1aXJlcyBhcmdvcy5MaXN0XHJcbiAqIEByZXF1aXJlcyBhcmdvcy5fTGVnYWN5U0RhdGFMaXN0TWl4aW5cclxuICogQHJlcXVpcmVzIGFyZ29zLkNvbnZlcnRcclxuICogQHJlcXVpcmVzIGFyZ29zLkVycm9yTWFuYWdlclxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgY3JtLkZvcm1hdFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgbW9tZW50XHJcbiAqXHJcbiAqL1xyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLlZpZXdzLkNhbGVuZGFyLldlZWtWaWV3JywgW0xpc3QsIF9MZWdhY3lTRGF0YUxpc3RNaXhpbl0sIHtcclxuICAvLyBMb2NhbGl6YXRpb25cclxuICB0aXRsZVRleHQ6IHJlc291cmNlLnRpdGxlVGV4dCxcclxuICB3ZWVrVGl0bGVGb3JtYXRUZXh0OiBkdEZvcm1hdFJlc291cmNlLndlZWtUaXRsZUZvcm1hdFRleHQsXHJcbiAgZGF5SGVhZGVyTGVmdEZvcm1hdFRleHQ6IGR0Rm9ybWF0UmVzb3VyY2UuZGF5SGVhZGVyTGVmdEZvcm1hdFRleHQsXHJcbiAgZGF5SGVhZGVyUmlnaHRGb3JtYXRUZXh0OiBkdEZvcm1hdFJlc291cmNlLmRheUhlYWRlclJpZ2h0Rm9ybWF0VGV4dCxcclxuICBldmVudERhdGVGb3JtYXRUZXh0OiBkdEZvcm1hdFJlc291cmNlLmV2ZW50RGF0ZUZvcm1hdFRleHQsXHJcbiAgc3RhcnRUaW1lRm9ybWF0VGV4dDogZHRGb3JtYXRSZXNvdXJjZS5zdGFydFRpbWVGb3JtYXRUZXh0LFxyXG4gIHRvZGF5VGV4dDogcmVzb3VyY2UudG9kYXlUZXh0LFxyXG4gIGRheVRleHQ6IHJlc291cmNlLmRheVRleHQsXHJcbiAgd2Vla1RleHQ6IHJlc291cmNlLndlZWtUZXh0LFxyXG4gIG1vbnRoVGV4dDogcmVzb3VyY2UubW9udGhUZXh0LFxyXG4gIGFsbERheVRleHQ6IHJlc291cmNlLmFsbERheVRleHQsXHJcbiAgZXZlbnRIZWFkZXJUZXh0OiByZXNvdXJjZS5ldmVudEhlYWRlclRleHQsXHJcbiAgZXZlbnRNb3JlVGV4dDogcmVzb3VyY2UuZXZlbnRNb3JlVGV4dCxcclxuICB0b2dnbGVDb2xsYXBzZVRleHQ6IHJlc291cmNlLnRvZ2dsZUNvbGxhcHNlVGV4dCxcclxuXHJcbiAgdG9nZ2xlQ29sbGFwc2VDbGFzczogJ2ZhIGZhLWNoZXZyb24tZG93bicsXHJcbiAgdG9nZ2xlRXhwYW5kQ2xhc3M6ICdmYSBmYS1jaGV2cm9uLXJpZ2h0JyxcclxuICBlbmFibGVQdWxsVG9SZWZyZXNoOiBmYWxzZSxcclxuXHJcbiAgLy8gVGVtcGxhdGVzXHJcbiAgd2lkZ2V0VGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBpZD1cInslPSAkLmlkICV9XCIgdGl0bGU9XCJ7JT0gJC50aXRsZVRleHQgJX1cIiBjbGFzcz1cIm92ZXJ0aHJvdyB7JT0gJC5jbHMgJX1cIiB7JSBpZiAoJC5yZXNvdXJjZUtpbmQpIHsgJX1kYXRhLXJlc291cmNlLWtpbmQ9XCJ7JT0gJC5yZXNvdXJjZUtpbmQgJX1cInslIH0gJX0+JyxcclxuICAgICc8ZGl2IGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJzZWFyY2hOb2RlXCI+PC9kaXY+JyxcclxuICAgICd7JSEgJC5uYXZpZ2F0aW9uVGVtcGxhdGUgJX0nLFxyXG4gICAgJzxkaXYgc3R5bGU9XCJjbGVhcjpib3RoXCI+PC9kaXY+JyxcclxuICAgICc8ZGl2IGNsYXNzPVwiZXZlbnQtY29udGVudCBldmVudC1oaWRkZW5cIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiZXZlbnRDb250YWluZXJOb2RlXCI+JyxcclxuICAgICc8aDIgZGF0YS1hY3Rpb249XCJ0b2dnbGVHcm91cFwiPjxidXR0b24gZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cImNvbGxhcHNlQnV0dG9uXCIgY2xhc3M9XCJ7JT0gJCQudG9nZ2xlQ29sbGFwc2VDbGFzcyAlfVwiIGFyaWEtbGFiZWw9XCJ7JTogJCQudG9nZ2xlQ29sbGFwc2VUZXh0ICV9XCI+PC9idXR0b24+eyU9ICQuZXZlbnRIZWFkZXJUZXh0ICV9PC9oMj4nLFxyXG4gICAgJzx1bCBjbGFzcz1cImxpc3QtY29udGVudFwiIGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJldmVudENvbnRlbnROb2RlXCI+PC91bD4nLFxyXG4gICAgJ3slISAkLmV2ZW50TW9yZVRlbXBsYXRlICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LWNvbnRlbnRcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiY29udGVudE5vZGVcIj48L2Rpdj4nLFxyXG4gICAgJ3slISAkLm1vcmVUZW1wbGF0ZSAlfScsXHJcbiAgICAnPC9kaXY+JyxcclxuICBdKSxcclxuICBuYXZpZ2F0aW9uVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBjbGFzcz1cInNwbGl0LWJ1dHRvbnNcIj4nLFxyXG4gICAgJzxidXR0b24gZGF0YS10b29sPVwidG9kYXlcIiBkYXRhLWFjdGlvbj1cImdldFRoaXNXZWVrQWN0aXZpdGllc1wiIGNsYXNzPVwiYnV0dG9uXCI+eyU6ICQudG9kYXlUZXh0ICV9PC9idXR0b24+JyxcclxuICAgICc8YnV0dG9uIGRhdGEtdG9vbD1cInNlbGVjdGRhdGVcIiBkYXRhLWFjdGlvbj1cInNlbGVjdERhdGVcIiBjbGFzcz1cImJ1dHRvbiBmYSBmYS1jYWxlbmRhclwiPjxzcGFuPjwvc3Bhbj48L2J1dHRvbj4nLFxyXG4gICAgJzxidXR0b24gZGF0YS10b29sPVwiZGF5XCIgZGF0YS1hY3Rpb249XCJuYXZpZ2F0ZVRvRGF5Vmlld1wiIGNsYXNzPVwiYnV0dG9uXCI+eyU6ICQuZGF5VGV4dCAlfTwvYnV0dG9uPicsXHJcbiAgICAnPGJ1dHRvbiBkYXRhLXRvb2w9XCJ3ZWVrXCIgY2xhc3M9XCJidXR0b24gY3VycmVudFwiPnslOiAkLndlZWtUZXh0ICV9PC9idXR0b24+JyxcclxuICAgICc8YnV0dG9uIGRhdGEtdG9vbD1cIm1vbnRoXCIgZGF0YS1hY3Rpb249XCJuYXZpZ2F0ZVRvTW9udGhWaWV3XCIgY2xhc3M9XCJidXR0b25cIj57JTogJC5tb250aFRleHQgJX08L2J1dHRvbj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgICAnPGRpdiBjbGFzcz1cIm5hdi1iYXJcIj4nLFxyXG4gICAgJzxidXR0b24gZGF0YS10b29sPVwibmV4dFwiIGRhdGEtYWN0aW9uPVwiZ2V0TmV4dFdlZWtBY3Rpdml0aWVzXCIgY2xhc3M9XCJidXR0b24gYnV0dG9uLW5leHQgZmEgZmEtYXJyb3ctcmlnaHQgZmEtbGdcIj48c3Bhbj48L3NwYW4+PC9idXR0b24+JyxcclxuICAgICc8YnV0dG9uIGRhdGEtdG9vbD1cInByZXZcIiBkYXRhLWFjdGlvbj1cImdldFByZXZXZWVrQWN0aXZpdGllc1wiIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi1wcmV2IGZhIGZhLWFycm93LWxlZnQgZmEtbGdcIj48c3Bhbj48L3NwYW4+PC9idXR0b24+JyxcclxuICAgICc8aDMgY2xhc3M9XCJkYXRlLXRleHRcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiZGF0ZU5vZGVcIj48L2gzPicsXHJcbiAgICAnPC9kaXY+JyxcclxuICBdKSxcclxuICBncm91cFRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxoMiBkYXRhLWFjdGlvbj1cImFjdGl2YXRlRGF5SGVhZGVyXCIgY2xhc3M9XCJkYXlIZWFkZXIgeyU9ICQuaGVhZGVyQ2xhc3MgJX1cIiBkYXRhLWRhdGU9XCJ7JTogbW9tZW50KCQuU3RhcnREYXRlKS5mb3JtYXQoXFwnWVlZWS1NTS1ERFxcJykgJX1cIj4nLFxyXG4gICAgJzxzcGFuIGNsYXNzPVwiZGF5SGVhZGVyTGVmdFwiPnslOiBtb21lbnQoJC5TdGFydERhdGUpLmZvcm1hdCgkJC5kYXlIZWFkZXJMZWZ0Rm9ybWF0VGV4dCkgJX08L3NwYW4+JyxcclxuICAgICc8c3BhbiBjbGFzcz1cImRheUhlYWRlclJpZ2h0XCI+eyU6IG1vbWVudCgkLlN0YXJ0RGF0ZSkuZm9ybWF0KCQkLmRheUhlYWRlclJpZ2h0Rm9ybWF0VGV4dCkgJX08L3NwYW4+JyxcclxuICAgICc8ZGl2IHN0eWxlPVwiY2xlYXI6Ym90aFwiPjwvZGl2PicsXHJcbiAgICAnPC9oMj4nLFxyXG4gICAgJzx1bCBjbGFzcz1cImxpc3QtY29udGVudFwiPicsXHJcbiAgXSksXHJcbiAgZ3JvdXBFbmRUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8L3VsPicsXHJcbiAgXSksXHJcbiAgcm93VGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGxpIGRhdGEtYWN0aW9uPVwiYWN0aXZhdGVFbnRyeVwiIGRhdGEta2V5PVwieyU9ICQuJGtleSAlfVwiIGRhdGEtZGVzY3JpcHRvcj1cInslOiAkLiRkZXNjcmlwdG9yICV9XCIgZGF0YS1hY3Rpdml0eS10eXBlPVwieyU6ICQuVHlwZSAlfVwiPicsXHJcbiAgICAnPHRhYmxlIGNsYXNzPVwiY2FsZW5kYXItZW50cnktdGFibGVcIj48dHI+JyxcclxuICAgICc8dGQgY2xhc3M9XCJlbnRyeS10YWJsZS1pY29uXCI+JyxcclxuICAgICc8YnV0dG9uIGRhdGEtYWN0aW9uPVwic2VsZWN0RW50cnlcIiBjbGFzcz1cImxpc3QtaXRlbS1zZWxlY3RvciBidXR0b24geyU9ICQkLmFjdGl2aXR5SWNvbkJ5VHlwZVskLlR5cGVdICV9XCI+JyxcclxuICAgICc8L2J1dHRvbj4nLFxyXG4gICAgJzwvdGQ+JyxcclxuICAgICc8dGQgY2xhc3M9XCJlbnRyeS10YWJsZS10aW1lXCI+eyUhICQkLnRpbWVUZW1wbGF0ZSAlfTwvdGQ+JyxcclxuICAgICc8dGQgY2xhc3M9XCJlbnRyeS10YWJsZS1kZXNjcmlwdGlvblwiPnslISAkJC5pdGVtVGVtcGxhdGUgJX08L3RkPicsXHJcbiAgICAnPC90cj48L3RhYmxlPicsXHJcbiAgICAnPC9saT4nLFxyXG4gIF0pLFxyXG4gIGV2ZW50Um93VGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGxpIGRhdGEtYWN0aW9uPVwiYWN0aXZhdGVFbnRyeVwiIGRhdGEta2V5PVwieyU9ICQuJGtleSAlfVwiIGRhdGEtZGVzY3JpcHRvcj1cInslOiAkLiRkZXNjcmlwdG9yICV9XCIgZGF0YS1hY3Rpdml0eS10eXBlPVwiRXZlbnRcIj4nLFxyXG4gICAgJzx0YWJsZSBjbGFzcz1cImNhbGVuZGFyLWVudHJ5LXRhYmxlXCI+PHRyPicsXHJcbiAgICAnPHRkIGNsYXNzPVwiZW50cnktdGFibGUtaWNvblwiPicsXHJcbiAgICAnPGJ1dHRvbiBkYXRhLWFjdGlvbj1cInNlbGVjdEVudHJ5XCIgY2xhc3M9XCJsaXN0LWl0ZW0tc2VsZWN0b3IgYnV0dG9uIHslPSAkJC5ldmVudEljb24gJX1cIj4nLFxyXG4gICAgJzwvYnV0dG9uPicsXHJcbiAgICAnPC90ZD4nLFxyXG4gICAgJzx0ZCBjbGFzcz1cImVudHJ5LXRhYmxlLWRlc2NyaXB0aW9uXCI+eyUhICQkLmV2ZW50SXRlbVRlbXBsYXRlICV9PC90ZD4nLFxyXG4gICAgJzwvdHI+PC90YWJsZT4nLFxyXG4gICAgJzwvbGk+JyxcclxuICBdKSxcclxuICB0aW1lVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAneyUgaWYgKCQuVGltZWxlc3MpIHsgJX0nLFxyXG4gICAgJzxzcGFuIGNsYXNzPVwicC10aW1lXCI+eyU9ICQkLmFsbERheVRleHQgJX08L3NwYW4+JyxcclxuICAgICd7JSB9IGVsc2UgeyAlfScsXHJcbiAgICAnPHNwYW4gY2xhc3M9XCJwLXRpbWVcIj57JTogY3JtLkZvcm1hdC5kYXRlKCQuU3RhcnREYXRlLCAkJC5zdGFydFRpbWVGb3JtYXRUZXh0KSAlfTwvc3Bhbj4nLFxyXG4gICAgJ3slIH0gJX0nLFxyXG4gIF0pLFxyXG4gIGl0ZW1UZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8aDMgY2xhc3M9XCJwLWRlc2NyaXB0aW9uXCI+eyU6ICQuRGVzY3JpcHRpb24gJX08L2gzPicsXHJcbiAgICAnPGg0PnslPSAkJC5uYW1lVGVtcGxhdGUuYXBwbHkoJCkgJX08L2g0PicsXHJcbiAgXSksXHJcbiAgZXZlbnRJdGVtVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGgzIGNsYXNzPVwicC1kZXNjcmlwdGlvblwiPnslOiAkLkRlc2NyaXB0aW9uICV9ICh7JTogJC5UeXBlICV9KTwvaDM+JyxcclxuICAgICc8aDQ+eyUhICQkLmV2ZW50TmFtZVRlbXBsYXRlICV9PC9oND4nLFxyXG4gIF0pLFxyXG4gIG5hbWVUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICd7JSBpZiAoJC5Db250YWN0TmFtZSkgeyAlfScsXHJcbiAgICAneyU6ICQuQ29udGFjdE5hbWUgJX0gLyB7JTogJC5BY2NvdW50TmFtZSAlfScsXHJcbiAgICAneyUgfSBlbHNlIGlmICgkLkFjY291bnROYW1lKSB7ICV9JyxcclxuICAgICd7JTogJC5BY2NvdW50TmFtZSAlfScsXHJcbiAgICAneyUgfSBlbHNlIHsgJX0nLFxyXG4gICAgJ3slOiAkLkxlYWROYW1lICV9JyxcclxuICAgICd7JSB9ICV9JyxcclxuICBdKSxcclxuICBldmVudE5hbWVUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICd7JTogbW9tZW50KCQuU3RhcnREYXRlKS5mb3JtYXQoJCQuZXZlbnREYXRlRm9ybWF0VGV4dCkgJX0nLFxyXG4gICAgJyZuYnNwOy0mbmJzcDsnLFxyXG4gICAgJ3slOiBtb21lbnQoJC5FbmREYXRlKS5mb3JtYXQoJCQuZXZlbnREYXRlRm9ybWF0VGV4dCkgJX0nLFxyXG4gIF0pLFxyXG4gIGV2ZW50TW9yZVRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LW1vcmVcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiZXZlbnRNb3JlTm9kZVwiPicsXHJcbiAgICAnPGJ1dHRvbiBjbGFzcz1cImJ1dHRvblwiIGRhdGEtYWN0aW9uPVwiYWN0aXZhdGVFdmVudE1vcmVcIj4nLFxyXG4gICAgJzxzcGFuIGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJldmVudFJlbWFpbmluZ0NvbnRlbnROb2RlXCI+eyU9ICQkLmV2ZW50TW9yZVRleHQgJX08L3NwYW4+JyxcclxuICAgICc8L2J1dHRvbj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXSksXHJcbiAgbm9EYXRhVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBjbGFzcz1cIm5vLWRhdGFcIj48aDM+eyU9ICQubm9EYXRhVGV4dCAlfTwvaDM+PC9kaXY+JyxcclxuICBdKSxcclxuICBldmVudFJlbWFpbmluZ0NvbnRlbnROb2RlOiBudWxsLFxyXG4gIGV2ZW50Q29udGVudE5vZGU6IG51bGwsXHJcbiAgYXR0cmlidXRlTWFwOiB7XHJcbiAgICBsaXN0Q29udGVudDoge1xyXG4gICAgICBub2RlOiAnY29udGVudE5vZGUnLFxyXG4gICAgICB0eXBlOiAnaW5uZXJIVE1MJyxcclxuICAgIH0sXHJcbiAgICBkYXRlQ29udGVudDoge1xyXG4gICAgICBub2RlOiAnZGF0ZU5vZGUnLFxyXG4gICAgICB0eXBlOiAnaW5uZXJIVE1MJyxcclxuICAgIH0sXHJcbiAgICBldmVudExpc3RDb250ZW50OiB7XHJcbiAgICAgIG5vZGU6ICdldmVudENvbnRlbnROb2RlJyxcclxuICAgICAgdHlwZTogJ2lubmVySFRNTCcsXHJcbiAgICB9LFxyXG4gICAgZXZlbnRSZW1haW5pbmdDb250ZW50OiB7XHJcbiAgICAgIG5vZGU6ICdldmVudFJlbWFpbmluZ0NvbnRlbnROb2RlJyxcclxuICAgICAgdHlwZTogJ2lubmVySFRNTCcsXHJcbiAgICB9LFxyXG4gICAgcmVtYWluaW5nQ29udGVudDoge1xyXG4gICAgICBub2RlOiAncmVtYWluaW5nQ29udGVudE5vZGUnLFxyXG4gICAgICB0eXBlOiAnaW5uZXJIVE1MJyxcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgLy8gVmlldyBQcm9wZXJ0aWVzXHJcbiAgaWQ6ICdjYWxlbmRhcl93ZWVrbGlzdCcsXHJcbiAgY2xzOiAnbGlzdCBhY3Rpdml0aWVzLWZvci13ZWVrJyxcclxuICBhY3Rpdml0eURldGFpbFZpZXc6ICdhY3Rpdml0eV9kZXRhaWwnLFxyXG4gIGV2ZW50RGV0YWlsVmlldzogJ2V2ZW50X2RldGFpbCcsXHJcbiAgbW9udGhWaWV3OiAnY2FsZW5kYXJfbW9udGhsaXN0JyxcclxuICBkYXRlUGlja2VyVmlldzogJ2dlbmVyaWNfY2FsZW5kYXInLFxyXG4gIGFjdGl2aXR5TGlzdFZpZXc6ICdjYWxlbmRhcl9kYXlsaXN0JyxcclxuICBpbnNlcnRWaWV3OiAnYWN0aXZpdHlfdHlwZXNfbGlzdCcsXHJcbiAgY3VycmVudERhdGU6IG51bGwsXHJcbiAgZW5hYmxlU2VhcmNoOiBmYWxzZSxcclxuICBleHBvc2U6IGZhbHNlLFxyXG4gIGVudHJ5R3JvdXBzOiB7fSxcclxuICB3ZWVrU3RhcnREYXRlOiBudWxsLFxyXG4gIHdlZWtFbmREYXRlOiBudWxsLFxyXG4gIHRvZGF5RGF0ZTogbnVsbCxcclxuICBjb250aW51b3VzU2Nyb2xsaW5nOiBmYWxzZSxcclxuXHJcbiAgcXVlcnlXaGVyZTogbnVsbCxcclxuICBxdWVyeU9yZGVyQnk6ICdTdGFydERhdGUgZGVzYycsXHJcbiAgcXVlcnlTZWxlY3Q6IFtcclxuICAgICdEZXNjcmlwdGlvbicsXHJcbiAgICAnU3RhcnREYXRlJyxcclxuICAgICdUeXBlJyxcclxuICAgICdBY2NvdW50TmFtZScsXHJcbiAgICAnQ29udGFjdE5hbWUnLFxyXG4gICAgJ0xlYWRJZCcsXHJcbiAgICAnTGVhZE5hbWUnLFxyXG4gICAgJ1VzZXJJZCcsXHJcbiAgICAnVGltZWxlc3MnLFxyXG4gIF0sXHJcbiAgZXZlbnRRdWVyeVNlbGVjdDogW1xyXG4gICAgJ1N0YXJ0RGF0ZScsXHJcbiAgICAnRW5kRGF0ZScsXHJcbiAgICAnRGVzY3JpcHRpb24nLFxyXG4gICAgJ1R5cGUnLFxyXG4gIF0sXHJcbiAgYWN0aXZpdHlJY29uQnlUeXBlOiB7XHJcbiAgICAnYXRUb0RvJzogJ2ZhIGZhLWxpc3QtdWwnLFxyXG4gICAgJ2F0UGhvbmVDYWxsJzogJ2ZhIGZhLXBob25lJyxcclxuICAgICdhdEFwcG9pbnRtZW50JzogJ2ZhIGZhLWNhbGVuZGFyLW8nLFxyXG4gICAgJ2F0TGl0ZXJhdHVyZSc6ICdmYSBmYS1jYWxlbmRhci1vJyxcclxuICAgICdhdFBlcnNvbmFsJzogJ2ZhIGZhLWNoZWNrLXNxdWFyZS1vJyxcclxuICAgICdhdFF1ZXN0aW9uJzogJ2ZhIGZhLXF1ZXN0aW9uJyxcclxuICAgICdhdE5vdGUnOiAnZmEgZmEtY2FsZW5kYXItbycsXHJcbiAgICAnYXRFTWFpbCc6ICdmYSBmYS1lbnZlbG9wZScsXHJcbiAgfSxcclxuICBldmVudEljb246ICdmYSBmYS1jYWxlbmRhci1vJyxcclxuXHJcbiAgY29udHJhY3ROYW1lOiAnc3lzdGVtJyxcclxuICBwYWdlU2l6ZTogMTA1LCAvLyBnaXZlcyAxNSBhY3Rpdml0aWVzIHBlciBkYXlcclxuICBldmVudFBhZ2VTaXplOiA1LFxyXG4gIHJlc291cmNlS2luZDogJ2FjdGl2aXRpZXMnLFxyXG5cclxuICBfb25SZWZyZXNoOiBmdW5jdGlvbiBfb25SZWZyZXNoKG8pIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgICBpZiAoby5yZXNvdXJjZUtpbmQgPT09ICdhY3Rpdml0aWVzJyB8fCBvLnJlc291cmNlS2luZCA9PT0gJ2V2ZW50cycpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgICB0aGlzLnRvZGF5RGF0ZSA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG4gICAgdGhpcy5jdXJyZW50RGF0ZSA9IHRoaXMudG9kYXlEYXRlLmNsb25lKCk7XHJcbiAgfSxcclxuICB0b2dnbGVHcm91cDogZnVuY3Rpb24gdG9nZ2xlR3JvdXAocGFyYW1zKSB7XHJcbiAgICBjb25zdCBub2RlID0gcGFyYW1zLiRzb3VyY2U7XHJcbiAgICBpZiAobm9kZSAmJiBub2RlLnBhcmVudE5vZGUpIHtcclxuICAgICAgZG9tQ2xhc3MudG9nZ2xlKG5vZGUsICdjb2xsYXBzZWQnKTtcclxuICAgICAgZG9tQ2xhc3MudG9nZ2xlKG5vZGUucGFyZW50Tm9kZSwgJ2NvbGxhcHNlZC1ldmVudCcpO1xyXG5cclxuICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5jb2xsYXBzZUJ1dHRvbjtcclxuXHJcbiAgICAgIGlmIChidXR0b24pIHtcclxuICAgICAgICBkb21DbGFzcy50b2dnbGUoYnV0dG9uLCB0aGlzLnRvZ2dsZUNvbGxhcHNlQ2xhc3MpO1xyXG4gICAgICAgIGRvbUNsYXNzLnRvZ2dsZShidXR0b24sIHRoaXMudG9nZ2xlRXhwYW5kQ2xhc3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBhY3RpdmF0ZURheUhlYWRlcjogZnVuY3Rpb24gYWN0aXZhdGVEYXlIZWFkZXIocGFyYW1zKSB7XHJcbiAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHBhcmFtcy5kYXRlLCAnWVlZWS1NTS1ERCcpO1xyXG4gICAgdGhpcy5uYXZpZ2F0ZVRvRGF5VmlldygpO1xyXG4gIH0sXHJcbiAgZ2V0VGhpc1dlZWtBY3Rpdml0aWVzOiBmdW5jdGlvbiBnZXRUaGlzV2Vla0FjdGl2aXRpZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNJbkN1cnJlbnRXZWVrKHRoaXMudG9kYXlEYXRlKSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy50b2RheURhdGUuY2xvbmUoKTtcclxuICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBnZXRTdGFydERheTogZnVuY3Rpb24gZ2V0U3RhcnREYXkoZGF0ZSkge1xyXG4gICAgcmV0dXJuIGRhdGUuY2xvbmUoKS5zdGFydE9mKCd3ZWVrJyk7XHJcbiAgfSxcclxuICBnZXRFbmREYXk6IGZ1bmN0aW9uIGdldEVuZERheShkYXRlKSB7XHJcbiAgICByZXR1cm4gZGF0ZS5jbG9uZSgpLmVuZE9mKCd3ZWVrJyk7XHJcbiAgfSxcclxuICBnZXROZXh0V2Vla0FjdGl2aXRpZXM6IGZ1bmN0aW9uIGdldE5leHRXZWVrQWN0aXZpdGllcygpIHtcclxuICAgIHRoaXMuY3VycmVudERhdGUgPSB0aGlzLmdldFN0YXJ0RGF5KHRoaXMud2Vla0VuZERhdGUuY2xvbmUoKS5hZGQoe1xyXG4gICAgICBkYXlzOiAxLFxyXG4gICAgfSkpO1xyXG4gICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgfSxcclxuICBnZXRQcmV2V2Vla0FjdGl2aXRpZXM6IGZ1bmN0aW9uIGdldFByZXZXZWVrQWN0aXZpdGllcygpIHtcclxuICAgIHRoaXMuY3VycmVudERhdGUgPSB0aGlzLmdldFN0YXJ0RGF5KHRoaXMud2Vla1N0YXJ0RGF0ZS5jbG9uZSgpLnN1YnRyYWN0KHtcclxuICAgICAgZGF5czogMSxcclxuICAgIH0pKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gIH0sXHJcbiAgc2V0V2Vla1F1ZXJ5OiBmdW5jdGlvbiBzZXRXZWVrUXVlcnkoKSB7XHJcbiAgICBjb25zdCBzZXREYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCB0aGlzLnRvZGF5RGF0ZTtcclxuICAgIHRoaXMud2Vla1N0YXJ0RGF0ZSA9IHRoaXMuZ2V0U3RhcnREYXkoc2V0RGF0ZSk7XHJcbiAgICB0aGlzLndlZWtFbmREYXRlID0gdGhpcy5nZXRFbmREYXkoc2V0RGF0ZSk7XHJcbiAgICB0aGlzLnF1ZXJ5V2hlcmUgPSBzdHJpbmcuc3Vic3RpdHV0ZShcclxuICAgICAgW1xyXG4gICAgICAgICdVc2VyQWN0aXZpdGllcy5Vc2VySWQgZXEgXCIkezB9XCIgYW5kIFR5cGUgbmUgXCJhdExpdGVyYXR1cmVcIiBhbmQgKCcsXHJcbiAgICAgICAgJyhUaW1lbGVzcyBlcSBmYWxzZSBhbmQgU3RhcnREYXRlIGJldHdlZW4gQCR7MX1AIGFuZCBAJHsyfUApIG9yICcsXHJcbiAgICAgICAgJyhUaW1lbGVzcyBlcSB0cnVlIGFuZCBTdGFydERhdGUgYmV0d2VlbiBAJHszfUAgYW5kIEAkezR9QCkpJyxcclxuICAgICAgXS5qb2luKCcnKSwgW1xyXG4gICAgICAgIEFwcC5jb250ZXh0LnVzZXIgJiYgQXBwLmNvbnRleHQudXNlci4ka2V5LFxyXG4gICAgICAgIGNvbnZlcnQudG9Jc29TdHJpbmdGcm9tRGF0ZSh0aGlzLndlZWtTdGFydERhdGUudG9EYXRlKCkpLFxyXG4gICAgICAgIGNvbnZlcnQudG9Jc29TdHJpbmdGcm9tRGF0ZSh0aGlzLndlZWtFbmREYXRlLnRvRGF0ZSgpKSxcclxuICAgICAgICB0aGlzLndlZWtTdGFydERhdGUuZm9ybWF0KCdZWVlZLU1NLUREVDAwOjAwOjAwW1pdJyksXHJcbiAgICAgICAgdGhpcy53ZWVrRW5kRGF0ZS5mb3JtYXQoJ1lZWVktTU0tRERUMjM6NTk6NTlbWl0nKSxcclxuICAgICAgXVxyXG4gICAgKTtcclxuICB9LFxyXG4gIHNldFdlZWtUaXRsZTogZnVuY3Rpb24gc2V0V2Vla1RpdGxlKCkge1xyXG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmdldFN0YXJ0RGF5KHRoaXMuY3VycmVudERhdGUpO1xyXG4gICAgY29uc3QgZW5kID0gdGhpcy5nZXRFbmREYXkodGhpcy5jdXJyZW50RGF0ZSk7XHJcblxyXG4gICAgdGhpcy5zZXQoJ2RhdGVDb250ZW50Jywgc3RyaW5nLnN1YnN0aXR1dGUoJyR7MH0tJHsxfScsIFtcclxuICAgICAgc3RhcnQuZm9ybWF0KHRoaXMud2Vla1RpdGxlRm9ybWF0VGV4dCksXHJcbiAgICAgIGVuZC5mb3JtYXQodGhpcy53ZWVrVGl0bGVGb3JtYXRUZXh0KSxcclxuICAgIF0pKTtcclxuICB9LFxyXG4gIGlzSW5DdXJyZW50V2VlazogZnVuY3Rpb24gaXNJbkN1cnJlbnRXZWVrKGRhdGUpIHtcclxuICAgIHJldHVybiAoZGF0ZS52YWx1ZU9mKCkgPiB0aGlzLndlZWtTdGFydERhdGUudmFsdWVPZigpICYmIGRhdGUudmFsdWVPZigpIDwgdGhpcy53ZWVrRW5kRGF0ZS52YWx1ZU9mKCkpO1xyXG4gIH0sXHJcbiAgcHJvY2Vzc0ZlZWQ6IGZ1bmN0aW9uIHByb2Nlc3NGZWVkKGZlZWQpIHtcclxuICAgIHRoaXMuZmVlZCA9IGZlZWQ7XHJcblxyXG4gICAgY29uc3QgdG9kYXlOb2RlID0gdGhpcy5hZGRUb2RheURvbSgpO1xyXG4gICAgY29uc3QgZW50cnlHcm91cHMgPSB0aGlzLmVudHJ5R3JvdXBzO1xyXG4gICAgY29uc3QgZmVlZExlbmd0aCA9IGZlZWQuJHJlc291cmNlcy5sZW5ndGg7XHJcbiAgICBjb25zdCBlbnRyeU9yZGVyID0gW107XHJcbiAgICBjb25zdCBkYXRlQ29tcGFyZVN0cmluZyA9ICdZWVlZLU1NLUREJztcclxuICAgIGNvbnN0IG8gPSBbXTtcclxuICAgIHRoaXMuc2V0KCdsaXN0Q29udGVudCcsICcnKTtcclxuXHJcbiAgICAvLyBJZiB3ZSBmZXRjaGVkIGEgcGFnZSB0aGF0IGhhcyBubyBkYXRhIGR1ZSB0byB1bi1yZWxpYWJsZSBjb3VudHMsXHJcbiAgICAvLyBjaGVjayBpZiB3ZSBmZXRjaGVkIGFueXRoaW5nIGluIHRoZSBwcmV2aW91cyBwYWdlcyBiZWZvcmUgYXNzdW1pbmcgdGhlcmUgaXMgbm8gZGF0YS5cclxuICAgIGlmIChmZWVkTGVuZ3RoID09PSAwICYmIE9iamVjdC5rZXlzKHRoaXMuZW50cmllcykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHF1ZXJ5KHRoaXMuY29udGVudE5vZGUpLmFwcGVuZCh0aGlzLm5vRGF0YVRlbXBsYXRlLmFwcGx5KHRoaXMpKTtcclxuICAgIH0gZWxzZSBpZiAoZmVlZC4kcmVzb3VyY2VzKSB7XHJcbiAgICAgIGlmICh0b2RheU5vZGUgJiYgIWVudHJ5R3JvdXBzW3RoaXMudG9kYXlEYXRlLmZvcm1hdChkYXRlQ29tcGFyZVN0cmluZyldKSB7XHJcbiAgICAgICAgZW50cnlHcm91cHNbdGhpcy50b2RheURhdGUuZm9ybWF0KGRhdGVDb21wYXJlU3RyaW5nKV0gPSBbdG9kYXlOb2RlXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVkLiRyZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50RW50cnkgPSBmZWVkLiRyZXNvdXJjZXNbaV07XHJcbiAgICAgICAgbGV0IHN0YXJ0RGF0ZSA9IGNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyhjdXJyZW50RW50cnkuU3RhcnREYXRlKTtcclxuICAgICAgICBpZiAoY3VycmVudEVudHJ5LlRpbWVsZXNzKSB7XHJcbiAgICAgICAgICBzdGFydERhdGUgPSB0aGlzLmRhdGVUb1VUQyhzdGFydERhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50RW50cnkuU3RhcnREYXRlID0gc3RhcnREYXRlO1xyXG4gICAgICAgIGN1cnJlbnRFbnRyeS5pc0V2ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbnRyaWVzW2N1cnJlbnRFbnRyeS4ka2V5XSA9IGN1cnJlbnRFbnRyeTtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGVDb21wYXJlS2V5ID0gbW9tZW50KGN1cnJlbnRFbnRyeS5TdGFydERhdGUpLmZvcm1hdChkYXRlQ29tcGFyZVN0cmluZyk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRHcm91cCA9IGVudHJ5R3JvdXBzW2N1cnJlbnREYXRlQ29tcGFyZUtleV07XHJcbiAgICAgICAgaWYgKGN1cnJlbnRHcm91cCkge1xyXG4gICAgICAgICAgaWYgKGN1cnJlbnRFbnRyeS5UaW1lbGVzcykge1xyXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc3BsaWNlKDEsIDAsIHRoaXMucm93VGVtcGxhdGUuYXBwbHkoY3VycmVudEVudHJ5LCB0aGlzKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAucHVzaCh0aGlzLnJvd1RlbXBsYXRlLmFwcGx5KGN1cnJlbnRFbnRyeSwgdGhpcykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRHcm91cCA9IFt0aGlzLmdyb3VwVGVtcGxhdGUuYXBwbHkoY3VycmVudEVudHJ5LCB0aGlzKV07XHJcbiAgICAgICAgY3VycmVudEdyb3VwLnB1c2godGhpcy5yb3dUZW1wbGF0ZS5hcHBseShjdXJyZW50RW50cnksIHRoaXMpKTtcclxuICAgICAgICBlbnRyeUdyb3Vwc1tjdXJyZW50RGF0ZUNvbXBhcmVLZXldID0gY3VycmVudEdyb3VwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGVudHJ5R3JvdXAgaW4gZW50cnlHcm91cHMpIHtcclxuICAgICAgICBpZiAoZW50cnlHcm91cHMuaGFzT3duUHJvcGVydHkoZW50cnlHcm91cCkpIHtcclxuICAgICAgICAgIGVudHJ5T3JkZXIucHVzaChtb21lbnQoZW50cnlHcm91cCwgZGF0ZUNvbXBhcmVTdHJpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVudHJ5T3JkZXIuc29ydChmdW5jdGlvbiBzb3J0RW50cnlPcmRlcihhLCBiKSB7XHJcbiAgICAgICAgaWYgKGEudmFsdWVPZigpIDwgYi52YWx1ZU9mKCkpIHtcclxuICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYS52YWx1ZU9mKCkgPiBiLnZhbHVlT2YoKSkge1xyXG4gICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZW50cnlPcmRlckxlbmd0aCA9IGVudHJ5T3JkZXIubGVuZ3RoO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJ5T3JkZXJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG8ucHVzaChlbnRyeUdyb3Vwc1tlbnRyeU9yZGVyW2ldLmZvcm1hdChkYXRlQ29tcGFyZVN0cmluZyldLmpvaW4oJycpICsgdGhpcy5ncm91cEVuZFRlbXBsYXRlLmFwcGx5KHRoaXMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRoaXMuc2V0KCdsaXN0Q29udGVudCcsIG8uam9pbignJykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXQoJ3JlbWFpbmluZ0NvbnRlbnQnLCAnJyk7IC8vIEZlZWQgZG9lcyBub3QgcmV0dXJuIHJlbGlhYmxlIGRhdGEsIGRvbid0IHNob3cgcmVtYWluaW5nXHJcblxyXG4gICAgZG9tQ2xhc3MudG9nZ2xlKHRoaXMuZG9tTm9kZSwgJ2xpc3QtaGFzLW1vcmUnLCB0aGlzLmhhc01vcmVEYXRhKCkpO1xyXG4gICAgdGhpcy5fbG9hZFByZXZpb3VzU2VsZWN0aW9ucygpO1xyXG4gIH0sXHJcbiAgYWRkVG9kYXlEb206IGZ1bmN0aW9uIGFkZFRvZGF5RG9tKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzSW5DdXJyZW50V2Vlayh0aGlzLnRvZGF5RGF0ZSkpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9kYXlFbnRyeSA9IHtcclxuICAgICAgU3RhcnREYXRlOiB0aGlzLnRvZGF5RGF0ZS50b0RhdGUoKSxcclxuICAgICAgaGVhZGVyQ2xhc3M6ICdjdXJyZW50RGF0ZScsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aGlzLmdyb3VwVGVtcGxhdGUuYXBwbHkodG9kYXlFbnRyeSwgdGhpcyk7XHJcbiAgfSxcclxuICBkYXRlVG9VVEM6IGZ1bmN0aW9uIGRhdGVUb1VUQyhkYXRlKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxyXG4gICAgICBkYXRlLmdldFVUQ01vbnRoKCksXHJcbiAgICAgIGRhdGUuZ2V0VVRDRGF0ZSgpLFxyXG4gICAgICBkYXRlLmdldFVUQ0hvdXJzKCksXHJcbiAgICAgIGRhdGUuZ2V0VVRDTWludXRlcygpLFxyXG4gICAgICBkYXRlLmdldFVUQ1NlY29uZHMoKVxyXG4gICAgKTtcclxuICB9LFxyXG4gIHJlcXVlc3RFdmVudERhdGE6IGZ1bmN0aW9uIHJlcXVlc3RFdmVudERhdGEoKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5jcmVhdGVFdmVudFJlcXVlc3QoKTtcclxuICAgIHJlcXVlc3QucmVhZCh7XHJcbiAgICAgIHN1Y2Nlc3M6IHRoaXMub25SZXF1ZXN0RXZlbnREYXRhU3VjY2VzcyxcclxuICAgICAgZmFpbHVyZTogdGhpcy5vblJlcXVlc3RFdmVudERhdGFGYWlsdXJlLFxyXG4gICAgICBhYm9ydGVkOiB0aGlzLm9uUmVxdWVzdEV2ZW50RGF0YUFib3J0ZWQsXHJcbiAgICAgIHNjb3BlOiB0aGlzLFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBvblJlcXVlc3RFdmVudERhdGFGYWlsdXJlOiBmdW5jdGlvbiBvblJlcXVlc3RFdmVudERhdGFGYWlsdXJlKHJlc3BvbnNlLCBvKSB7XHJcbiAgICBhbGVydChzdHJpbmcuc3Vic3RpdHV0ZSh0aGlzLnJlcXVlc3RFcnJvclRleHQsIFtyZXNwb25zZSwgb10pKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgRXJyb3JNYW5hZ2VyLmFkZEVycm9yKHJlc3BvbnNlLCBvLCB0aGlzLm9wdGlvbnMsICdmYWlsdXJlJyk7XHJcbiAgfSxcclxuICBvblJlcXVlc3RFdmVudERhdGFBYm9ydGVkOiBmdW5jdGlvbiBvblJlcXVlc3RFdmVudERhdGFBYm9ydGVkKCkge1xyXG4gICAgdGhpcy5vcHRpb25zID0gZmFsc2U7IC8vIGZvcmNlIGEgcmVmcmVzaFxyXG4gIH0sXHJcbiAgb25SZXF1ZXN0RXZlbnREYXRhU3VjY2VzczogZnVuY3Rpb24gb25SZXF1ZXN0RXZlbnREYXRhU3VjY2VzcyhmZWVkKSB7XHJcbiAgICB0aGlzLnByb2Nlc3NFdmVudEZlZWQoZmVlZCk7XHJcbiAgfSxcclxuICBjcmVhdGVFdmVudFJlcXVlc3Q6IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50UmVxdWVzdCgpIHtcclxuICAgIGNvbnN0IHF1ZXJ5U2VsZWN0ID0gdGhpcy5ldmVudFF1ZXJ5U2VsZWN0O1xyXG4gICAgY29uc3QgcXVlcnlXaGVyZSA9IHRoaXMuZ2V0RXZlbnRRdWVyeSgpO1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVJlc291cmNlQ29sbGVjdGlvblJlcXVlc3QodGhpcy5nZXRTZXJ2aWNlKCkpXHJcbiAgICAgIC5zZXRDb3VudCh0aGlzLmV2ZW50UGFnZVNpemUpXHJcbiAgICAgIC5zZXRTdGFydEluZGV4KDEpXHJcbiAgICAgIC5zZXRSZXNvdXJjZUtpbmQoJ2V2ZW50cycpXHJcbiAgICAgIC5zZXRRdWVyeUFyZyhTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVVyaS5RdWVyeUFyZ05hbWVzLlNlbGVjdCwgdGhpcy5leHBhbmRFeHByZXNzaW9uKHF1ZXJ5U2VsZWN0KS5qb2luKCcsJykpXHJcbiAgICAgIC5zZXRRdWVyeUFyZyhTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVVyaS5RdWVyeUFyZ05hbWVzLldoZXJlLCBxdWVyeVdoZXJlKTtcclxuICAgIHJldHVybiByZXF1ZXN0O1xyXG4gIH0sXHJcbiAgZ2V0RXZlbnRRdWVyeTogZnVuY3Rpb24gZ2V0RXZlbnRRdWVyeSgpIHtcclxuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMud2Vla1N0YXJ0RGF0ZTtcclxuICAgIGNvbnN0IGVuZERhdGUgPSB0aGlzLndlZWtFbmREYXRlO1xyXG4gICAgcmV0dXJuIHN0cmluZy5zdWJzdGl0dXRlKFxyXG4gICAgICBbXHJcbiAgICAgICAgJ1VzZXJJZCBlcSBcIiR7MH1cIiBhbmQgKCcsXHJcbiAgICAgICAgJyhTdGFydERhdGUgZ3QgQCR7MX1AIG9yIEVuZERhdGUgZ3QgQCR7MX1AKSBhbmQgJyxcclxuICAgICAgICAnU3RhcnREYXRlIGx0IEAkezJ9QCcsXHJcbiAgICAgICAgJyknLFxyXG4gICAgICBdLmpvaW4oJycpLCBbQXBwLmNvbnRleHQudXNlciAmJiBBcHAuY29udGV4dC51c2VyLiRrZXksXHJcbiAgICAgICAgc3RhcnREYXRlLmZvcm1hdCgnWVlZWS1NTS1ERFQwMDowMDowMFtaXScpLFxyXG4gICAgICAgIGVuZERhdGUuZm9ybWF0KCdZWVlZLU1NLUREVDIzOjU5OjU5W1pdJyksXHJcbiAgICAgIF1cclxuICAgICk7XHJcbiAgfSxcclxuICBoaWRlRXZlbnRMaXN0OiBmdW5jdGlvbiBoaWRlRXZlbnRMaXN0KCkge1xyXG4gICAgZG9tQ2xhc3MuYWRkKHRoaXMuZXZlbnRDb250YWluZXJOb2RlLCAnZXZlbnQtaGlkZGVuJyk7XHJcbiAgfSxcclxuICBzaG93RXZlbnRMaXN0OiBmdW5jdGlvbiBzaG93RXZlbnRMaXN0KCkge1xyXG4gICAgZG9tQ2xhc3MucmVtb3ZlKHRoaXMuZXZlbnRDb250YWluZXJOb2RlLCAnZXZlbnQtaGlkZGVuJyk7XHJcbiAgfSxcclxuICBwcm9jZXNzRXZlbnRGZWVkOiBmdW5jdGlvbiBwcm9jZXNzRXZlbnRGZWVkKGZlZWQpIHtcclxuICAgIGNvbnN0IG8gPSBbXTtcclxuICAgIGNvbnN0IGZlZWRMZW5ndGggPSBmZWVkLiRyZXNvdXJjZXMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChmZWVkTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuaGlkZUV2ZW50TGlzdCgpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zaG93RXZlbnRMaXN0KCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVkTGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZXZlbnQgPSBmZWVkLiRyZXNvdXJjZXNbaV07XHJcbiAgICAgIGV2ZW50LmlzRXZlbnQgPSB0cnVlO1xyXG4gICAgICBldmVudC5TdGFydERhdGUgPSBtb21lbnQoY29udmVydC50b0RhdGVGcm9tU3RyaW5nKGV2ZW50LlN0YXJ0RGF0ZSkpO1xyXG4gICAgICBldmVudC5FbmREYXRlID0gbW9tZW50KGNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyhldmVudC5FbmREYXRlKSk7XHJcbiAgICAgIHRoaXMuZW50cmllc1tldmVudC4ka2V5XSA9IGV2ZW50O1xyXG4gICAgICBvLnB1c2godGhpcy5ldmVudFJvd1RlbXBsYXRlLmFwcGx5KGV2ZW50LCB0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZlZWQuJHRvdGFsUmVzdWx0cyA+IGZlZWRMZW5ndGgpIHtcclxuICAgICAgZG9tQ2xhc3MuYWRkKHRoaXMuZXZlbnRDb250YWluZXJOb2RlLCAnbGlzdC1oYXMtbW9yZScpO1xyXG4gICAgICB0aGlzLnNldCgnZXZlbnRSZW1haW5pbmdDb250ZW50Jywgc3RyaW5nLnN1YnN0aXR1dGUodGhpcy5ldmVudE1vcmVUZXh0LCBbZmVlZC4kdG90YWxSZXN1bHRzIC0gZmVlZExlbmd0aF0pKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvbUNsYXNzLnJlbW92ZSh0aGlzLmV2ZW50Q29udGFpbmVyTm9kZSwgJ2xpc3QtaGFzLW1vcmUnKTtcclxuICAgICAgZG9tQ29uc3RydWN0LmVtcHR5KHRoaXMuZXZlbnRSZW1haW5pbmdDb250ZW50Tm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXQoJ2V2ZW50TGlzdENvbnRlbnQnLCBvLmpvaW4oJycpKTtcclxuICB9LFxyXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSB0aGlzLmN1cnJlbnREYXRlLmNsb25lKCk7XHJcbiAgICB0aGlzLmN1cnJlbnREYXRlID0gc3RhcnREYXRlLmNsb25lKCk7XHJcbiAgICB0aGlzLndlZWtTdGFydERhdGUgPSB0aGlzLmdldFN0YXJ0RGF5KHN0YXJ0RGF0ZSk7XHJcbiAgICB0aGlzLndlZWtFbmREYXRlID0gdGhpcy5nZXRFbmREYXkoc3RhcnREYXRlKTtcclxuICAgIHRoaXMuc2V0V2Vla1RpdGxlKCk7XHJcbiAgICB0aGlzLnNldFdlZWtRdWVyeSgpO1xyXG5cclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIHRoaXMucmVxdWVzdERhdGEoKTtcclxuICAgIHRoaXMucmVxdWVzdEV2ZW50RGF0YSgpO1xyXG4gIH0sXHJcbiAgc2hvdzogZnVuY3Rpb24gc2hvdyhvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICB0aGlzLnByb2Nlc3NTaG93T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gIH0sXHJcbiAgcHJvY2Vzc1Nob3dPcHRpb25zOiBmdW5jdGlvbiBwcm9jZXNzU2hvd09wdGlvbnMob3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMuY3VycmVudERhdGUpIHtcclxuICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudChvcHRpb25zLmN1cnJlbnREYXRlKS5zdGFydE9mKCdkYXknKSB8fCBtb21lbnQoKS5zdGFydE9mKCdkYXknKTtcclxuICAgICAgdGhpcy5yZWZyZXNoUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aXZhdGVFdmVudE1vcmU6IGZ1bmN0aW9uIGFjdGl2YXRlRXZlbnRNb3JlKCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KCdldmVudF9yZWxhdGVkJyk7XHJcbiAgICBjb25zdCB3aGVyZSA9IHRoaXMuZ2V0RXZlbnRRdWVyeSgpO1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdmlldy5zaG93KHtcclxuICAgICAgICAnd2hlcmUnOiB3aGVyZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICB0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpO1xyXG4gICAgdGhpcy5lbnRyeUdyb3VwcyA9IHt9O1xyXG4gICAgdGhpcy5zZXQoJ2V2ZW50Q29udGVudCcsICcnKTtcclxuICAgIHRoaXMuc2V0KCdsaXN0Q29udGVudCcsIHRoaXMubG9hZGluZ1RlbXBsYXRlLmFwcGx5KHRoaXMpKTtcclxuICB9LFxyXG4gIHNlbGVjdEVudHJ5OiBmdW5jdGlvbiBzZWxlY3RFbnRyeShwYXJhbXMpIHtcclxuICAgIGNvbnN0IHJvdyA9IHF1ZXJ5KHBhcmFtcy4kc291cmNlKS5jbG9zZXN0KCdbZGF0YS1rZXldJylbMF07XHJcbiAgICBjb25zdCBrZXkgPSByb3cgPyByb3cuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpIDogZmFsc2U7XHJcblxyXG4gICAgdGhpcy5uYXZpZ2F0ZVRvRGV0YWlsVmlldyhrZXkpO1xyXG4gIH0sXHJcbiAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gc2VsZWN0RGF0ZSgpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgZGF0ZTogdGhpcy5jdXJyZW50RGF0ZS50b0RhdGUoKSxcclxuICAgICAgICBzaG93VGltZVBpY2tlcjogZmFsc2UsXHJcbiAgICAgICAgdGltZWxlc3M6IGZhbHNlLFxyXG4gICAgICAgIHRvb2xzOiB7XHJcbiAgICAgICAgICB0YmFyOiBbe1xyXG4gICAgICAgICAgICBpZDogJ2NvbXBsZXRlJyxcclxuICAgICAgICAgICAgY2xzOiAnZmEgZmEtY2hlY2sgZmEtZncgZmEtbGcnLFxyXG4gICAgICAgICAgICBmbjogdGhpcy5zZWxlY3REYXRlU3VjY2VzcyxcclxuICAgICAgICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGlkOiAnY2FuY2VsJyxcclxuICAgICAgICAgICAgY2xzOiAnZmEgZmEtYmFuIGZhLWZ3IGZhLWxnJyxcclxuICAgICAgICAgICAgc2lkZTogJ2xlZnQnLFxyXG4gICAgICAgICAgICBmbjogUmVVSS5iYWNrLFxyXG4gICAgICAgICAgICBzY29wZTogUmVVSSxcclxuICAgICAgICAgIH1dLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHRoaXMuZGF0ZVBpY2tlclZpZXcpO1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdmlldy5zaG93KG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2VsZWN0RGF0ZVN1Y2Nlc3M6IGZ1bmN0aW9uIHNlbGVjdERhdGVTdWNjZXNzKCkge1xyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRQcmltYXJ5QWN0aXZlVmlldygpO1xyXG4gICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh2aWV3LmdldERhdGVUaW1lKCkpLnN0YXJ0T2YoJ2RheScpO1xyXG4gICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICBSZVVJLmJhY2soKTtcclxuICB9LFxyXG4gIG5hdmlnYXRlVG9EYXlWaWV3OiBmdW5jdGlvbiBuYXZpZ2F0ZVRvRGF5VmlldygpIHtcclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyh0aGlzLmFjdGl2aXR5TGlzdFZpZXcpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICBjdXJyZW50RGF0ZTogdGhpcy5jdXJyZW50RGF0ZS50b0RhdGUoKS52YWx1ZU9mKCkgfHwgbW9tZW50KCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpLFxyXG4gICAgICB9O1xyXG4gICAgdmlldy5zaG93KG9wdGlvbnMpO1xyXG4gIH0sXHJcbiAgbmF2aWdhdGVUb01vbnRoVmlldzogZnVuY3Rpb24gbmF2aWdhdGVUb01vbnRoVmlldygpIHtcclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyh0aGlzLm1vbnRoVmlldyk7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgIGN1cnJlbnREYXRlOiB0aGlzLmN1cnJlbnREYXRlLnRvRGF0ZSgpLnZhbHVlT2YoKSB8fCBtb21lbnQoKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCksXHJcbiAgICAgIH07XHJcbiAgICB2aWV3LnNob3cob3B0aW9ucyk7XHJcbiAgfSxcclxuICBuYXZpZ2F0ZVRvSW5zZXJ0VmlldzogZnVuY3Rpb24gbmF2aWdhdGVUb0luc2VydFZpZXcoKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcodGhpcy5pbnNlcnRWaWV3IHx8IHRoaXMuZWRpdFZpZXcpO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucy5jdXJyZW50RGF0ZSA9IHRoaXMuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NLUREJykgfHwgbW9tZW50KCkuc3RhcnRPZignZGF5Jyk7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICB2aWV3LnNob3coe1xyXG4gICAgICAgIG5lZ2F0ZUhpc3Rvcnk6IHRydWUsXHJcbiAgICAgICAgcmV0dXJuVG86IHRoaXMuaWQsXHJcbiAgICAgICAgaW5zZXJ0OiB0cnVlLFxyXG4gICAgICAgIGN1cnJlbnREYXRlOiB0aGlzLm9wdGlvbnMuY3VycmVudERhdGUudmFsdWVPZigpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIG5hdmlnYXRlVG9EZXRhaWxWaWV3OiBmdW5jdGlvbiBuYXZpZ2F0ZVRvRGV0YWlsVmlldyhrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5lbnRyaWVzW2tleV07XHJcbiAgICBjb25zdCBkZXRhaWxWaWV3ID0gKGVudHJ5LmlzRXZlbnQpID8gdGhpcy5ldmVudERldGFpbFZpZXcgOiB0aGlzLmFjdGl2aXR5RGV0YWlsVmlldztcclxuICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0VmlldyhkZXRhaWxWaWV3KTtcclxuXHJcbiAgICBjb25zdCB0aGVEZXNjcmlwdG9yID0gKGVudHJ5LmlzRXZlbnQpID8gZGVzY3JpcHRvciA6IGVudHJ5LkRlc2NyaXB0aW9uO1xyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIHZpZXcuc2hvdyh7XHJcbiAgICAgICAgdGl0bGU6IHRoZURlc2NyaXB0b3IsXHJcbiAgICAgICAga2V5OiBrZXksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGFuZy5zZXRPYmplY3QoJ01vYmlsZS5TYWxlc0xvZ2l4LlZpZXdzLkNhbGVuZGFyLldlZWtWaWV3JywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
