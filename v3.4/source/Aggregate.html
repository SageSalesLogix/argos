<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Aggregate', ['exports', 'module', 'dojo/_base/lang', 'dojo/_base/array'], function (exports, module, _dojo_baseLang, _dojo_baseArray) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _array = _interopRequireDefault(_dojo_baseArray);

<span id='crm-Aggregate'>  /**
</span>   * @class crm.Aggregate
   *
   * Aggregate functions. Currently used in metric widgets.
   *
   */
  var __class = _lang['default'].setObject('crm.Aggregate', {
<span id='crm-Aggregate-method-avg'>    /**
</span>     * Average
     * @param {Array} data Array of objects that contain a value property
     * @return {Number}
     */
    avg: function avg(data) {
      var aggr = window.crm.Aggregate;
      var average = aggr.sum(data) / aggr.count(data);
      return isNaN(average) ? 0 : average;
    },
<span id='crm-Aggregate-method-count'>    /**
</span>     * Count
     * @param {Array} data Array of objects that contain a value property
     * @return {Number}
     */
    count: function count(data) {
      return data &amp;&amp; data.length;
    },
<span id='crm-Aggregate-method-first'>    /**
</span>     * First
     * @param {Array} data Array of objects that contain a value property
     * @returns
     * The first elements &quot;value&quot; property value
     */
    first: function first(data) {
      return data &amp;&amp; data.length &amp;&amp; data[0].value;
    },
<span id='crm-Aggregate-method-last'>    /**
</span>     * Last
     * @param {Array} data Array of objects that contain a value property
     * @returns
     * The last elements &quot;value&quot; property value
     */
    last: function last(data) {
      return data &amp;&amp; data.length &amp;&amp; data[data.length - 1].value;
    },
<span id='crm-Aggregate-method-max'>    /**
</span>     * Maximum
     * @param {Array} data Array of objects that contain a value property
     * @return {Number}
     */
    max: function max(data) {
      var flatten = _array['default'].map(data, function (item) {
        return item.value;
      });

      return Math.max.apply(null, flatten);
    },
<span id='crm-Aggregate-method-min'>    /**
</span>     * Minimum
     * @param {Array} data Array of objects that contain a value property
     * @return {Number}
     */
    min: function min(data) {
      var flatten = _array['default'].map(data, function (item) {
        return item.value;
      });

      return flatten.length &gt; 0 ? Math.min.apply(null, flatten) : 0;
    },
<span id='crm-Aggregate-method-sum'>    /**
</span>     * Sum
     * @param {Array} data Array of objects that contain a value property
     * @return {Number}
     */
    sum: function sum(data) {
      var total = 0;
      if (!Array.isArray(data)) {
        return total;
      }

      total = data.reduce(function (p, c) {
        return p + c.value;
      }, 0);

      return total;
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Aggregate', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9BZ2dyZWdhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVNBLE1BQU0sT0FBTyxHQUFHLGlCQUFLLFNBQVMsQ0FBQyxlQUFlLEVBQUU7Ozs7OztBQU05QyxPQUFHLEVBQUUsU0FBUyxHQUFHLENBQUMsSUFBSSxFQUFFO0FBQ3RCLFVBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO0FBQ2xDLFVBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsRCxhQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQ3JDOzs7Ozs7QUFNRCxTQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQzFCLGFBQU8sSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7S0FDNUI7Ozs7Ozs7QUFPRCxTQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQzFCLGFBQU8sSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztLQUM3Qzs7Ozs7OztBQU9ELFFBQUksRUFBRSxTQUFTLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFDeEIsYUFBTyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7S0FDM0Q7Ozs7OztBQU1ELE9BQUcsRUFBRSxTQUFTLEdBQUcsQ0FBQyxJQUFJLEVBQUU7QUFDdEIsVUFBTSxPQUFPLEdBQUcsa0JBQU0sR0FBRyxDQUFDLElBQUksRUFBRSxVQUFDLElBQUksRUFBSztBQUN4QyxlQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7T0FDbkIsQ0FBQyxDQUFDOztBQUVILGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ3RDOzs7Ozs7QUFNRCxPQUFHLEVBQUUsU0FBUyxHQUFHLENBQUMsSUFBSSxFQUFFO0FBQ3RCLFVBQU0sT0FBTyxHQUFHLGtCQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBQyxJQUFJLEVBQUs7QUFDeEMsZUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDO09BQ25CLENBQUMsQ0FBQzs7QUFFSCxhQUFPLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDL0Q7Ozs7OztBQU1ELE9BQUcsRUFBRSxTQUFTLEdBQUcsQ0FBQyxJQUFJLEVBQUU7QUFDdEIsVUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ2QsVUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDeEIsZUFBTyxLQUFLLENBQUM7T0FDZDs7QUFFRCxXQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDLEVBQUs7QUFDNUIsZUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztPQUNwQixFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUVOLGFBQU8sS0FBSyxDQUFDO0tBQ2Q7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLDZCQUE2QixFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUN4QyxPQUFPIiwiZmlsZSI6InNyYy9BZ2dyZWdhdGUuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IGFycmF5IGZyb20gJ2Rvam8vX2Jhc2UvYXJyYXknO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uQWdncmVnYXRlXHJcbiAqXHJcbiAqIEFnZ3JlZ2F0ZSBmdW5jdGlvbnMuIEN1cnJlbnRseSB1c2VkIGluIG1ldHJpYyB3aWRnZXRzLlxyXG4gKlxyXG4gKi9cclxuY29uc3QgX19jbGFzcyA9IGxhbmcuc2V0T2JqZWN0KCdjcm0uQWdncmVnYXRlJywge1xyXG4gIC8qKlxyXG4gICAqIEF2ZXJhZ2VcclxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFycmF5IG9mIG9iamVjdHMgdGhhdCBjb250YWluIGEgdmFsdWUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgYXZnOiBmdW5jdGlvbiBhdmcoZGF0YSkge1xyXG4gICAgY29uc3QgYWdnciA9IHdpbmRvdy5jcm0uQWdncmVnYXRlO1xyXG4gICAgY29uc3QgYXZlcmFnZSA9IGFnZ3Iuc3VtKGRhdGEpIC8gYWdnci5jb3VudChkYXRhKTtcclxuICAgIHJldHVybiBpc05hTihhdmVyYWdlKSA/IDAgOiBhdmVyYWdlO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogQ291bnRcclxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFycmF5IG9mIG9iamVjdHMgdGhhdCBjb250YWluIGEgdmFsdWUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KGRhdGEpIHtcclxuICAgIHJldHVybiBkYXRhICYmIGRhdGEubGVuZ3RoO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogRmlyc3RcclxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFycmF5IG9mIG9iamVjdHMgdGhhdCBjb250YWluIGEgdmFsdWUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqIFRoZSBmaXJzdCBlbGVtZW50cyBcInZhbHVlXCIgcHJvcGVydHkgdmFsdWVcclxuICAgKi9cclxuICBmaXJzdDogZnVuY3Rpb24gZmlyc3QoZGF0YSkge1xyXG4gICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5sZW5ndGggJiYgZGF0YVswXS52YWx1ZTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIExhc3RcclxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFycmF5IG9mIG9iamVjdHMgdGhhdCBjb250YWluIGEgdmFsdWUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqIFRoZSBsYXN0IGVsZW1lbnRzIFwidmFsdWVcIiBwcm9wZXJ0eSB2YWx1ZVxyXG4gICAqL1xyXG4gIGxhc3Q6IGZ1bmN0aW9uIGxhc3QoZGF0YSkge1xyXG4gICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5sZW5ndGggJiYgZGF0YVtkYXRhLmxlbmd0aCAtIDFdLnZhbHVlO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogTWF4aW11bVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNvbnRhaW4gYSB2YWx1ZSBwcm9wZXJ0eVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cclxuICBtYXg6IGZ1bmN0aW9uIG1heChkYXRhKSB7XHJcbiAgICBjb25zdCBmbGF0dGVuID0gYXJyYXkubWFwKGRhdGEsIChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGZsYXR0ZW4pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogTWluaW11bVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNvbnRhaW4gYSB2YWx1ZSBwcm9wZXJ0eVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cclxuICBtaW46IGZ1bmN0aW9uIG1pbihkYXRhKSB7XHJcbiAgICBjb25zdCBmbGF0dGVuID0gYXJyYXkubWFwKGRhdGEsIChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGZsYXR0ZW4ubGVuZ3RoID4gMCA/IE1hdGgubWluLmFwcGx5KG51bGwsIGZsYXR0ZW4pIDogMDtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFN1bVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNvbnRhaW4gYSB2YWx1ZSBwcm9wZXJ0eVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cclxuICBzdW06IGZ1bmN0aW9uIHN1bShkYXRhKSB7XHJcbiAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgIHJldHVybiB0b3RhbDtcclxuICAgIH1cclxuXHJcbiAgICB0b3RhbCA9IGRhdGEucmVkdWNlKChwLCBjKSA9PiB7XHJcbiAgICAgIHJldHVybiBwICsgYy52YWx1ZTtcclxuICAgIH0sIDApO1xyXG5cclxuICAgIHJldHVybiB0b3RhbDtcclxuICB9LFxyXG59KTtcclxuXHJcbmxhbmcuc2V0T2JqZWN0KCdNb2JpbGUuU2FsZXNMb2dpeC5BZ2dyZWdhdGUnLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
