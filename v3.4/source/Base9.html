<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Models/Ticket/Base', ['exports', 'module', 'dojo/_base/declare', 'argos/Models/_ModelBase', '../Names', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _argosModels_ModelBase, _Names, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _ModelBase2 = _interopRequireDefault(_argosModels_ModelBase);

  var _MODEL_NAMES = _interopRequireDefault(_Names);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('ticketModel');
  var accountResource = (0, _getResource['default'])('accountModel');
  var contactResource = (0, _getResource['default'])('contactModel');
  var activityResource = (0, _getResource['default'])('activityModel');
  var historyResource = (0, _getResource['default'])('historyModel');

  var __class = (0, _declare['default'])('crm.Models.Ticket.Base', [_ModelBase2['default']], {
    entityName: 'Ticket',
    entityDisplayName: resource.entityDisplayName,
    entityDisplayNamePlural: resource.entityDisplayNamePlural,
    iconClass: 'fa fa-clipboard fa-2x',
    resourceKind: 'tickets',
    security: 'Entities/Ticket/View',
    modelName: _MODEL_NAMES['default'].TICKET,

    createRelationships: function createRelationships() {
      var rel = undefined;
      rel = this.relationships || (this.relationships = [{
        name: 'Account',
        displayName: accountResource.entityDisplayName,
        type: 'ManyToOne',
        parentProperty: 'Account',
        parentPropertyType: 'object',
        relatedEntity: 'Account',
        relatedPropertyType: 'object'
      }, {
        name: 'Contact',
        displayName: contactResource.entityDisplayName,
        type: 'ManyToOne',
        parentProperty: 'Contact',
        parentPropertyType: 'object',
        relatedEntity: 'Contact',
        relatedPropertyType: 'object'
      }, {
        name: 'History',
        displayName: historyResource.entityDisplayNamePlural,
        type: 'OneToMany',
        relatedEntity: 'History',
        relatedProperty: 'TicketId',
        where: 'Type ne &quot;atDatabaseChange&quot;'
      }, {
        name: 'Activity',
        displayName: activityResource.entityDisplayNamePlural,
        type: 'OneToMany',
        relatedEntity: 'Activity',
        relatedProperty: 'TicketId'
      }]);
      return rel;
    }

  });
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Nb2RlbHMvVGlja2V0L0Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFLQSxNQUFNLFFBQVEsR0FBRyw2QkFBWSxhQUFhLENBQUMsQ0FBQztBQUM1QyxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQztBQUNwRCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQztBQUNwRCxNQUFNLGdCQUFnQixHQUFHLDZCQUFZLGVBQWUsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sZUFBZSxHQUFHLDZCQUFZLGNBQWMsQ0FBQyxDQUFDOztBQUVwRCxNQUFNLE9BQU8sR0FBRyx5QkFBUSx3QkFBd0IsRUFBRSx3QkFBWSxFQUFFO0FBQzlELGNBQVUsRUFBRSxRQUFRO0FBQ3BCLHFCQUFpQixFQUFFLFFBQVEsQ0FBQyxpQkFBaUI7QUFDN0MsMkJBQXVCLEVBQUUsUUFBUSxDQUFDLHVCQUF1QjtBQUN6RCxhQUFTLEVBQUUsdUJBQXVCO0FBQ2xDLGdCQUFZLEVBQUUsU0FBUztBQUN2QixZQUFRLEVBQUUsc0JBQXNCO0FBQ2hDLGFBQVMsRUFBRSx3QkFBWSxNQUFNOztBQUU3Qix1QkFBbUIsRUFBRSxTQUFTLG1CQUFtQixHQUFHO0FBQ2xELFVBQUksR0FBRyxZQUFBLENBQUM7QUFDUixTQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUM7QUFDakQsWUFBSSxFQUFFLFNBQVM7QUFDZixtQkFBVyxFQUFFLGVBQWUsQ0FBQyxpQkFBaUI7QUFDOUMsWUFBSSxFQUFFLFdBQVc7QUFDakIsc0JBQWMsRUFBRSxTQUFTO0FBQ3pCLDBCQUFrQixFQUFFLFFBQVE7QUFDNUIscUJBQWEsRUFBRSxTQUFTO0FBQ3hCLDJCQUFtQixFQUFFLFFBQVE7T0FDOUIsRUFBRTtBQUNELFlBQUksRUFBRSxTQUFTO0FBQ2YsbUJBQVcsRUFBRSxlQUFlLENBQUMsaUJBQWlCO0FBQzlDLFlBQUksRUFBRSxXQUFXO0FBQ2pCLHNCQUFjLEVBQUUsU0FBUztBQUN6QiwwQkFBa0IsRUFBRSxRQUFRO0FBQzVCLHFCQUFhLEVBQUUsU0FBUztBQUN4QiwyQkFBbUIsRUFBRSxRQUFRO09BQzlCLEVBQUU7QUFDRCxZQUFJLEVBQUUsU0FBUztBQUNmLG1CQUFXLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtBQUNwRCxZQUFJLEVBQUUsV0FBVztBQUNqQixxQkFBYSxFQUFFLFNBQVM7QUFDeEIsdUJBQWUsRUFBRSxVQUFVO0FBQzNCLGFBQUssRUFBRSw0QkFBNEI7T0FDcEMsRUFBRTtBQUNELFlBQUksRUFBRSxVQUFVO0FBQ2hCLG1CQUFXLEVBQUUsZ0JBQWdCLENBQUMsdUJBQXVCO0FBQ3JELFlBQUksRUFBRSxXQUFXO0FBQ2pCLHFCQUFhLEVBQUUsVUFBVTtBQUN6Qix1QkFBZSxFQUFFLFVBQVU7T0FDNUIsQ0FBQyxDQUFBLEFBQUMsQ0FBQztBQUNKLGFBQU8sR0FBRyxDQUFDO0tBQ1o7O0dBRUYsQ0FBQyxDQUFDO21CQUNZLE9BQU8iLCJmaWxlIjoic3JjL01vZGVscy9UaWNrZXQvQmFzZS5qcyIsInNvdXJjZVJvb3QiOiJzcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVjbGFyZSBmcm9tICdkb2pvL19iYXNlL2RlY2xhcmUnO1xyXG5pbXBvcnQgX01vZGVsQmFzZSBmcm9tICdhcmdvcy9Nb2RlbHMvX01vZGVsQmFzZSc7XHJcbmltcG9ydCBNT0RFTF9OQU1FUyBmcm9tICcuLi9OYW1lcyc7XHJcbmltcG9ydCBnZXRSZXNvdXJjZSBmcm9tICdhcmdvcy9JMThuJztcclxuXHJcbmNvbnN0IHJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ3RpY2tldE1vZGVsJyk7XHJcbmNvbnN0IGFjY291bnRSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY2NvdW50TW9kZWwnKTtcclxuY29uc3QgY29udGFjdFJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2NvbnRhY3RNb2RlbCcpO1xyXG5jb25zdCBhY3Rpdml0eVJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2FjdGl2aXR5TW9kZWwnKTtcclxuY29uc3QgaGlzdG9yeVJlc291cmNlID0gZ2V0UmVzb3VyY2UoJ2hpc3RvcnlNb2RlbCcpO1xyXG5cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2NybS5Nb2RlbHMuVGlja2V0LkJhc2UnLCBbX01vZGVsQmFzZV0sIHtcclxuICBlbnRpdHlOYW1lOiAnVGlja2V0JyxcclxuICBlbnRpdHlEaXNwbGF5TmFtZTogcmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWUsXHJcbiAgZW50aXR5RGlzcGxheU5hbWVQbHVyYWw6IHJlc291cmNlLmVudGl0eURpc3BsYXlOYW1lUGx1cmFsLFxyXG4gIGljb25DbGFzczogJ2ZhIGZhLWNsaXBib2FyZCBmYS0yeCcsXHJcbiAgcmVzb3VyY2VLaW5kOiAndGlja2V0cycsXHJcbiAgc2VjdXJpdHk6ICdFbnRpdGllcy9UaWNrZXQvVmlldycsXHJcbiAgbW9kZWxOYW1lOiBNT0RFTF9OQU1FUy5USUNLRVQsXHJcblxyXG4gIGNyZWF0ZVJlbGF0aW9uc2hpcHM6IGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uc2hpcHMoKSB7XHJcbiAgICBsZXQgcmVsO1xyXG4gICAgcmVsID0gdGhpcy5yZWxhdGlvbnNoaXBzIHx8ICh0aGlzLnJlbGF0aW9uc2hpcHMgPSBbe1xyXG4gICAgICBuYW1lOiAnQWNjb3VudCcsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBhY2NvdW50UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWUsXHJcbiAgICAgIHR5cGU6ICdNYW55VG9PbmUnLFxyXG4gICAgICBwYXJlbnRQcm9wZXJ0eTogJ0FjY291bnQnLFxyXG4gICAgICBwYXJlbnRQcm9wZXJ0eVR5cGU6ICdvYmplY3QnLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnQWNjb3VudCcsXHJcbiAgICAgIHJlbGF0ZWRQcm9wZXJ0eVR5cGU6ICdvYmplY3QnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnQ29udGFjdCcsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBjb250YWN0UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWUsXHJcbiAgICAgIHR5cGU6ICdNYW55VG9PbmUnLFxyXG4gICAgICBwYXJlbnRQcm9wZXJ0eTogJ0NvbnRhY3QnLFxyXG4gICAgICBwYXJlbnRQcm9wZXJ0eVR5cGU6ICdvYmplY3QnLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnQ29udGFjdCcsXHJcbiAgICAgIHJlbGF0ZWRQcm9wZXJ0eVR5cGU6ICdvYmplY3QnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnSGlzdG9yeScsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBoaXN0b3J5UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnSGlzdG9yeScsXHJcbiAgICAgIHJlbGF0ZWRQcm9wZXJ0eTogJ1RpY2tldElkJyxcclxuICAgICAgd2hlcmU6ICdUeXBlIG5lIFwiYXREYXRhYmFzZUNoYW5nZVwiJyxcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogJ0FjdGl2aXR5JyxcclxuICAgICAgZGlzcGxheU5hbWU6IGFjdGl2aXR5UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnQWN0aXZpdHknLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdUaWNrZXRJZCcsXHJcbiAgICB9XSk7XHJcbiAgICByZXR1cm4gcmVsO1xyXG4gIH0sXHJcblxyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
