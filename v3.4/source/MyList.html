<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Views/Activity/MyList', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', 'dojo/query', 'dojo/_base/connect', '../../Environment', './List', 'argos/Convert', 'argos/ErrorManager', '../../Action', 'argos/Offline/_ListOfflineMixin', 'argos/Models/Types', '../../Models/Names', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseLang, _dojoString, _dojoQuery, _dojo_baseConnect, _Environment, _List, _argosConvert, _argosErrorManager, _Action, _argosOffline_ListOfflineMixin, _argosModelsTypes, _ModelsNames, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _string = _interopRequireDefault(_dojoString);

  var _query = _interopRequireDefault(_dojoQuery);

  var _connect = _interopRequireDefault(_dojo_baseConnect);

  var _environment = _interopRequireDefault(_Environment);

  var _ActivityList = _interopRequireDefault(_List);

  var _convert = _interopRequireDefault(_argosConvert);

  var _ErrorManager = _interopRequireDefault(_argosErrorManager);

  var _action = _interopRequireDefault(_Action);

  var _ListOfflineMixin2 = _interopRequireDefault(_argosOffline_ListOfflineMixin);

  var _MODEL_TYPES = _interopRequireDefault(_argosModelsTypes);

  var _MODEL_NAMES = _interopRequireDefault(_ModelsNames);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('activityMyList');
  var hashTagResource = (0, _getResource['default'])('activityMyListHashTags');

<span id='crm-Views-Activity-MyList'>  /**
</span>   * @class crm.Views.Activity.MyList
   *
   * @extends crm.Views.Activity.List
   * @mixins crm.Views.Activity.List
   *
   * @requires argos.List
   * @requires argos.Format
   * @requires argos.Utility
   * @requires argos.Convert
   * @requires argos.ErrorManager
   *
   * @requires crm.Format
   * @requires crm.Environment
   * @requires crm.Views.Activity.List
   * @requires crm.Action
   *
   * @requires moment
   *
   */
  var __class = (0, _declare['default'])('crm.Views.Activity.MyList', [_ActivityList['default'], _ListOfflineMixin2['default']], {

    // Templates
    // Card View
    itemRowContainerTemplate: new Simplate(['&lt;li data-action=&quot;activateEntry&quot; data-my-activity-key=&quot;{%= $.$key %}&quot; data-key=&quot;{%= $$.getItemActionKey($) %}&quot; data-descriptor=&quot;{%: $$.getItemDescriptor($) %}&quot; data-activity-type=&quot;{%: $.Activity.Type %}&quot;&gt;', '{%! $$.itemRowContentTemplate %}', '&lt;/li&gt;']),
    activityTimeTemplate: new Simplate(['{% if ($$.isTimelessToday($)) { %}', '{%: $$.allDayText %}', '{% } else { %}', '{%: crm.Format.relativeDate($.Activity.StartDate, argos.Convert.toBoolean($.Activity.Timeless)) %}', '{% } %}']),
    itemTemplate: new Simplate(['&lt;h3&gt;', '&lt;span class=&quot;p-description&quot;&gt;{%: $.Activity.Description %}{% if ($.Status === &quot;asUnconfirmed&quot;) { %} ({%: crm.Format.userActivityStatus($.Status) %}) {% } %}&lt;/span&gt;', '&lt;/h3&gt;', '&lt;h4&gt;', '{%! $$.activityTimeTemplate %}', '&lt;/h4&gt;', '&lt;h4&gt;{%! $$.nameTemplate %}&lt;/h4&gt;', '&lt;h4&gt;', '{% if ($.Activity.PhoneNumber) { %}', '&lt;span class=&quot;href&quot; data-action=&quot;_callPhone&quot; data-key=&quot;{%: $.$key %}&quot;&gt;{%: argos.Format.phone($.Activity.PhoneNumber) %}&lt;/span&gt;', '{% } %}', '&lt;/h4&gt;']),
    nameTemplate: new Simplate(['{% if ($.Activity.ContactName) { %}', '{%: $.Activity.ContactName %} | {%: $.Activity.AccountName %}', '{% } else if ($.Activity.AccountName) { %}', '{%: $.Activity.AccountName %}', '{% } else { %}', '{%: $.Activity.LeadName %}', '{% } %}']),

    // Localization
    titleText: resource.titleText,
    completeActivityText: resource.completeActivityText,
    acceptActivityText: resource.acceptActivityText,
    declineActivityText: resource.declineActivityText,
    callText: resource.callText,
    calledText: resource.calledText,
    addAttachmentActionText: resource.addAttachmentActionText,
    viewContactActionText: resource.viewContactActionText,
    viewAccountActionText: resource.viewAccountActionText,
    viewOpportunityActionText: resource.viewOpportunityActionText,

    // View Properties
    id: 'myactivity_list',
    entityName: 'UserActivity',
    modelName: 'UserActivity',
    enableOffline: true,
    historyEditView: 'history_edit',
    existsRE: /^[\w]{12}$/,
    queryWhere: function queryWhere() {
      return _string['default'].substitute('User.Id eq &quot;${0}&quot; and Status ne &quot;asDeclned&quot; and Activity.Type ne &quot;atLiterature&quot;', [App.context.user.$key]);
    },
    queryOrderBy: 'Activity.StartDate desc',
    querySelect: ['Alarm', 'AlarmTime', 'Status', 'Activity/Description', 'Activity/StartDate', 'Activity/EndDate', 'Activity/Type', 'Activity/AccountName', 'Activity/AccountId', 'Activity/ContactId', 'Activity/ContactName', 'Activity/Leader', 'Activity/LeadName', 'Activity/LeadId', 'Activity/OpportunityId', 'Activity/TicketId', 'Activity/UserId', 'Activity/Timeless', 'Activity/PhoneNumber', 'Activity/Recurring', 'Activity/Alarm', 'Activity/ModifyDate', 'Activity/Priority'],
    resourceKind: 'userActivities',
    allowSelection: true,
    enableActions: true,
    hashTagQueries: {
      'alarm': 'Alarm eq true',
      'status-unconfirmed': 'Status eq &quot;asUnconfirmed&quot;',
      'status-accepted': 'Status eq &quot;asAccepted&quot;',
      'status-declined': 'Status eq &quot;asDeclned&quot;',
      'recurring': 'Activity.Recurring eq true',
      'timeless': 'Activity.Timeless eq true',
      'yesterday': function yesterday() {
        var now = moment();
        var yesterdayStart = now.clone().subtract(1, 'days').startOf('day');
        var yesterdayEnd = yesterdayStart.clone().endOf('day');

        var theQuery = _string['default'].substitute('((Activity.Timeless eq false and Activity.StartDate between @${0}@ and @${1}@) or (Activity.Timeless eq true and Activity.StartDate between @${2}@ and @${3}@))', [_convert['default'].toIsoStringFromDate(yesterdayStart.toDate()), _convert['default'].toIsoStringFromDate(yesterdayEnd.toDate()), yesterdayStart.format('YYYY-MM-DDT00:00:00[Z]'), yesterdayEnd.format('YYYY-MM-DDT23:59:59[Z]')]);
        return theQuery;
      },
      'today': function today() {
        var now = moment();
        var todayStart = now.clone().startOf('day');
        var todayEnd = todayStart.clone().endOf('day');

        var theQuery = _string['default'].substitute('((Activity.Timeless eq false and Activity.StartDate between @${0}@ and @${1}@) or (Activity.Timeless eq true and Activity.StartDate between @${2}@ and @${3}@))', [_convert['default'].toIsoStringFromDate(todayStart.toDate()), _convert['default'].toIsoStringFromDate(todayEnd.toDate()), todayStart.format('YYYY-MM-DDT00:00:00[Z]'), todayEnd.format('YYYY-MM-DDT23:59:59[Z]')]);
        return theQuery;
      },
      'this-week': function thisWeek() {
        var now = moment();
        var weekStartDate = now.clone().startOf('week');
        var weekEndDate = weekStartDate.clone().endOf('week');

        var theQuery = _string['default'].substitute('((Activity.Timeless eq false and Activity.StartDate between @${0}@ and @${1}@) or (Activity.Timeless eq true and Activity.StartDate between @${2}@ and @${3}@))', [_convert['default'].toIsoStringFromDate(weekStartDate.toDate()), _convert['default'].toIsoStringFromDate(weekEndDate.toDate()), weekStartDate.format('YYYY-MM-DDT00:00:00[Z]'), weekEndDate.format('YYYY-MM-DDT23:59:59[Z]')]);
        return theQuery;
      }
    },
    hashTagQueriesText: {
      'alarm': hashTagResource.hashTagAlarmText,
      'status-unconfirmed': hashTagResource.hashTagUnconfirmedText,
      'status-accepted': hashTagResource.hashTagAcceptedText,
      'status-declined': hashTagResource.hashTagDeclinedText,
      'recurring': hashTagResource.hashTagRecurringText,
      'timeless': hashTagResource.hashTagTimelessText,
      'today': hashTagResource.hashTagTodayText,
      'this-week': hashTagResource.hashTagThisWeekText,
      'yesterday': hashTagResource.hashTagYesterdayText
    },
    createToolLayout: function createToolLayout() {
      this.inherited(arguments);
      if (this.tools &amp;&amp; this.tools.tbar &amp;&amp; !this._refreshAdded &amp;&amp; !window.App.supportsTouch()) {
        this.tools.tbar.push({
          id: 'refresh',
          cls: 'fa fa-refresh fa-fw fa-lg',
          action: '_refreshClicked'
        });

        this._refreshAdded = true;
      }

      return this.tools;
    },
    _refreshAdded: false,
    _refreshClicked: function _refreshClicked() {
      this.clear();
      this.refreshRequired = true;
      this.refresh();

      // Hook for customizers
      this.onRefreshClicked();
    },
    onRefreshClicked: function onRefreshClicked() {},
    _callPhone: function _callPhone(params) {
      this.invokeActionItemBy(function setActionId(theAction) {
        return theAction.id === 'call';
      }, params.key);
    },
    defaultSearchTerm: function defaultSearchTerm() {
      if (App.enableHashTags) {
        return '#' + this.hashTagQueriesText['this-week'];
      }

      return '';
    },
    createActionLayout: function createActionLayout() {
      return this.actions || (this.actions = [{
        id: 'viewAccount',
        label: this.viewAccountActionText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          if (!entry) {
            return false;
          }
          if (entry.Activity.AccountId) {
            return true;
          }
          return false;
        },
        fn: function fn(theAction, selection) {
          var viewId = 'account_detail';
          var options = {
            key: selection.data.Activity.AccountId,
            descriptor: selection.data.Activity.AccountName
          };

          var view = App.getView(viewId);
          if (view &amp;&amp; options) {
            view.show(options);
          }
        }
      }, {
        id: 'viewOpportunity',
        label: this.viewOpportunityActionText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          if (!entry) {
            return false;
          }
          if (entry.Activity.OpportunityId) {
            return true;
          }
          return false;
        },
        fn: function fn(theAction, selection) {
          var viewId = 'opportunity_detail';
          var options = {
            key: selection.data.Activity.OpportunityId,
            descriptor: selection.data.Activity.OpportunityName
          };
          var view = App.getView(viewId);
          if (view &amp;&amp; options) {
            view.show(options);
          }
        }
      }, {
        id: 'viewContact',
        label: this.viewContactActionText,
        action: 'navigateToContactOrLead',
        enabled: this.hasContactOrLead
      }, {
        id: 'complete',
        cls: 'fa fa-check-square fa-2x',
        label: this.completeActivityText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          if (!entry) {
            return false;
          }

          var recur = entry.Activity.Recurring;

          return entry.Activity.Leader.$key === App.context.user.$key &amp;&amp; !recur;
        },
        fn: (function fn(theAction, selection) {
          var entry = selection &amp;&amp; selection.data &amp;&amp; selection.data.Activity;

          entry.CompletedDate = new Date();
          entry.Result = 'Complete';

          _environment['default'].refreshActivityLists();
          this.completeActivity(entry);
        }).bindDelegate(this)
      }, {
        id: 'accept',
        cls: 'fa fa-check fa-2x',
        label: this.acceptActivityText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          if (!entry) {
            return false;
          }

          return entry.Status === 'asUnconfirmed';
        },
        fn: (function fn(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          _environment['default'].refreshActivityLists();
          this.confirmActivityFor(entry.Activity.$key, App.context.user.$key);
        }).bindDelegate(this)
      }, {
        id: 'decline',
        cls: 'fa fa-ban fa-2x',
        label: this.declineActivityText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          if (!entry) {
            return false;
          }

          return entry.Status === 'asUnconfirmed';
        },
        fn: (function fn(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;

          _environment['default'].refreshActivityLists();
          this.declineActivityFor(entry.Activity.$key, App.context.user.$key);
        }).bindDelegate(this)
      }, {
        id: 'call',
        cls: 'fa fa-phone-square fa-2x',
        label: this.callText,
        enabled: function enabled(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          return entry &amp;&amp; entry.Activity &amp;&amp; entry.Activity.PhoneNumber;
        },
        fn: (function fn(theAction, selection) {
          var entry = selection &amp;&amp; selection.data;
          var phone = entry &amp;&amp; entry.Activity &amp;&amp; entry.Activity.PhoneNumber;
          if (phone) {
            this.recordCallToHistory((function initiateCall() {
              App.initiateCall(phone);
            }).bindDelegate(this), entry);
          }
        }).bindDelegate(this)
      }, {
        id: 'addAttachment',
        cls: 'fa fa-paperclip fa-2x',
        label: this.addAttachmentActionText,
        fn: _action['default'].addAttachment.bindDelegate(this)
      }]);
    },
    selectEntry: function selectEntry(params, evt, node) {
      /* Override selectEntry from the base List mixin.
       * Grabbing a different key here, since we use entry.Activity.$key as the main data-key.
       * TODO: Make [data-key] overrideable in the base class.
       */
      var row = (0, _query['default'])(node).closest('[data-my-activity-key]')[0];
      var key = row ? row.getAttribute('data-my-activity-key') : false;

      if (this._selectionModel &amp;&amp; key) {
        this._selectionModel.toggle(key, this.entries[key], row);
      }

      if (this.options.singleSelect &amp;&amp; this.options.singleSelectAction &amp;&amp; !this.enableActions) {
        this.invokeSingleSelectAction();
      }
    },
    formatSearchQuery: function formatSearchQuery(searchQuery) {
      return _string['default'].substitute('upper(Activity.Description) like &quot;%${0}%&quot;', [this.escapeSearchQuery(searchQuery.toUpperCase())]);
    },
    declineActivityFor: function declineActivityFor(activityId, userId) {
      this._getUserNotifications(activityId, userId, false);
    },
    confirmActivityFor: function confirmActivityFor(activityId, userId) {
      this._getUserNotifications(activityId, userId, true);
    },
    _getUserNotifications: function _getUserNotifications(activityId, userId, accept) {
      var id = activityId;
      if (activityId) {
        id = activityId.substring(0, 12);
      }

      var req = new Sage.SData.Client.SDataResourceCollectionRequest(this.getService());
      req.setResourceKind('userNotifications');
      req.setContractName('dynamic');
      req.setQueryArg('where', _string['default'].substitute('ActivityId eq \'${0}\' and ToUser.Id eq \'${1}\'', [id, userId]));
      req.setQueryArg('precedence', '0');
      req.read({
        success: function success(userNotifications) {
          if (userNotifications.$resources &amp;&amp; userNotifications.$resources.length &gt; 0) {
            if (accept) {
              this.acceptConfirmation(userNotifications.$resources[0]);
            } else {
              this.declineConfirmation(userNotifications.$resources[0]);
            }
          }
        },
        failure: this.onRequestFailure,
        scope: this
      });
    },
    declineConfirmation: function declineConfirmation(notification) {
      this._postUserNotifications(notification, 'Decline');
    },
    acceptConfirmation: function acceptConfirmation(notification) {
      this._postUserNotifications(notification, 'Accept');
    },
    _postUserNotifications: function _postUserNotifications(notification, operation) {
      if (!notification || typeof operation !== 'string') {
        return;
      }
      /*
       * To get the payload template:
       * http://localhost:6666/SlxClient/slxdata.ashx/slx/dynamic/-/userNotifications/$service/accept/$template?format=json
       */
      var payload = {
        '$name': operation,
        'request': {
          'entity': notification,
          'UserNotificationId': notification.$key
        }
      };

      var request = new Sage.SData.Client.SDataServiceOperationRequest(this.getService()).setContractName('dynamic').setResourceKind('usernotifications').setOperationName(operation.toLowerCase());
      request.execute(payload, {
        success: function success() {
          this.clear();
          this.refresh();
        },
        failure: this.onRequestFailure,
        scope: this
      });
    },
    completeActivity: function completeActivity(entry) {
      var _this = this;

      var activityModel = App.ModelManager.getModel(_MODEL_NAMES['default'].ACTIVITY, _MODEL_TYPES['default'].SDATA);
      if (activityModel) {
        activityModel.completeActivity(entry).then(function () {
          _connect['default'].publish('/app/refresh', [{
            resourceKind: 'history'
          }]);

          _this.clear();
          _this.refresh();
        }, function (err) {
          _ErrorManager['default'].addError(err, _this, {}, 'failure');
        });
      }
    },
    onRequestFailure: function onRequestFailure(response, o) {
      _ErrorManager['default'].addError(response, o, {}, 'failure');
    },
    hasAlarm: function hasAlarm(entry) {
      if (entry.Activity &amp;&amp; entry.Activity.Alarm === true) {
        return true;
      }

      return false;
    },
    hasBeenTouched: function hasBeenTouched(entry) {
      if (entry.Activity.ModifyDate) {
        var modifiedDate = moment(_convert['default'].toDateFromString(entry.Activity.ModifyDate));
        var currentDate = moment().endOf('day');
        var weekAgo = moment().subtract(1, 'weeks');

        return modifiedDate.isAfter(weekAgo) &amp;&amp; modifiedDate.isBefore(currentDate);
      }

      return false;
    },
    isImportant: function isImportant(entry) {
      if (entry.Activity.Priority) {
        if (entry.Activity.Priority === 'High') {
          return true;
        }
      }

      return false;
    },
    isOverdue: function isOverdue(entry) {
      if (entry.Activity.StartDate) {
        var startDate = _convert['default'].toDateFromString(entry.Activity.StartDate);
        var currentDate = new Date();
        var seconds = Math.round((currentDate - startDate) / 1000);
        var mins = seconds / 60;
        if (mins &gt;= 1) {
          return true;
        }
      }
      return false;
    },
    isTimelessToday: function isTimelessToday(entry) {
      if (!entry || !entry.Activity || !entry.Activity.Timeless) {
        return false;
      }

      var start = moment(entry.Activity.StartDate);
      return this._isTimelessToday(start);
    },
    isRecurring: function isRecurring(entry) {
      if (entry.Activity.Recurring) {
        return true;
      }

      return false;
    },
    getItemIconClass: function getItemIconClass(entry) {
      var type = entry &amp;&amp; entry.Activity &amp;&amp; entry.Activity.Type;
      return this._getItemIconClass(type);
    },
    getItemActionKey: function getItemActionKey(entry) {
      return entry.Activity.$key;
    },
    getItemDescriptor: function getItemDescriptor(entry) {
      return entry.Activity.$descriptor;
    },
    hasContactOrLead: function hasContactOrLead(theAction, selection) {
      return selection.data.Activity.ContactId || selection.data.Activity.LeadId;
    },
    navigateToContactOrLead: function navigateToContactOrLead(theAction, selection) {
      var entry = selection.data.Activity;
      var entity = this.resolveContactOrLeadEntity(entry);
      var viewId = undefined;
      var options = undefined;

      switch (entity) {
        case 'Contact':
          viewId = 'contact_detail';
          options = {
            key: entry.ContactId,
            descriptor: entry.ContactName
          };
          break;
        case 'Lead':
          viewId = 'lead_detail';
          options = {
            key: entry.LeadId,
            descriptor: entry.LeadName
          };
          break;
        default:
      }

      var view = App.getView(viewId);

      if (view &amp;&amp; options) {
        view.show(options);
      }
    },
    resolveContactOrLeadEntity: function resolveContactOrLeadEntity(entry) {
      var exists = this.existsRE;

      if (entry) {
        if (exists.test(entry.LeadId)) {
          return 'Lead';
        }
        if (exists.test(entry.ContactId)) {
          return 'Contact';
        }
      }
    },
    recordCallToHistory: function recordCallToHistory(complete, entry) {
      var tempEntry = {
        '$name': 'History',
        'Type': 'atPhoneCall',
        'ContactName': entry.Activity.ContactName,
        'ContactId': entry.Activity.ContactId,
        'AccountName': entry.Activity.AccountName,
        'AccountId': entry.Activity.AccountId,
        'Description': _string['default'].substitute('${0} ${1}', [this.calledText, entry.Activity.ContactName || '']),
        'UserId': App.context &amp;&amp; App.context.user.$key,
        'UserName': App.context &amp;&amp; App.context.user.UserName,
        'Duration': 15,
        'CompletedDate': new Date()
      };

      this.navigateToHistoryInsert('atPhoneCall', tempEntry, complete);
    },

    navigateToHistoryInsert: function navigateToHistoryInsert(type, entry, complete) {
      var view = App.getView(this.historyEditView);
      if (view) {
        _environment['default'].refreshActivityLists();
        view.show({
          title: this.activityTypeText[type],
          template: {},
          entry: entry,
          insert: true
        }, {
          complete: complete
        });
      }
    },
    createBriefcaseEntity: function createBriefcaseEntity(entry) {
      var entity = {
        entityId: entry.Activity.$key,
        entityName: 'Activity',
        options: {
          includeRelated: true,
          viewId: this.detailView,
          iconClass: this.getItemIconClass(entry)
        }
      };
      return entity;
    }
  });

  _lang['default'].setObject('Mobile.SalesLogix.Views.Activity.MyList', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9WaWV3cy9BY3Rpdml0eS9NeUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGdCQUFnQixDQUFDLENBQUM7QUFDL0MsTUFBTSxlQUFlLEdBQUcsNkJBQVksd0JBQXdCLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCOUQsTUFBTSxPQUFPLEdBQUcseUJBQVEsMkJBQTJCLEVBQUUseURBQWlDLEVBQUU7Ozs7QUFJdEYsNEJBQXdCLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDckMsNk1BQTZNLEVBQzdNLGtDQUFrQyxFQUNsQyxPQUFPLENBQ1IsQ0FBQztBQUNGLHdCQUFvQixFQUFFLElBQUksUUFBUSxDQUFDLENBQ2pDLG9DQUFvQyxFQUNwQyxzQkFBc0IsRUFDdEIsZ0JBQWdCLEVBQ2hCLG9HQUFvRyxFQUNwRyxTQUFTLENBQ1YsQ0FBQztBQUNGLGdCQUFZLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDekIsTUFBTSxFQUNOLG9LQUFvSyxFQUNwSyxPQUFPLEVBQ1AsTUFBTSxFQUNOLGdDQUFnQyxFQUNoQyxPQUFPLEVBQ1AsaUNBQWlDLEVBQ2pDLE1BQU0sRUFDTixxQ0FBcUMsRUFDckMsK0hBQStILEVBQy9ILFNBQVMsRUFDVCxPQUFPLENBQ1IsQ0FBQztBQUNGLGdCQUFZLEVBQUUsSUFBSSxRQUFRLENBQUMsQ0FDekIscUNBQXFDLEVBQ3JDLCtEQUErRCxFQUMvRCw0Q0FBNEMsRUFDNUMsK0JBQStCLEVBQy9CLGdCQUFnQixFQUNoQiw0QkFBNEIsRUFDNUIsU0FBUyxDQUNWLENBQUM7OztBQUdGLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUztBQUM3Qix3QkFBb0IsRUFBRSxRQUFRLENBQUMsb0JBQW9CO0FBQ25ELHNCQUFrQixFQUFFLFFBQVEsQ0FBQyxrQkFBa0I7QUFDL0MsdUJBQW1CLEVBQUUsUUFBUSxDQUFDLG1CQUFt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O0FBQ2xDLGtCQUFRLEVBQUUsRUFBRTtBQUNaLGVBQUssRUFBRSxLQUFLO0FBQ1osZ0JBQU0sRUFBRSxJQUFJO1NBQ2IsRUFBRTtBQUNELGtCQUFRLEVBQUUsUUFBUTtTQUNuQixDQUFDLENBQUM7T0FDSjtLQUNGO0FBQ0QseUJBQXFCLEVBQUUsU0FBUyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUU7QUFDM0QsVUFBTSxNQUFNLEdBQUc7QUFDYixnQkFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSTtBQUM3QixrQkFBVSxFQUFFLFVBQVU7QUFDdEIsZUFBTyxFQUFFO0FBQ1Asd0JBQWMsRUFBRSxJQUFJO0FBQ3BCLGdCQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVU7QUFDdkIsbUJBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1NBQ3hDO09BQ0YsQ0FBQztBQUNGLGFBQU8sTUFBTSxDQUFDO0tBQ2Y7R0FDRixDQUFDLENBQUM7O0FBRUgsbUJBQUssU0FBUyxDQUFDLHlDQUF5QyxFQUFFLE9BQU8sQ0FBQyxDQUFDO21CQUNwRCxPQUFPIiwiZmlsZSI6InNyYy9WaWV3cy9BY3Rpdml0eS9NeUxpc3QuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IHN0cmluZyBmcm9tICdkb2pvL3N0cmluZyc7XHJcbmltcG9ydCBxdWVyeSBmcm9tICdkb2pvL3F1ZXJ5JztcclxuaW1wb3J0IGNvbm5lY3QgZnJvbSAnZG9qby9fYmFzZS9jb25uZWN0JztcclxuaW1wb3J0IGVudmlyb25tZW50IGZyb20gJy4uLy4uL0Vudmlyb25tZW50JztcclxuaW1wb3J0IEFjdGl2aXR5TGlzdCBmcm9tICcuL0xpc3QnO1xyXG5pbXBvcnQgY29udmVydCBmcm9tICdhcmdvcy9Db252ZXJ0JztcclxuaW1wb3J0IEVycm9yTWFuYWdlciBmcm9tICdhcmdvcy9FcnJvck1hbmFnZXInO1xyXG5pbXBvcnQgYWN0aW9uIGZyb20gJy4uLy4uL0FjdGlvbic7XHJcbmltcG9ydCBfTGlzdE9mZmxpbmVNaXhpbiBmcm9tICdhcmdvcy9PZmZsaW5lL19MaXN0T2ZmbGluZU1peGluJztcclxuaW1wb3J0IE1PREVMX1RZUEVTIGZyb20gJ2FyZ29zL01vZGVscy9UeXBlcyc7XHJcbmltcG9ydCBNT0RFTF9OQU1FUyBmcm9tICcuLi8uLi9Nb2RlbHMvTmFtZXMnO1xyXG5pbXBvcnQgZ2V0UmVzb3VyY2UgZnJvbSAnYXJnb3MvSTE4bic7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY3Rpdml0eU15TGlzdCcpO1xyXG5jb25zdCBoYXNoVGFnUmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnYWN0aXZpdHlNeUxpc3RIYXNoVGFncycpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBjcm0uVmlld3MuQWN0aXZpdHkuTXlMaXN0XHJcbiAqXHJcbiAqIEBleHRlbmRzIGNybS5WaWV3cy5BY3Rpdml0eS5MaXN0XHJcbiAqIEBtaXhpbnMgY3JtLlZpZXdzLkFjdGl2aXR5Lkxpc3RcclxuICpcclxuICogQHJlcXVpcmVzIGFyZ29zLkxpc3RcclxuICogQHJlcXVpcmVzIGFyZ29zLkZvcm1hdFxyXG4gKiBAcmVxdWlyZXMgYXJnb3MuVXRpbGl0eVxyXG4gKiBAcmVxdWlyZXMgYXJnb3MuQ29udmVydFxyXG4gKiBAcmVxdWlyZXMgYXJnb3MuRXJyb3JNYW5hZ2VyXHJcbiAqXHJcbiAqIEByZXF1aXJlcyBjcm0uRm9ybWF0XHJcbiAqIEByZXF1aXJlcyBjcm0uRW52aXJvbm1lbnRcclxuICogQHJlcXVpcmVzIGNybS5WaWV3cy5BY3Rpdml0eS5MaXN0XHJcbiAqIEByZXF1aXJlcyBjcm0uQWN0aW9uXHJcbiAqXHJcbiAqIEByZXF1aXJlcyBtb21lbnRcclxuICpcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uVmlld3MuQWN0aXZpdHkuTXlMaXN0JywgW0FjdGl2aXR5TGlzdCwgX0xpc3RPZmZsaW5lTWl4aW5dLCB7XHJcblxyXG4gIC8vIFRlbXBsYXRlc1xyXG4gIC8vIENhcmQgVmlld1xyXG4gIGl0ZW1Sb3dDb250YWluZXJUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8bGkgZGF0YS1hY3Rpb249XCJhY3RpdmF0ZUVudHJ5XCIgZGF0YS1teS1hY3Rpdml0eS1rZXk9XCJ7JT0gJC4ka2V5ICV9XCIgZGF0YS1rZXk9XCJ7JT0gJCQuZ2V0SXRlbUFjdGlvbktleSgkKSAlfVwiIGRhdGEtZGVzY3JpcHRvcj1cInslOiAkJC5nZXRJdGVtRGVzY3JpcHRvcigkKSAlfVwiIGRhdGEtYWN0aXZpdHktdHlwZT1cInslOiAkLkFjdGl2aXR5LlR5cGUgJX1cIj4nLFxyXG4gICAgJ3slISAkJC5pdGVtUm93Q29udGVudFRlbXBsYXRlICV9JyxcclxuICAgICc8L2xpPicsXHJcbiAgXSksXHJcbiAgYWN0aXZpdHlUaW1lVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAneyUgaWYgKCQkLmlzVGltZWxlc3NUb2RheSgkKSkgeyAlfScsXHJcbiAgICAneyU6ICQkLmFsbERheVRleHQgJX0nLFxyXG4gICAgJ3slIH0gZWxzZSB7ICV9JyxcclxuICAgICd7JTogY3JtLkZvcm1hdC5yZWxhdGl2ZURhdGUoJC5BY3Rpdml0eS5TdGFydERhdGUsIGFyZ29zLkNvbnZlcnQudG9Cb29sZWFuKCQuQWN0aXZpdHkuVGltZWxlc3MpKSAlfScsXHJcbiAgICAneyUgfSAlfScsXHJcbiAgXSksXHJcbiAgaXRlbVRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxoMz4nLFxyXG4gICAgJzxzcGFuIGNsYXNzPVwicC1kZXNjcmlwdGlvblwiPnslOiAkLkFjdGl2aXR5LkRlc2NyaXB0aW9uICV9eyUgaWYgKCQuU3RhdHVzID09PSBcImFzVW5jb25maXJtZWRcIikgeyAlfSAoeyU6IGNybS5Gb3JtYXQudXNlckFjdGl2aXR5U3RhdHVzKCQuU3RhdHVzKSAlfSkgeyUgfSAlfTwvc3Bhbj4nLFxyXG4gICAgJzwvaDM+JyxcclxuICAgICc8aDQ+JyxcclxuICAgICd7JSEgJCQuYWN0aXZpdHlUaW1lVGVtcGxhdGUgJX0nLFxyXG4gICAgJzwvaDQ+JyxcclxuICAgICc8aDQ+eyUhICQkLm5hbWVUZW1wbGF0ZSAlfTwvaDQ+JyxcclxuICAgICc8aDQ+JyxcclxuICAgICd7JSBpZiAoJC5BY3Rpdml0eS5QaG9uZU51bWJlcikgeyAlfScsXHJcbiAgICAnPHNwYW4gY2xhc3M9XCJocmVmXCIgZGF0YS1hY3Rpb249XCJfY2FsbFBob25lXCIgZGF0YS1rZXk9XCJ7JTogJC4ka2V5ICV9XCI+eyU6IGFyZ29zLkZvcm1hdC5waG9uZSgkLkFjdGl2aXR5LlBob25lTnVtYmVyKSAlfTwvc3Bhbj4nLFxyXG4gICAgJ3slIH0gJX0nLFxyXG4gICAgJzwvaDQ+JyxcclxuICBdKSxcclxuICBuYW1lVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAneyUgaWYgKCQuQWN0aXZpdHkuQ29udGFjdE5hbWUpIHsgJX0nLFxyXG4gICAgJ3slOiAkLkFjdGl2aXR5LkNvbnRhY3ROYW1lICV9IHwgeyU6ICQuQWN0aXZpdHkuQWNjb3VudE5hbWUgJX0nLFxyXG4gICAgJ3slIH0gZWxzZSBpZiAoJC5BY3Rpdml0eS5BY2NvdW50TmFtZSkgeyAlfScsXHJcbiAgICAneyU6ICQuQWN0aXZpdHkuQWNjb3VudE5hbWUgJX0nLFxyXG4gICAgJ3slIH0gZWxzZSB7ICV9JyxcclxuICAgICd7JTogJC5BY3Rpdml0eS5MZWFkTmFtZSAlfScsXHJcbiAgICAneyUgfSAlfScsXHJcbiAgXSksXHJcblxyXG4gIC8vIExvY2FsaXphdGlvblxyXG4gIHRpdGxlVGV4dDogcmVzb3VyY2UudGl0bGVUZXh0LFxyXG4gIGNvbXBsZXRlQWN0aXZpdHlUZXh0OiByZXNvdXJjZS5jb21wbGV0ZUFjdGl2aXR5VGV4dCxcclxuICBhY2NlcHRBY3Rpdml0eVRleHQ6IHJlc291cmNlLmFjY2VwdEFjdGl2aXR5VGV4dCxcclxuICBkZWNsaW5lQWN0aXZpdHlUZXh0OiByZXNvdXJjZS5kZWNsaW5lQWN0aXZpdHlUZXh0LFxyXG4gIGNhbGxUZXh0OiByZXNvdXJjZS5jYWxsVGV4dCxcclxuICBjYWxsZWRUZXh0OiByZXNvdXJjZS5jYWxsZWRUZXh0LFxyXG4gIGFkZEF0dGFjaG1lbnRBY3Rpb25UZXh0OiByZXNvdXJjZS5hZGRBdHRhY2htZW50QWN0aW9uVGV4dCxcclxuICB2aWV3Q29udGFjdEFjdGlvblRleHQ6IHJlc291cmNlLnZpZXdDb250YWN0QWN0aW9uVGV4dCxcclxuICB2aWV3QWNjb3VudEFjdGlvblRleHQ6IHJlc291cmNlLnZpZXdBY2NvdW50QWN0aW9uVGV4dCxcclxuICB2aWV3T3Bwb3J0dW5pdHlBY3Rpb25UZXh0OiByZXNvdXJjZS52aWV3T3Bwb3J0dW5pdHlBY3Rpb25UZXh0LFxyXG5cclxuICAvLyBWaWV3IFByb3BlcnRpZXNcclxuICBpZDogJ215YWN0aXZpdHlfbGlzdCcsXHJcbiAgZW50aXR5TmFtZTogJ1VzZXJBY3Rpdml0eScsXHJcbiAgbW9kZWxOYW1lOiAnVXNlckFjdGl2aXR5JyxcclxuICBlbmFibGVPZmZsaW5lOiB0cnVlLFxyXG4gIGhpc3RvcnlFZGl0VmlldzogJ2hpc3RvcnlfZWRpdCcsXHJcbiAgZXhpc3RzUkU6IC9eW1xcd117MTJ9JC8sXHJcbiAgcXVlcnlXaGVyZTogZnVuY3Rpb24gcXVlcnlXaGVyZSgpIHtcclxuICAgIHJldHVybiBzdHJpbmcuc3Vic3RpdHV0ZSgnVXNlci5JZCBlcSBcIiR7MH1cIiBhbmQgU3RhdHVzIG5lIFwiYXNEZWNsbmVkXCIgYW5kIEFjdGl2aXR5LlR5cGUgbmUgXCJhdExpdGVyYXR1cmVcIicsIFtBcHAuY29udGV4dC51c2VyLiRrZXldKTtcclxuICB9LFxyXG4gIHF1ZXJ5T3JkZXJCeTogJ0FjdGl2aXR5LlN0YXJ0RGF0ZSBkZXNjJyxcclxuICBxdWVyeVNlbGVjdDogW1xyXG4gICAgJ0FsYXJtJyxcclxuICAgICdBbGFybVRpbWUnLFxyXG4gICAgJ1N0YXR1cycsXHJcbiAgICAnQWN0aXZpdHkvRGVzY3JpcHRpb24nLFxyXG4gICAgJ0FjdGl2aXR5L1N0YXJ0RGF0ZScsXHJcbiAgICAnQWN0aXZpdHkvRW5kRGF0ZScsXHJcbiAgICAnQWN0aXZpdHkvVHlwZScsXHJcbiAgICAnQWN0aXZpdHkvQWNjb3VudE5hbWUnLFxyXG4gICAgJ0FjdGl2aXR5L0FjY291bnRJZCcsXHJcbiAgICAnQWN0aXZpdHkvQ29udGFjdElkJyxcclxuICAgICdBY3Rpdml0eS9Db250YWN0TmFtZScsXHJcbiAgICAnQWN0aXZpdHkvTGVhZGVyJyxcclxuICAgICdBY3Rpdml0eS9MZWFkTmFtZScsXHJcbiAgICAnQWN0aXZpdHkvTGVhZElkJyxcclxuICAgICdBY3Rpdml0eS9PcHBvcnR1bml0eUlkJyxcclxuICAgICdBY3Rpdml0eS9UaWNrZXRJZCcsXHJcbiAgICAnQWN0aXZpdHkvVXNlcklkJyxcclxuICAgICdBY3Rpdml0eS9UaW1lbGVzcycsXHJcbiAgICAnQWN0aXZpdHkvUGhvbmVOdW1iZXInLFxyXG4gICAgJ0FjdGl2aXR5L1JlY3VycmluZycsXHJcbiAgICAnQWN0aXZpdHkvQWxhcm0nLFxyXG4gICAgJ0FjdGl2aXR5L01vZGlmeURhdGUnLFxyXG4gICAgJ0FjdGl2aXR5L1ByaW9yaXR5JyxcclxuICBdLFxyXG4gIHJlc291cmNlS2luZDogJ3VzZXJBY3Rpdml0aWVzJyxcclxuICBhbGxvd1NlbGVjdGlvbjogdHJ1ZSxcclxuICBlbmFibGVBY3Rpb25zOiB0cnVlLFxyXG4gIGhhc2hUYWdRdWVyaWVzOiB7XHJcbiAgICAnYWxhcm0nOiAnQWxhcm0gZXEgdHJ1ZScsXHJcbiAgICAnc3RhdHVzLXVuY29uZmlybWVkJzogJ1N0YXR1cyBlcSBcImFzVW5jb25maXJtZWRcIicsXHJcbiAgICAnc3RhdHVzLWFjY2VwdGVkJzogJ1N0YXR1cyBlcSBcImFzQWNjZXB0ZWRcIicsXHJcbiAgICAnc3RhdHVzLWRlY2xpbmVkJzogJ1N0YXR1cyBlcSBcImFzRGVjbG5lZFwiJyxcclxuICAgICdyZWN1cnJpbmcnOiAnQWN0aXZpdHkuUmVjdXJyaW5nIGVxIHRydWUnLFxyXG4gICAgJ3RpbWVsZXNzJzogJ0FjdGl2aXR5LlRpbWVsZXNzIGVxIHRydWUnLFxyXG4gICAgJ3llc3RlcmRheSc6IGZ1bmN0aW9uIHllc3RlcmRheSgpIHtcclxuICAgICAgY29uc3Qgbm93ID0gbW9tZW50KCk7XHJcbiAgICAgIGNvbnN0IHllc3RlcmRheVN0YXJ0ID0gbm93LmNsb25lKCkuc3VidHJhY3QoMSwgJ2RheXMnKS5zdGFydE9mKCdkYXknKTtcclxuICAgICAgY29uc3QgeWVzdGVyZGF5RW5kID0geWVzdGVyZGF5U3RhcnQuY2xvbmUoKS5lbmRPZignZGF5Jyk7XHJcblxyXG4gICAgICBjb25zdCB0aGVRdWVyeSA9IHN0cmluZy5zdWJzdGl0dXRlKFxyXG4gICAgICAgICcoKEFjdGl2aXR5LlRpbWVsZXNzIGVxIGZhbHNlIGFuZCBBY3Rpdml0eS5TdGFydERhdGUgYmV0d2VlbiBAJHswfUAgYW5kIEAkezF9QCkgb3IgKEFjdGl2aXR5LlRpbWVsZXNzIGVxIHRydWUgYW5kIEFjdGl2aXR5LlN0YXJ0RGF0ZSBiZXR3ZWVuIEAkezJ9QCBhbmQgQCR7M31AKSknLCBbXHJcbiAgICAgICAgICBjb252ZXJ0LnRvSXNvU3RyaW5nRnJvbURhdGUoeWVzdGVyZGF5U3RhcnQudG9EYXRlKCkpLFxyXG4gICAgICAgICAgY29udmVydC50b0lzb1N0cmluZ0Zyb21EYXRlKHllc3RlcmRheUVuZC50b0RhdGUoKSksXHJcbiAgICAgICAgICB5ZXN0ZXJkYXlTdGFydC5mb3JtYXQoJ1lZWVktTU0tRERUMDA6MDA6MDBbWl0nKSxcclxuICAgICAgICAgIHllc3RlcmRheUVuZC5mb3JtYXQoJ1lZWVktTU0tRERUMjM6NTk6NTlbWl0nKSxcclxuICAgICAgICBdXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB0aGVRdWVyeTtcclxuICAgIH0sXHJcbiAgICAndG9kYXknOiBmdW5jdGlvbiB0b2RheSgpIHtcclxuICAgICAgY29uc3Qgbm93ID0gbW9tZW50KCk7XHJcbiAgICAgIGNvbnN0IHRvZGF5U3RhcnQgPSBub3cuY2xvbmUoKS5zdGFydE9mKCdkYXknKTtcclxuICAgICAgY29uc3QgdG9kYXlFbmQgPSB0b2RheVN0YXJ0LmNsb25lKCkuZW5kT2YoJ2RheScpO1xyXG5cclxuICAgICAgY29uc3QgdGhlUXVlcnkgPSBzdHJpbmcuc3Vic3RpdHV0ZShcclxuICAgICAgICAnKChBY3Rpdml0eS5UaW1lbGVzcyBlcSBmYWxzZSBhbmQgQWN0aXZpdHkuU3RhcnREYXRlIGJldHdlZW4gQCR7MH1AIGFuZCBAJHsxfUApIG9yIChBY3Rpdml0eS5UaW1lbGVzcyBlcSB0cnVlIGFuZCBBY3Rpdml0eS5TdGFydERhdGUgYmV0d2VlbiBAJHsyfUAgYW5kIEAkezN9QCkpJywgW1xyXG4gICAgICAgICAgY29udmVydC50b0lzb1N0cmluZ0Zyb21EYXRlKHRvZGF5U3RhcnQudG9EYXRlKCkpLFxyXG4gICAgICAgICAgY29udmVydC50b0lzb1N0cmluZ0Zyb21EYXRlKHRvZGF5RW5kLnRvRGF0ZSgpKSxcclxuICAgICAgICAgIHRvZGF5U3RhcnQuZm9ybWF0KCdZWVlZLU1NLUREVDAwOjAwOjAwW1pdJyksXHJcbiAgICAgICAgICB0b2RheUVuZC5mb3JtYXQoJ1lZWVktTU0tRERUMjM6NTk6NTlbWl0nKSxcclxuICAgICAgICBdXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB0aGVRdWVyeTtcclxuICAgIH0sXHJcbiAgICAndGhpcy13ZWVrJzogZnVuY3Rpb24gdGhpc1dlZWsoKSB7XHJcbiAgICAgIGNvbnN0IG5vdyA9IG1vbWVudCgpO1xyXG4gICAgICBjb25zdCB3ZWVrU3RhcnREYXRlID0gbm93LmNsb25lKCkuc3RhcnRPZignd2VlaycpO1xyXG4gICAgICBjb25zdCB3ZWVrRW5kRGF0ZSA9IHdlZWtTdGFydERhdGUuY2xvbmUoKS5lbmRPZignd2VlaycpO1xyXG5cclxuICAgICAgY29uc3QgdGhlUXVlcnkgPSBzdHJpbmcuc3Vic3RpdHV0ZShcclxuICAgICAgICAnKChBY3Rpdml0eS5UaW1lbGVzcyBlcSBmYWxzZSBhbmQgQWN0aXZpdHkuU3RhcnREYXRlIGJldHdlZW4gQCR7MH1AIGFuZCBAJHsxfUApIG9yIChBY3Rpdml0eS5UaW1lbGVzcyBlcSB0cnVlIGFuZCBBY3Rpdml0eS5TdGFydERhdGUgYmV0d2VlbiBAJHsyfUAgYW5kIEAkezN9QCkpJywgW1xyXG4gICAgICAgICAgY29udmVydC50b0lzb1N0cmluZ0Zyb21EYXRlKHdlZWtTdGFydERhdGUudG9EYXRlKCkpLFxyXG4gICAgICAgICAgY29udmVydC50b0lzb1N0cmluZ0Zyb21EYXRlKHdlZWtFbmREYXRlLnRvRGF0ZSgpKSxcclxuICAgICAgICAgIHdlZWtTdGFydERhdGUuZm9ybWF0KCdZWVlZLU1NLUREVDAwOjAwOjAwW1pdJyksXHJcbiAgICAgICAgICB3ZWVrRW5kRGF0ZS5mb3JtYXQoJ1lZWVktTU0tRERUMjM6NTk6NTlbWl0nKSxcclxuICAgICAgICBdXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB0aGVRdWVyeTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBoYXNoVGFnUXVlcmllc1RleHQ6IHtcclxuICAgICdhbGFybSc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnQWxhcm1UZXh0LFxyXG4gICAgJ3N0YXR1cy11bmNvbmZpcm1lZCc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnVW5jb25maXJtZWRUZXh0LFxyXG4gICAgJ3N0YXR1cy1hY2NlcHRlZCc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnQWNjZXB0ZWRUZXh0LFxyXG4gICAgJ3N0YXR1cy1kZWNsaW5lZCc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnRGVjbGluZWRUZXh0LFxyXG4gICAgJ3JlY3VycmluZyc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnUmVjdXJyaW5nVGV4dCxcclxuICAgICd0aW1lbGVzcyc6IGhhc2hUYWdSZXNvdXJjZS5oYXNoVGFnVGltZWxlc3NUZXh0LFxyXG4gICAgJ3RvZGF5JzogaGFzaFRhZ1Jlc291cmNlLmhhc2hUYWdUb2RheVRleHQsXHJcbiAgICAndGhpcy13ZWVrJzogaGFzaFRhZ1Jlc291cmNlLmhhc2hUYWdUaGlzV2Vla1RleHQsXHJcbiAgICAneWVzdGVyZGF5JzogaGFzaFRhZ1Jlc291cmNlLmhhc2hUYWdZZXN0ZXJkYXlUZXh0LFxyXG4gIH0sXHJcbiAgY3JlYXRlVG9vbExheW91dDogZnVuY3Rpb24gY3JlYXRlVG9vbExheW91dCgpIHtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgICBpZiAodGhpcy50b29scyAmJiB0aGlzLnRvb2xzLnRiYXIgJiYgIXRoaXMuX3JlZnJlc2hBZGRlZCAmJiAhd2luZG93LkFwcC5zdXBwb3J0c1RvdWNoKCkpIHtcclxuICAgICAgdGhpcy50b29scy50YmFyLnB1c2goe1xyXG4gICAgICAgIGlkOiAncmVmcmVzaCcsXHJcbiAgICAgICAgY2xzOiAnZmEgZmEtcmVmcmVzaCBmYS1mdyBmYS1sZycsXHJcbiAgICAgICAgYWN0aW9uOiAnX3JlZnJlc2hDbGlja2VkJyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLl9yZWZyZXNoQWRkZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnRvb2xzO1xyXG4gIH0sXHJcbiAgX3JlZnJlc2hBZGRlZDogZmFsc2UsXHJcbiAgX3JlZnJlc2hDbGlja2VkOiBmdW5jdGlvbiBfcmVmcmVzaENsaWNrZWQoKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB0aGlzLnJlZnJlc2hSZXF1aXJlZCA9IHRydWU7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuXHJcbiAgICAvLyBIb29rIGZvciBjdXN0b21pemVyc1xyXG4gICAgdGhpcy5vblJlZnJlc2hDbGlja2VkKCk7XHJcbiAgfSxcclxuICBvblJlZnJlc2hDbGlja2VkOiBmdW5jdGlvbiBvblJlZnJlc2hDbGlja2VkKCkge30sXHJcbiAgX2NhbGxQaG9uZTogZnVuY3Rpb24gX2NhbGxQaG9uZShwYXJhbXMpIHtcclxuICAgIHRoaXMuaW52b2tlQWN0aW9uSXRlbUJ5KGZ1bmN0aW9uIHNldEFjdGlvbklkKHRoZUFjdGlvbikge1xyXG4gICAgICByZXR1cm4gdGhlQWN0aW9uLmlkID09PSAnY2FsbCc7XHJcbiAgICB9LCBwYXJhbXMua2V5KTtcclxuICB9LFxyXG4gIGRlZmF1bHRTZWFyY2hUZXJtOiBmdW5jdGlvbiBkZWZhdWx0U2VhcmNoVGVybSgpIHtcclxuICAgIGlmIChBcHAuZW5hYmxlSGFzaFRhZ3MpIHtcclxuICAgICAgcmV0dXJuICcjJyArIHRoaXMuaGFzaFRhZ1F1ZXJpZXNUZXh0Wyd0aGlzLXdlZWsnXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfSxcclxuICBjcmVhdGVBY3Rpb25MYXlvdXQ6IGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbkxheW91dCgpIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGlvbnMgfHwgKHRoaXMuYWN0aW9ucyA9IFt7XHJcbiAgICAgIGlkOiAndmlld0FjY291bnQnLFxyXG4gICAgICBsYWJlbDogdGhpcy52aWV3QWNjb3VudEFjdGlvblRleHQsXHJcbiAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uIGVuYWJsZWQodGhlQWN0aW9uLCBzZWxlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZGF0YTtcclxuICAgICAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnRyeS5BY3Rpdml0eS5BY2NvdW50SWQpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZuOiBmdW5jdGlvbiBmbih0aGVBY3Rpb24sIHNlbGVjdGlvbikge1xyXG4gICAgICAgIGNvbnN0IHZpZXdJZCA9ICdhY2NvdW50X2RldGFpbCc7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgIGtleTogc2VsZWN0aW9uLmRhdGEuQWN0aXZpdHkuQWNjb3VudElkLFxyXG4gICAgICAgICAgZGVzY3JpcHRvcjogc2VsZWN0aW9uLmRhdGEuQWN0aXZpdHkuQWNjb3VudE5hbWUsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHZpZXdJZCk7XHJcbiAgICAgICAgaWYgKHZpZXcgJiYgb3B0aW9ucykge1xyXG4gICAgICAgICAgdmlldy5zaG93KG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sIHtcclxuICAgICAgaWQ6ICd2aWV3T3Bwb3J0dW5pdHknLFxyXG4gICAgICBsYWJlbDogdGhpcy52aWV3T3Bwb3J0dW5pdHlBY3Rpb25UZXh0LFxyXG4gICAgICBlbmFibGVkOiBmdW5jdGlvbiBlbmFibGVkKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmRhdGE7XHJcbiAgICAgICAgaWYgKCFlbnRyeSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW50cnkuQWN0aXZpdHkuT3Bwb3J0dW5pdHlJZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgZm46IGZ1bmN0aW9uIGZuKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qgdmlld0lkID0gJ29wcG9ydHVuaXR5X2RldGFpbCc7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgIGtleTogc2VsZWN0aW9uLmRhdGEuQWN0aXZpdHkuT3Bwb3J0dW5pdHlJZCxcclxuICAgICAgICAgIGRlc2NyaXB0b3I6IHNlbGVjdGlvbi5kYXRhLkFjdGl2aXR5Lk9wcG9ydHVuaXR5TmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHZpZXcgPSBBcHAuZ2V0Vmlldyh2aWV3SWQpO1xyXG4gICAgICAgIGlmICh2aWV3ICYmIG9wdGlvbnMpIHtcclxuICAgICAgICAgIHZpZXcuc2hvdyhvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9LCB7XHJcbiAgICAgIGlkOiAndmlld0NvbnRhY3QnLFxyXG4gICAgICBsYWJlbDogdGhpcy52aWV3Q29udGFjdEFjdGlvblRleHQsXHJcbiAgICAgIGFjdGlvbjogJ25hdmlnYXRlVG9Db250YWN0T3JMZWFkJyxcclxuICAgICAgZW5hYmxlZDogdGhpcy5oYXNDb250YWN0T3JMZWFkLFxyXG4gICAgfSwge1xyXG4gICAgICBpZDogJ2NvbXBsZXRlJyxcclxuICAgICAgY2xzOiAnZmEgZmEtY2hlY2stc3F1YXJlIGZhLTJ4JyxcclxuICAgICAgbGFiZWw6IHRoaXMuY29tcGxldGVBY3Rpdml0eVRleHQsXHJcbiAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uIGVuYWJsZWQodGhlQWN0aW9uLCBzZWxlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZGF0YTtcclxuICAgICAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZWN1ciA9IGVudHJ5LkFjdGl2aXR5LlJlY3VycmluZztcclxuXHJcbiAgICAgICAgcmV0dXJuIGVudHJ5LkFjdGl2aXR5LkxlYWRlci4ka2V5ID09PSBBcHAuY29udGV4dC51c2VyLiRrZXkgJiYgIXJlY3VyO1xyXG4gICAgICB9LFxyXG4gICAgICBmbjogKGZ1bmN0aW9uIGZuKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmRhdGEgJiYgc2VsZWN0aW9uLmRhdGEuQWN0aXZpdHk7XHJcblxyXG4gICAgICAgIGVudHJ5LkNvbXBsZXRlZERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGVudHJ5LlJlc3VsdCA9ICdDb21wbGV0ZSc7XHJcblxyXG4gICAgICAgIGVudmlyb25tZW50LnJlZnJlc2hBY3Rpdml0eUxpc3RzKCk7XHJcbiAgICAgICAgdGhpcy5jb21wbGV0ZUFjdGl2aXR5KGVudHJ5KTtcclxuICAgICAgfSkuYmluZERlbGVnYXRlKHRoaXMpLFxyXG4gICAgfSwge1xyXG4gICAgICBpZDogJ2FjY2VwdCcsXHJcbiAgICAgIGNsczogJ2ZhIGZhLWNoZWNrIGZhLTJ4JyxcclxuICAgICAgbGFiZWw6IHRoaXMuYWNjZXB0QWN0aXZpdHlUZXh0LFxyXG4gICAgICBlbmFibGVkOiBmdW5jdGlvbiBlbmFibGVkKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmRhdGE7XHJcbiAgICAgICAgaWYgKCFlbnRyeSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVudHJ5LlN0YXR1cyA9PT0gJ2FzVW5jb25maXJtZWQnO1xyXG4gICAgICB9LFxyXG4gICAgICBmbjogKGZ1bmN0aW9uIGZuKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmRhdGE7XHJcbiAgICAgICAgZW52aXJvbm1lbnQucmVmcmVzaEFjdGl2aXR5TGlzdHMoKTtcclxuICAgICAgICB0aGlzLmNvbmZpcm1BY3Rpdml0eUZvcihlbnRyeS5BY3Rpdml0eS4ka2V5LCBBcHAuY29udGV4dC51c2VyLiRrZXkpO1xyXG4gICAgICB9KS5iaW5kRGVsZWdhdGUodGhpcyksXHJcbiAgICB9LCB7XHJcbiAgICAgIGlkOiAnZGVjbGluZScsXHJcbiAgICAgIGNsczogJ2ZhIGZhLWJhbiBmYS0yeCcsXHJcbiAgICAgIGxhYmVsOiB0aGlzLmRlY2xpbmVBY3Rpdml0eVRleHQsXHJcbiAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uIGVuYWJsZWQodGhlQWN0aW9uLCBzZWxlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZGF0YTtcclxuICAgICAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZW50cnkuU3RhdHVzID09PSAnYXNVbmNvbmZpcm1lZCc7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZuOiAoZnVuY3Rpb24gZm4odGhlQWN0aW9uLCBzZWxlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZGF0YTtcclxuXHJcbiAgICAgICAgZW52aXJvbm1lbnQucmVmcmVzaEFjdGl2aXR5TGlzdHMoKTtcclxuICAgICAgICB0aGlzLmRlY2xpbmVBY3Rpdml0eUZvcihlbnRyeS5BY3Rpdml0eS4ka2V5LCBBcHAuY29udGV4dC51c2VyLiRrZXkpO1xyXG4gICAgICB9KS5iaW5kRGVsZWdhdGUodGhpcyksXHJcbiAgICB9LCB7XHJcbiAgICAgIGlkOiAnY2FsbCcsXHJcbiAgICAgIGNsczogJ2ZhIGZhLXBob25lLXNxdWFyZSBmYS0yeCcsXHJcbiAgICAgIGxhYmVsOiB0aGlzLmNhbGxUZXh0LFxyXG4gICAgICBlbmFibGVkOiBmdW5jdGlvbiBlbmFibGVkKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmRhdGE7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5LkFjdGl2aXR5ICYmIGVudHJ5LkFjdGl2aXR5LlBob25lTnVtYmVyO1xyXG4gICAgICB9LFxyXG4gICAgICBmbjogZnVuY3Rpb24gZm4odGhlQWN0aW9uLCBzZWxlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZGF0YTtcclxuICAgICAgICBjb25zdCBwaG9uZSA9IGVudHJ5ICYmIGVudHJ5LkFjdGl2aXR5ICYmIGVudHJ5LkFjdGl2aXR5LlBob25lTnVtYmVyO1xyXG4gICAgICAgIGlmIChwaG9uZSkge1xyXG4gICAgICAgICAgdGhpcy5yZWNvcmRDYWxsVG9IaXN0b3J5KGZ1bmN0aW9uIGluaXRpYXRlQ2FsbCgpIHtcclxuICAgICAgICAgICAgQXBwLmluaXRpYXRlQ2FsbChwaG9uZSk7XHJcbiAgICAgICAgICB9LmJpbmREZWxlZ2F0ZSh0aGlzKSwgZW50cnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfS5iaW5kRGVsZWdhdGUodGhpcyksXHJcbiAgICB9LCB7XHJcbiAgICAgIGlkOiAnYWRkQXR0YWNobWVudCcsXHJcbiAgICAgIGNsczogJ2ZhIGZhLXBhcGVyY2xpcCBmYS0yeCcsXHJcbiAgICAgIGxhYmVsOiB0aGlzLmFkZEF0dGFjaG1lbnRBY3Rpb25UZXh0LFxyXG4gICAgICBmbjogYWN0aW9uLmFkZEF0dGFjaG1lbnQuYmluZERlbGVnYXRlKHRoaXMpLFxyXG4gICAgfV0pO1xyXG4gIH0sXHJcbiAgc2VsZWN0RW50cnk6IGZ1bmN0aW9uIHNlbGVjdEVudHJ5KHBhcmFtcywgZXZ0LCBub2RlKSB7XHJcbiAgICAvKiBPdmVycmlkZSBzZWxlY3RFbnRyeSBmcm9tIHRoZSBiYXNlIExpc3QgbWl4aW4uXHJcbiAgICAgKiBHcmFiYmluZyBhIGRpZmZlcmVudCBrZXkgaGVyZSwgc2luY2Ugd2UgdXNlIGVudHJ5LkFjdGl2aXR5LiRrZXkgYXMgdGhlIG1haW4gZGF0YS1rZXkuXHJcbiAgICAgKiBUT0RPOiBNYWtlIFtkYXRhLWtleV0gb3ZlcnJpZGVhYmxlIGluIHRoZSBiYXNlIGNsYXNzLlxyXG4gICAgICovXHJcbiAgICBjb25zdCByb3cgPSBxdWVyeShub2RlKS5jbG9zZXN0KCdbZGF0YS1teS1hY3Rpdml0eS1rZXldJylbMF07XHJcbiAgICBjb25zdCBrZXkgPSByb3cgPyByb3cuZ2V0QXR0cmlidXRlKCdkYXRhLW15LWFjdGl2aXR5LWtleScpIDogZmFsc2U7XHJcblxyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGlvbk1vZGVsICYmIGtleSkge1xyXG4gICAgICB0aGlzLl9zZWxlY3Rpb25Nb2RlbC50b2dnbGUoa2V5LCB0aGlzLmVudHJpZXNba2V5XSwgcm93KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpbmdsZVNlbGVjdCAmJiB0aGlzLm9wdGlvbnMuc2luZ2xlU2VsZWN0QWN0aW9uICYmICF0aGlzLmVuYWJsZUFjdGlvbnMpIHtcclxuICAgICAgdGhpcy5pbnZva2VTaW5nbGVTZWxlY3RBY3Rpb24oKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGZvcm1hdFNlYXJjaFF1ZXJ5OiBmdW5jdGlvbiBmb3JtYXRTZWFyY2hRdWVyeShzZWFyY2hRdWVyeSkge1xyXG4gICAgcmV0dXJuIHN0cmluZy5zdWJzdGl0dXRlKCd1cHBlcihBY3Rpdml0eS5EZXNjcmlwdGlvbikgbGlrZSBcIiUkezB9JVwiJywgW3RoaXMuZXNjYXBlU2VhcmNoUXVlcnkoc2VhcmNoUXVlcnkudG9VcHBlckNhc2UoKSldKTtcclxuICB9LFxyXG4gIGRlY2xpbmVBY3Rpdml0eUZvcjogZnVuY3Rpb24gZGVjbGluZUFjdGl2aXR5Rm9yKGFjdGl2aXR5SWQsIHVzZXJJZCkge1xyXG4gICAgdGhpcy5fZ2V0VXNlck5vdGlmaWNhdGlvbnMoYWN0aXZpdHlJZCwgdXNlcklkLCBmYWxzZSk7XHJcbiAgfSxcclxuICBjb25maXJtQWN0aXZpdHlGb3I6IGZ1bmN0aW9uIGNvbmZpcm1BY3Rpdml0eUZvcihhY3Rpdml0eUlkLCB1c2VySWQpIHtcclxuICAgIHRoaXMuX2dldFVzZXJOb3RpZmljYXRpb25zKGFjdGl2aXR5SWQsIHVzZXJJZCwgdHJ1ZSk7XHJcbiAgfSxcclxuICBfZ2V0VXNlck5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIF9nZXRVc2VyTm90aWZpY2F0aW9ucyhhY3Rpdml0eUlkLCB1c2VySWQsIGFjY2VwdCkge1xyXG4gICAgbGV0IGlkID0gYWN0aXZpdHlJZDtcclxuICAgIGlmIChhY3Rpdml0eUlkKSB7XHJcbiAgICAgIGlkID0gYWN0aXZpdHlJZC5zdWJzdHJpbmcoMCwgMTIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlcSA9IG5ldyBTYWdlLlNEYXRhLkNsaWVudC5TRGF0YVJlc291cmNlQ29sbGVjdGlvblJlcXVlc3QodGhpcy5nZXRTZXJ2aWNlKCkpO1xyXG4gICAgcmVxLnNldFJlc291cmNlS2luZCgndXNlck5vdGlmaWNhdGlvbnMnKTtcclxuICAgIHJlcS5zZXRDb250cmFjdE5hbWUoJ2R5bmFtaWMnKTtcclxuICAgIHJlcS5zZXRRdWVyeUFyZygnd2hlcmUnLCBzdHJpbmcuc3Vic3RpdHV0ZSgnQWN0aXZpdHlJZCBlcSBcXCckezB9XFwnIGFuZCBUb1VzZXIuSWQgZXEgXFwnJHsxfVxcJycsIFtpZCwgdXNlcklkXSkpO1xyXG4gICAgcmVxLnNldFF1ZXJ5QXJnKCdwcmVjZWRlbmNlJywgJzAnKTtcclxuICAgIHJlcS5yZWFkKHtcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2Vzcyh1c2VyTm90aWZpY2F0aW9ucykge1xyXG4gICAgICAgIGlmICh1c2VyTm90aWZpY2F0aW9ucy4kcmVzb3VyY2VzICYmIHVzZXJOb3RpZmljYXRpb25zLiRyZXNvdXJjZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgaWYgKGFjY2VwdCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjY2VwdENvbmZpcm1hdGlvbih1c2VyTm90aWZpY2F0aW9ucy4kcmVzb3VyY2VzWzBdKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGluZUNvbmZpcm1hdGlvbih1c2VyTm90aWZpY2F0aW9ucy4kcmVzb3VyY2VzWzBdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWx1cmU6IHRoaXMub25SZXF1ZXN0RmFpbHVyZSxcclxuICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGRlY2xpbmVDb25maXJtYXRpb246IGZ1bmN0aW9uIGRlY2xpbmVDb25maXJtYXRpb24obm90aWZpY2F0aW9uKSB7XHJcbiAgICB0aGlzLl9wb3N0VXNlck5vdGlmaWNhdGlvbnMobm90aWZpY2F0aW9uLCAnRGVjbGluZScpO1xyXG4gIH0sXHJcbiAgYWNjZXB0Q29uZmlybWF0aW9uOiBmdW5jdGlvbiBhY2NlcHRDb25maXJtYXRpb24obm90aWZpY2F0aW9uKSB7XHJcbiAgICB0aGlzLl9wb3N0VXNlck5vdGlmaWNhdGlvbnMobm90aWZpY2F0aW9uLCAnQWNjZXB0Jyk7XHJcbiAgfSxcclxuICBfcG9zdFVzZXJOb3RpZmljYXRpb25zOiBmdW5jdGlvbiBfcG9zdFVzZXJOb3RpZmljYXRpb25zKG5vdGlmaWNhdGlvbiwgb3BlcmF0aW9uKSB7XHJcbiAgICBpZiAoIW5vdGlmaWNhdGlvbiB8fCB0eXBlb2Ygb3BlcmF0aW9uICE9PSAnc3RyaW5nJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICogVG8gZ2V0IHRoZSBwYXlsb2FkIHRlbXBsYXRlOlxyXG4gICAgICogaHR0cDovL2xvY2FsaG9zdDo2NjY2L1NseENsaWVudC9zbHhkYXRhLmFzaHgvc2x4L2R5bmFtaWMvLS91c2VyTm90aWZpY2F0aW9ucy8kc2VydmljZS9hY2NlcHQvJHRlbXBsYXRlP2Zvcm1hdD1qc29uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgICckbmFtZSc6IG9wZXJhdGlvbixcclxuICAgICAgJ3JlcXVlc3QnOiB7XHJcbiAgICAgICAgJ2VudGl0eSc6IG5vdGlmaWNhdGlvbixcclxuICAgICAgICAnVXNlck5vdGlmaWNhdGlvbklkJzogbm90aWZpY2F0aW9uLiRrZXksXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgU2FnZS5TRGF0YS5DbGllbnQuU0RhdGFTZXJ2aWNlT3BlcmF0aW9uUmVxdWVzdCh0aGlzLmdldFNlcnZpY2UoKSlcclxuICAgICAgLnNldENvbnRyYWN0TmFtZSgnZHluYW1pYycpXHJcbiAgICAgIC5zZXRSZXNvdXJjZUtpbmQoJ3VzZXJub3RpZmljYXRpb25zJylcclxuICAgICAgLnNldE9wZXJhdGlvbk5hbWUob3BlcmF0aW9uLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgcmVxdWVzdC5leGVjdXRlKHBheWxvYWQsIHtcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWx1cmU6IHRoaXMub25SZXF1ZXN0RmFpbHVyZSxcclxuICAgICAgc2NvcGU6IHRoaXMsXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGNvbXBsZXRlQWN0aXZpdHk6IGZ1bmN0aW9uIGNvbXBsZXRlQWN0aXZpdHkoZW50cnkpIHtcclxuICAgIGNvbnN0IGFjdGl2aXR5TW9kZWwgPSBBcHAuTW9kZWxNYW5hZ2VyLmdldE1vZGVsKE1PREVMX05BTUVTLkFDVElWSVRZLCBNT0RFTF9UWVBFUy5TREFUQSk7XHJcbiAgICBpZiAoYWN0aXZpdHlNb2RlbCkge1xyXG4gICAgICBhY3Rpdml0eU1vZGVsLmNvbXBsZXRlQWN0aXZpdHkoZW50cnkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbm5lY3QucHVibGlzaCgnL2FwcC9yZWZyZXNoJywgW3tcclxuICAgICAgICAgIHJlc291cmNlS2luZDogJ2hpc3RvcnknLFxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgRXJyb3JNYW5hZ2VyLmFkZEVycm9yKGVyciwgdGhpcywge30sICdmYWlsdXJlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25SZXF1ZXN0RmFpbHVyZTogZnVuY3Rpb24gb25SZXF1ZXN0RmFpbHVyZShyZXNwb25zZSwgbykge1xyXG4gICAgRXJyb3JNYW5hZ2VyLmFkZEVycm9yKHJlc3BvbnNlLCBvLCB7fSwgJ2ZhaWx1cmUnKTtcclxuICB9LFxyXG4gIGhhc0FsYXJtOiBmdW5jdGlvbiBoYXNBbGFybShlbnRyeSkge1xyXG4gICAgaWYgKGVudHJ5LkFjdGl2aXR5ICYmIGVudHJ5LkFjdGl2aXR5LkFsYXJtID09PSB0cnVlKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG4gIGhhc0JlZW5Ub3VjaGVkOiBmdW5jdGlvbiBoYXNCZWVuVG91Y2hlZChlbnRyeSkge1xyXG4gICAgaWYgKGVudHJ5LkFjdGl2aXR5Lk1vZGlmeURhdGUpIHtcclxuICAgICAgY29uc3QgbW9kaWZpZWREYXRlID0gbW9tZW50KGNvbnZlcnQudG9EYXRlRnJvbVN0cmluZyhlbnRyeS5BY3Rpdml0eS5Nb2RpZnlEYXRlKSk7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbW9tZW50KCkuZW5kT2YoJ2RheScpO1xyXG4gICAgICBjb25zdCB3ZWVrQWdvID0gbW9tZW50KCkuc3VidHJhY3QoMSwgJ3dlZWtzJyk7XHJcblxyXG4gICAgICByZXR1cm4gbW9kaWZpZWREYXRlLmlzQWZ0ZXIod2Vla0FnbykgJiZcclxuICAgICAgICBtb2RpZmllZERhdGUuaXNCZWZvcmUoY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG4gIGlzSW1wb3J0YW50OiBmdW5jdGlvbiBpc0ltcG9ydGFudChlbnRyeSkge1xyXG4gICAgaWYgKGVudHJ5LkFjdGl2aXR5LlByaW9yaXR5KSB7XHJcbiAgICAgIGlmIChlbnRyeS5BY3Rpdml0eS5Qcmlvcml0eSA9PT0gJ0hpZ2gnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSxcclxuICBpc092ZXJkdWU6IGZ1bmN0aW9uIGlzT3ZlcmR1ZShlbnRyeSkge1xyXG4gICAgaWYgKGVudHJ5LkFjdGl2aXR5LlN0YXJ0RGF0ZSkge1xyXG4gICAgICBjb25zdCBzdGFydERhdGUgPSBjb252ZXJ0LnRvRGF0ZUZyb21TdHJpbmcoZW50cnkuQWN0aXZpdHkuU3RhcnREYXRlKTtcclxuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5yb3VuZCgoY3VycmVudERhdGUgLSBzdGFydERhdGUpIC8gMTAwMCk7XHJcbiAgICAgIGNvbnN0IG1pbnMgPSBzZWNvbmRzIC8gNjA7XHJcbiAgICAgIGlmIChtaW5zID49IDEpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbiAgaXNUaW1lbGVzc1RvZGF5OiBmdW5jdGlvbiBpc1RpbWVsZXNzVG9kYXkoZW50cnkpIHtcclxuICAgIGlmICghZW50cnkgfHwgIWVudHJ5LkFjdGl2aXR5IHx8ICFlbnRyeS5BY3Rpdml0eS5UaW1lbGVzcykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhcnQgPSBtb21lbnQoZW50cnkuQWN0aXZpdHkuU3RhcnREYXRlKTtcclxuICAgIHJldHVybiB0aGlzLl9pc1RpbWVsZXNzVG9kYXkoc3RhcnQpO1xyXG4gIH0sXHJcbiAgaXNSZWN1cnJpbmc6IGZ1bmN0aW9uIGlzUmVjdXJyaW5nKGVudHJ5KSB7XHJcbiAgICBpZiAoZW50cnkuQWN0aXZpdHkuUmVjdXJyaW5nKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG4gIGdldEl0ZW1JY29uQ2xhc3M6IGZ1bmN0aW9uIGdldEl0ZW1JY29uQ2xhc3MoZW50cnkpIHtcclxuICAgIGNvbnN0IHR5cGUgPSBlbnRyeSAmJiBlbnRyeS5BY3Rpdml0eSAmJiBlbnRyeS5BY3Rpdml0eS5UeXBlO1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldEl0ZW1JY29uQ2xhc3ModHlwZSk7XHJcbiAgfSxcclxuICBnZXRJdGVtQWN0aW9uS2V5OiBmdW5jdGlvbiBnZXRJdGVtQWN0aW9uS2V5KGVudHJ5KSB7XHJcbiAgICByZXR1cm4gZW50cnkuQWN0aXZpdHkuJGtleTtcclxuICB9LFxyXG4gIGdldEl0ZW1EZXNjcmlwdG9yOiBmdW5jdGlvbiBnZXRJdGVtRGVzY3JpcHRvcihlbnRyeSkge1xyXG4gICAgcmV0dXJuIGVudHJ5LkFjdGl2aXR5LiRkZXNjcmlwdG9yO1xyXG4gIH0sXHJcbiAgaGFzQ29udGFjdE9yTGVhZDogZnVuY3Rpb24gaGFzQ29udGFjdE9yTGVhZCh0aGVBY3Rpb24sIHNlbGVjdGlvbikge1xyXG4gICAgcmV0dXJuIChzZWxlY3Rpb24uZGF0YS5BY3Rpdml0eS5Db250YWN0SWQpIHx8IChzZWxlY3Rpb24uZGF0YS5BY3Rpdml0eS5MZWFkSWQpO1xyXG4gIH0sXHJcbiAgbmF2aWdhdGVUb0NvbnRhY3RPckxlYWQ6IGZ1bmN0aW9uIG5hdmlnYXRlVG9Db250YWN0T3JMZWFkKHRoZUFjdGlvbiwgc2VsZWN0aW9uKSB7XHJcbiAgICBjb25zdCBlbnRyeSA9IHNlbGVjdGlvbi5kYXRhLkFjdGl2aXR5O1xyXG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5yZXNvbHZlQ29udGFjdE9yTGVhZEVudGl0eShlbnRyeSk7XHJcbiAgICBsZXQgdmlld0lkO1xyXG4gICAgbGV0IG9wdGlvbnM7XHJcblxyXG4gICAgc3dpdGNoIChlbnRpdHkpIHtcclxuICAgICAgY2FzZSAnQ29udGFjdCc6XHJcbiAgICAgICAgdmlld0lkID0gJ2NvbnRhY3RfZGV0YWlsJztcclxuICAgICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgICAga2V5OiBlbnRyeS5Db250YWN0SWQsXHJcbiAgICAgICAgICBkZXNjcmlwdG9yOiBlbnRyeS5Db250YWN0TmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdMZWFkJzpcclxuICAgICAgICB2aWV3SWQgPSAnbGVhZF9kZXRhaWwnO1xyXG4gICAgICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBrZXk6IGVudHJ5LkxlYWRJZCxcclxuICAgICAgICAgIGRlc2NyaXB0b3I6IGVudHJ5LkxlYWROYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmlldyA9IEFwcC5nZXRWaWV3KHZpZXdJZCk7XHJcblxyXG4gICAgaWYgKHZpZXcgJiYgb3B0aW9ucykge1xyXG4gICAgICB2aWV3LnNob3cob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICByZXNvbHZlQ29udGFjdE9yTGVhZEVudGl0eTogZnVuY3Rpb24gcmVzb2x2ZUNvbnRhY3RPckxlYWRFbnRpdHkoZW50cnkpIHtcclxuICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuZXhpc3RzUkU7XHJcblxyXG4gICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgIGlmIChleGlzdHMudGVzdChlbnRyeS5MZWFkSWQpKSB7XHJcbiAgICAgICAgcmV0dXJuICdMZWFkJztcclxuICAgICAgfVxyXG4gICAgICBpZiAoZXhpc3RzLnRlc3QoZW50cnkuQ29udGFjdElkKSkge1xyXG4gICAgICAgIHJldHVybiAnQ29udGFjdCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHJlY29yZENhbGxUb0hpc3Rvcnk6IGZ1bmN0aW9uIHJlY29yZENhbGxUb0hpc3RvcnkoY29tcGxldGUsIGVudHJ5KSB7XHJcbiAgICBjb25zdCB0ZW1wRW50cnkgPSB7XHJcbiAgICAgICckbmFtZSc6ICdIaXN0b3J5JyxcclxuICAgICAgJ1R5cGUnOiAnYXRQaG9uZUNhbGwnLFxyXG4gICAgICAnQ29udGFjdE5hbWUnOiBlbnRyeS5BY3Rpdml0eS5Db250YWN0TmFtZSxcclxuICAgICAgJ0NvbnRhY3RJZCc6IGVudHJ5LkFjdGl2aXR5LkNvbnRhY3RJZCxcclxuICAgICAgJ0FjY291bnROYW1lJzogZW50cnkuQWN0aXZpdHkuQWNjb3VudE5hbWUsXHJcbiAgICAgICdBY2NvdW50SWQnOiBlbnRyeS5BY3Rpdml0eS5BY2NvdW50SWQsXHJcbiAgICAgICdEZXNjcmlwdGlvbic6IHN0cmluZy5zdWJzdGl0dXRlKCckezB9ICR7MX0nLCBbdGhpcy5jYWxsZWRUZXh0LCAoZW50cnkuQWN0aXZpdHkuQ29udGFjdE5hbWUgfHwgJycpXSksXHJcbiAgICAgICdVc2VySWQnOiBBcHAuY29udGV4dCAmJiBBcHAuY29udGV4dC51c2VyLiRrZXksXHJcbiAgICAgICdVc2VyTmFtZSc6IEFwcC5jb250ZXh0ICYmIEFwcC5jb250ZXh0LnVzZXIuVXNlck5hbWUsXHJcbiAgICAgICdEdXJhdGlvbic6IDE1LFxyXG4gICAgICAnQ29tcGxldGVkRGF0ZSc6IChuZXcgRGF0ZSgpKSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5uYXZpZ2F0ZVRvSGlzdG9yeUluc2VydCgnYXRQaG9uZUNhbGwnLCB0ZW1wRW50cnksIGNvbXBsZXRlKTtcclxuICB9LFxyXG5cclxuICBuYXZpZ2F0ZVRvSGlzdG9yeUluc2VydDogZnVuY3Rpb24gbmF2aWdhdGVUb0hpc3RvcnlJbnNlcnQodHlwZSwgZW50cnksIGNvbXBsZXRlKSB7XHJcbiAgICBjb25zdCB2aWV3ID0gQXBwLmdldFZpZXcodGhpcy5oaXN0b3J5RWRpdFZpZXcpO1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgZW52aXJvbm1lbnQucmVmcmVzaEFjdGl2aXR5TGlzdHMoKTtcclxuICAgICAgdmlldy5zaG93KHtcclxuICAgICAgICB0aXRsZTogdGhpcy5hY3Rpdml0eVR5cGVUZXh0W3R5cGVdLFxyXG4gICAgICAgIHRlbXBsYXRlOiB7fSxcclxuICAgICAgICBlbnRyeTogZW50cnksXHJcbiAgICAgICAgaW5zZXJ0OiB0cnVlLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNyZWF0ZUJyaWVmY2FzZUVudGl0eTogZnVuY3Rpb24gY3JlYXRlQnJpZWZjYXNlRW50aXR5KGVudHJ5KSB7XHJcbiAgICBjb25zdCBlbnRpdHkgPSB7XHJcbiAgICAgIGVudGl0eUlkOiBlbnRyeS5BY3Rpdml0eS4ka2V5LFxyXG4gICAgICBlbnRpdHlOYW1lOiAnQWN0aXZpdHknLFxyXG4gICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgaW5jbHVkZVJlbGF0ZWQ6IHRydWUsXHJcbiAgICAgICAgdmlld0lkOiB0aGlzLmRldGFpbFZpZXcsXHJcbiAgICAgICAgaWNvbkNsYXNzOiB0aGlzLmdldEl0ZW1JY29uQ2xhc3MoZW50cnkpLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICAgIHJldHVybiBlbnRpdHk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnTW9iaWxlLlNhbGVzTG9naXguVmlld3MuQWN0aXZpdHkuTXlMaXN0JywgX19jbGFzcyk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
