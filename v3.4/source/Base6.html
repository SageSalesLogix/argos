<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Models/Lead/Base', ['exports', 'module', 'dojo/_base/declare', 'argos/Models/_ModelBase', '../Names', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _argosModels_ModelBase, _Names, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _ModelBase2 = _interopRequireDefault(_argosModels_ModelBase);

  var _MODEL_NAMES = _interopRequireDefault(_Names);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('leadModel');
  var activityResource = (0, _getResource['default'])('activityModel');
  var historyResource = (0, _getResource['default'])('historyModel');
  var addressResource = (0, _getResource['default'])('addressModel');

  var __class = (0, _declare['default'])('crm.Models.Lead.Base', [_ModelBase2['default']], {
    resourceKind: 'leads',
    entityName: 'Lead',
    entityDisplayName: resource.entityDisplayName,
    entityDisplayNamePlural: resource.entityDisplayNamePlural,
    iconClass: 'fa fa-filter fa-2x',
    security: 'Entities/Lead/View',
    modelName: _MODEL_NAMES['default'].OPPORTUNITY,
    createRelationships: function createRelationships() {
      var rel = undefined;
      rel = this.relationships || (this.relationships = [{
        name: 'Addresses',
        displayName: addressResource.entityDisplayNamePlural,
        propertyName: 'Addresses',
        type: 'OneToMany',
        relatedEntity: 'LeadAddress',
        relatedProperty: 'LeadId'
      }, {
        name: 'History',
        displayName: historyResource.entityDisplayNamePlural,
        propertyName: 'History',
        type: 'OneToMany',
        relatedEntity: 'History',
        relatedProperty: 'LeadId',
        where: 'Type ne &quot;atDatabaseChange&quot;'
      }, {
        name: 'Activity',
        displayName: activityResource.entityDisplayNamePlural,
        propertyName: 'Activity',
        type: 'OneToMany',
        relatedEntity: 'Activity',
        relatedProperty: 'LeadId'
      }]);
      return rel;
    }
  });
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Nb2RlbHMvTGVhZC9CYXNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBS0EsTUFBTSxRQUFRLEdBQUcsNkJBQVksV0FBVyxDQUFDLENBQUM7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyw2QkFBWSxlQUFlLENBQUMsQ0FBQztBQUN0RCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQztBQUNwRCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQzs7QUFHcEQsTUFBTSxPQUFPLEdBQUcseUJBQVEsc0JBQXNCLEVBQUUsd0JBQVksRUFBRTtBQUM1RCxnQkFBWSxFQUFFLE9BQU87QUFDckIsY0FBVSxFQUFFLE1BQU07QUFDbEIscUJBQWlCLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtBQUM3QywyQkFBdUIsRUFBRSxRQUFRLENBQUMsdUJBQXVCO0FBQ3pELGFBQVMsRUFBRSxvQkFBb0I7QUFDL0IsWUFBUSxFQUFFLG9CQUFvQjtBQUM5QixhQUFTLEVBQUUsd0JBQVksV0FBVztBQUNsQyx1QkFBbUIsRUFBRSxTQUFTLG1CQUFtQixHQUFHO0FBQ2xELFVBQUksR0FBRyxZQUFBLENBQUM7QUFDUixTQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUM7QUFDakQsWUFBSSxFQUFFLFdBQVc7QUFDakIsbUJBQVcsRUFBRSxlQUFlLENBQUMsdUJBQXVCO0FBQ3BELG9CQUFZLEVBQUUsV0FBVztBQUN6QixZQUFJLEVBQUUsV0FBVztBQUNqQixxQkFBYSxFQUFFLGFBQWE7QUFDNUIsdUJBQWUsRUFBRSxRQUFRO09BQzFCLEVBQUU7QUFDRCxZQUFJLEVBQUUsU0FBUztBQUNmLG1CQUFXLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtBQUNwRCxvQkFBWSxFQUFFLFNBQVM7QUFDdkIsWUFBSSxFQUFFLFdBQVc7QUFDakIscUJBQWEsRUFBRSxTQUFTO0FBQ3hCLHVCQUFlLEVBQUUsUUFBUTtBQUN6QixhQUFLLEVBQUUsNEJBQTRCO09BQ3BDLEVBQUU7QUFDRCxZQUFJLEVBQUUsVUFBVTtBQUNoQixtQkFBVyxFQUFFLGdCQUFnQixDQUFDLHVCQUF1QjtBQUNyRCxvQkFBWSxFQUFFLFVBQVU7QUFDeEIsWUFBSSxFQUFFLFdBQVc7QUFDakIscUJBQWEsRUFBRSxVQUFVO0FBQ3pCLHVCQUFlLEVBQUUsUUFBUTtPQUMxQixDQUFDLENBQUEsQUFBQyxDQUFDO0FBQ0osYUFBTyxHQUFHLENBQUM7S0FDWjtHQUNGLENBQUMsQ0FBQzttQkFDWSxPQUFPIiwiZmlsZSI6InNyYy9Nb2RlbHMvTGVhZC9CYXNlLmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBfTW9kZWxCYXNlIGZyb20gJ2FyZ29zL01vZGVscy9fTW9kZWxCYXNlJztcclxuaW1wb3J0IE1PREVMX05BTUVTIGZyb20gJy4uL05hbWVzJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJ2FyZ29zL0kxOG4nO1xyXG5cclxuY29uc3QgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnbGVhZE1vZGVsJyk7XHJcbmNvbnN0IGFjdGl2aXR5UmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnYWN0aXZpdHlNb2RlbCcpO1xyXG5jb25zdCBoaXN0b3J5UmVzb3VyY2UgPSBnZXRSZXNvdXJjZSgnaGlzdG9yeU1vZGVsJyk7XHJcbmNvbnN0IGFkZHJlc3NSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhZGRyZXNzTW9kZWwnKTtcclxuXHJcblxyXG5jb25zdCBfX2NsYXNzID0gZGVjbGFyZSgnY3JtLk1vZGVscy5MZWFkLkJhc2UnLCBbX01vZGVsQmFzZV0sIHtcclxuICByZXNvdXJjZUtpbmQ6ICdsZWFkcycsXHJcbiAgZW50aXR5TmFtZTogJ0xlYWQnLFxyXG4gIGVudGl0eURpc3BsYXlOYW1lOiByZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZSxcclxuICBlbnRpdHlEaXNwbGF5TmFtZVBsdXJhbDogcmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgaWNvbkNsYXNzOiAnZmEgZmEtZmlsdGVyIGZhLTJ4JyxcclxuICBzZWN1cml0eTogJ0VudGl0aWVzL0xlYWQvVmlldycsXHJcbiAgbW9kZWxOYW1lOiBNT0RFTF9OQU1FUy5PUFBPUlRVTklUWSxcclxuICBjcmVhdGVSZWxhdGlvbnNoaXBzOiBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbnNoaXBzKCkge1xyXG4gICAgbGV0IHJlbDtcclxuICAgIHJlbCA9IHRoaXMucmVsYXRpb25zaGlwcyB8fCAodGhpcy5yZWxhdGlvbnNoaXBzID0gW3tcclxuICAgICAgbmFtZTogJ0FkZHJlc3NlcycsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBhZGRyZXNzUmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgICAgIHByb3BlcnR5TmFtZTogJ0FkZHJlc3NlcycsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnTGVhZEFkZHJlc3MnLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdMZWFkSWQnLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnSGlzdG9yeScsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBoaXN0b3J5UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgICAgIHByb3BlcnR5TmFtZTogJ0hpc3RvcnknLFxyXG4gICAgICB0eXBlOiAnT25lVG9NYW55JyxcclxuICAgICAgcmVsYXRlZEVudGl0eTogJ0hpc3RvcnknLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdMZWFkSWQnLFxyXG4gICAgICB3aGVyZTogJ1R5cGUgbmUgXCJhdERhdGFiYXNlQ2hhbmdlXCInLFxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAnQWN0aXZpdHknLFxyXG4gICAgICBkaXNwbGF5TmFtZTogYWN0aXZpdHlSZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZVBsdXJhbCxcclxuICAgICAgcHJvcGVydHlOYW1lOiAnQWN0aXZpdHknLFxyXG4gICAgICB0eXBlOiAnT25lVG9NYW55JyxcclxuICAgICAgcmVsYXRlZEVudGl0eTogJ0FjdGl2aXR5JyxcclxuICAgICAgcmVsYXRlZFByb3BlcnR5OiAnTGVhZElkJyxcclxuICAgIH1dKTtcclxuICAgIHJldHVybiByZWw7XHJcbiAgfSxcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
