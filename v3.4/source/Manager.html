<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/Models/Manager', ['exports', 'module', 'dojo/_base/lang'], function (exports, module, _dojo_baseLang) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var store = new Map();

<span id='argos-Models-Manager'>  /**
</span>   * @class argos.Models.Manager
   */
  var __class = _lang['default'].setObject('argos.Models.Manager', {
    register: function register(modelName, modelType, ctor) {
      var value = new Map();
      if (store.has(modelName)) {
        value = store.get(modelName);
      }

      value.set(modelType, ctor);
      store.set(modelName, value);
      return ctor;
    },
    get: function get(modelName, modelType) {
      var value = store.get(modelName);
      if (value) {
        return value.get(modelType);
      }
    },
    getModel: function getModel(modelName, modelType) {
      var ModelCtor = this.get(modelName, modelType);
      var model = null;
      if (ModelCtor) {
        model = new ModelCtor();
        model.init();
      }
      return model;
    },
    getModels: function getModels(modelType) {
      var models = [];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = store.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var key = _step.value;

          var model = this.getModel(key, modelType);
          if (model) {
            models.push(model);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion &amp;&amp; _iterator['return']) {
            _iterator['return']();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return models;
    },
    store: store
  });

  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Nb2RlbHMvTWFuYWdlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUVBLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7Ozs7O0FBS3hCLE1BQU0sT0FBTyxHQUFHLGlCQUFLLFNBQVMsQ0FBQyxzQkFBc0IsRUFBRTtBQUNyRCxZQUFRLEVBQUUsU0FBUyxRQUFRLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7QUFDdEQsVUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUN0QixVQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUU7QUFDeEIsYUFBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7T0FDOUI7O0FBRUQsV0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0IsV0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDNUIsYUFBTyxJQUFJLENBQUM7S0FDYjtBQUNELE9BQUcsRUFBRSxTQUFTLEdBQUcsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFO0FBQ3RDLFVBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbkMsVUFBSSxLQUFLLEVBQUU7QUFDVCxlQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7T0FDN0I7S0FDRjtBQUNELFlBQVEsRUFBRSxTQUFTLFFBQVEsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFO0FBQ2hELFVBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELFVBQUksS0FBSyxHQUFHLElBQUksQ0FBQztBQUNqQixVQUFJLFNBQVMsRUFBRTtBQUNiLGFBQUssR0FBRyxJQUFJLFNBQVMsRUFBRSxDQUFDO0FBQ3hCLGFBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztPQUNkO0FBQ0QsYUFBTyxLQUFLLENBQUM7S0FDZDtBQUNELGFBQVMsRUFBRSxTQUFTLFNBQVMsQ0FBQyxTQUFTLEVBQUU7QUFDdkMsVUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDOzs7Ozs7QUFDbEIsNkJBQWtCLEtBQUssQ0FBQyxJQUFJLEVBQUUsOEhBQUU7Y0FBckIsR0FBRzs7QUFDWixjQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM1QyxjQUFJLEtBQUssRUFBRTtBQUNULGtCQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1dBQ3BCO1NBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDRCxhQUFPLE1BQU0sQ0FBQztLQUNmO0FBQ0QsU0FBSyxFQUFFLEtBQUs7R0FDYixDQUFDLENBQUM7O21CQUVZLE9BQU8iLCJmaWxlIjoic3JjL01vZGVscy9NYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsYW5nIGZyb20gJ2Rvam8vX2Jhc2UvbGFuZyc7XHJcblxyXG5jb25zdCBzdG9yZSA9IG5ldyBNYXAoKTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgYXJnb3MuTW9kZWxzLk1hbmFnZXJcclxuICovXHJcbmNvbnN0IF9fY2xhc3MgPSBsYW5nLnNldE9iamVjdCgnYXJnb3MuTW9kZWxzLk1hbmFnZXInLCB7XHJcbiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKG1vZGVsTmFtZSwgbW9kZWxUeXBlLCBjdG9yKSB7XHJcbiAgICBsZXQgdmFsdWUgPSBuZXcgTWFwKCk7XHJcbiAgICBpZiAoc3RvcmUuaGFzKG1vZGVsTmFtZSkpIHtcclxuICAgICAgdmFsdWUgPSBzdG9yZS5nZXQobW9kZWxOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB2YWx1ZS5zZXQobW9kZWxUeXBlLCBjdG9yKTtcclxuICAgIHN0b3JlLnNldChtb2RlbE5hbWUsIHZhbHVlKTtcclxuICAgIHJldHVybiBjdG9yO1xyXG4gIH0sXHJcbiAgZ2V0OiBmdW5jdGlvbiBnZXQobW9kZWxOYW1lLCBtb2RlbFR5cGUpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gc3RvcmUuZ2V0KG1vZGVsTmFtZSk7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlLmdldChtb2RlbFR5cGUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZ2V0TW9kZWw6IGZ1bmN0aW9uIGdldE1vZGVsKG1vZGVsTmFtZSwgbW9kZWxUeXBlKSB7XHJcbiAgICBjb25zdCBNb2RlbEN0b3IgPSB0aGlzLmdldChtb2RlbE5hbWUsIG1vZGVsVHlwZSk7XHJcbiAgICBsZXQgbW9kZWwgPSBudWxsO1xyXG4gICAgaWYgKE1vZGVsQ3Rvcikge1xyXG4gICAgICBtb2RlbCA9IG5ldyBNb2RlbEN0b3IoKTtcclxuICAgICAgbW9kZWwuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1vZGVsO1xyXG4gIH0sXHJcbiAgZ2V0TW9kZWxzOiBmdW5jdGlvbiBnZXRNb2RlbHMobW9kZWxUeXBlKSB7XHJcbiAgICBjb25zdCBtb2RlbHMgPSBbXTtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHN0b3JlLmtleXMoKSkge1xyXG4gICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwoa2V5LCBtb2RlbFR5cGUpO1xyXG4gICAgICBpZiAobW9kZWwpIHtcclxuICAgICAgICBtb2RlbHMucHVzaChtb2RlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtb2RlbHM7XHJcbiAgfSxcclxuICBzdG9yZTogc3RvcmUsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
