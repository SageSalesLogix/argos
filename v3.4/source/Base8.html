<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('crm/Models/Opportunity/Base', ['exports', 'module', 'dojo/_base/declare', 'argos/Models/_ModelBase', '../Names', 'argos/I18n'], function (exports, module, _dojo_baseDeclare, _argosModels_ModelBase, _Names, _argosI18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _ModelBase2 = _interopRequireDefault(_argosModels_ModelBase);

  var _MODEL_NAMES = _interopRequireDefault(_Names);

  var _getResource = _interopRequireDefault(_argosI18n);

  var resource = (0, _getResource['default'])('opportunityModel');
  var accountResource = (0, _getResource['default'])('accountModel');
  var activityResource = (0, _getResource['default'])('activityModel');
  var historyResource = (0, _getResource['default'])('historyModel');

  var __class = (0, _declare['default'])('crm.Models.Opportunity.Base', [_ModelBase2['default']], {
    entityName: 'Opportunity',
    entityDisplayName: resource.entityDisplayName,
    entityDisplayNamePlural: resource.entityDisplayNamePlural,
    iconClass: 'fa fa-money fa-2x',
    resourceKind: 'opportunities',
    modelName: _MODEL_NAMES['default'].OPPORTUNITY,
    security: 'Entities/Opportunity/View',

    createRelationships: function createRelationships() {
      var rel = undefined;
      rel = this.relationships || (this.relationships = [{
        name: 'Account',
        displayName: accountResource.entityDisplayName,
        type: 'ManyToOne',
        parentProperty: 'Account',
        parentPropertyType: 'object',
        relatedEntity: 'Account',
        relatedPropertyType: 'object'
      }, {
        name: 'Reseller',
        displayName: resource.resellerText,
        type: 'ManyToOne',
        parentProperty: 'Reseller',
        parentPropertyType: 'object',
        relatedEntity: 'Account',
        relatedPropertyType: 'object'
      }, {
        name: 'History',
        displayName: historyResource.entityDisplayNamePlural,
        type: 'OneToMany',
        relatedEntity: 'History',
        relatedProperty: 'OpportunityId',
        where: 'Type ne &quot;atDatabaseChange&quot;'
      }, {
        name: 'Activity',
        displayName: activityResource.entityDisplayNamePlural,
        type: 'OneToMany',
        relatedEntity: 'Activity',
        relatedProperty: 'OpportunityId'
      }]);
      return rel;
    }
  });
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Nb2RlbHMvT3Bwb3J0dW5pdHkvQmFzZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUtBLE1BQU0sUUFBUSxHQUFHLDZCQUFZLGtCQUFrQixDQUFDLENBQUM7QUFDakQsTUFBTSxlQUFlLEdBQUcsNkJBQVksY0FBYyxDQUFDLENBQUM7QUFDcEQsTUFBTSxnQkFBZ0IsR0FBRyw2QkFBWSxlQUFlLENBQUMsQ0FBQztBQUN0RCxNQUFNLGVBQWUsR0FBRyw2QkFBWSxjQUFjLENBQUMsQ0FBQzs7QUFFcEQsTUFBTSxPQUFPLEdBQUcseUJBQVEsNkJBQTZCLEVBQUUsd0JBQVksRUFBRTtBQUNuRSxjQUFVLEVBQUUsYUFBYTtBQUN6QixxQkFBaUIsRUFBRSxRQUFRLENBQUMsaUJBQWlCO0FBQzdDLDJCQUF1QixFQUFFLFFBQVEsQ0FBQyx1QkFBdUI7QUFDekQsYUFBUyxFQUFFLG1CQUFtQjtBQUM5QixnQkFBWSxFQUFFLGVBQWU7QUFDN0IsYUFBUyxFQUFFLHdCQUFZLFdBQVc7QUFDbEMsWUFBUSxFQUFFLDJCQUEyQjs7QUFFckMsdUJBQW1CLEVBQUUsU0FBUyxtQkFBbUIsR0FBRztBQUNsRCxVQUFJLEdBQUcsWUFBQSxDQUFDO0FBQ1IsU0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDO0FBQ2pELFlBQUksRUFBRSxTQUFTO0FBQ2YsbUJBQVcsRUFBRSxlQUFlLENBQUMsaUJBQWlCO0FBQzlDLFlBQUksRUFBRSxXQUFXO0FBQ2pCLHNCQUFjLEVBQUUsU0FBUztBQUN6QiwwQkFBa0IsRUFBRSxRQUFRO0FBQzVCLHFCQUFhLEVBQUUsU0FBUztBQUN4QiwyQkFBbUIsRUFBRSxRQUFRO09BQzlCLEVBQUU7QUFDRCxZQUFJLEVBQUUsVUFBVTtBQUNoQixtQkFBVyxFQUFFLFFBQVEsQ0FBQyxZQUFZO0FBQ2xDLFlBQUksRUFBRSxXQUFXO0FBQ2pCLHNCQUFjLEVBQUUsVUFBVTtBQUMxQiwwQkFBa0IsRUFBRSxRQUFRO0FBQzVCLHFCQUFhLEVBQUUsU0FBUztBQUN4QiwyQkFBbUIsRUFBRSxRQUFRO09BQzlCLEVBQUU7QUFDRCxZQUFJLEVBQUUsU0FBUztBQUNmLG1CQUFXLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtBQUNwRCxZQUFJLEVBQUUsV0FBVztBQUNqQixxQkFBYSxFQUFFLFNBQVM7QUFDeEIsdUJBQWUsRUFBRSxlQUFlO0FBQ2hDLGFBQUssRUFBRSw0QkFBNEI7T0FDcEMsRUFBRTtBQUNELFlBQUksRUFBRSxVQUFVO0FBQ2hCLG1CQUFXLEVBQUUsZ0JBQWdCLENBQUMsdUJBQXVCO0FBQ3JELFlBQUksRUFBRSxXQUFXO0FBQ2pCLHFCQUFhLEVBQUUsVUFBVTtBQUN6Qix1QkFBZSxFQUFFLGVBQWU7T0FDakMsQ0FBQyxDQUFBLEFBQUMsQ0FBQztBQUNKLGFBQU8sR0FBRyxDQUFDO0tBQ1o7R0FDRixDQUFDLENBQUM7bUJBQ1ksT0FBTyIsImZpbGUiOiJzcmMvTW9kZWxzL09wcG9ydHVuaXR5L0Jhc2UuanMiLCJzb3VyY2VSb290Ijoic3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY2xhcmUgZnJvbSAnZG9qby9fYmFzZS9kZWNsYXJlJztcclxuaW1wb3J0IF9Nb2RlbEJhc2UgZnJvbSAnYXJnb3MvTW9kZWxzL19Nb2RlbEJhc2UnO1xyXG5pbXBvcnQgTU9ERUxfTkFNRVMgZnJvbSAnLi4vTmFtZXMnO1xyXG5pbXBvcnQgZ2V0UmVzb3VyY2UgZnJvbSAnYXJnb3MvSTE4bic7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdvcHBvcnR1bml0eU1vZGVsJyk7XHJcbmNvbnN0IGFjY291bnRSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY2NvdW50TW9kZWwnKTtcclxuY29uc3QgYWN0aXZpdHlSZXNvdXJjZSA9IGdldFJlc291cmNlKCdhY3Rpdml0eU1vZGVsJyk7XHJcbmNvbnN0IGhpc3RvcnlSZXNvdXJjZSA9IGdldFJlc291cmNlKCdoaXN0b3J5TW9kZWwnKTtcclxuXHJcbmNvbnN0IF9fY2xhc3MgPSBkZWNsYXJlKCdjcm0uTW9kZWxzLk9wcG9ydHVuaXR5LkJhc2UnLCBbX01vZGVsQmFzZV0sIHtcclxuICBlbnRpdHlOYW1lOiAnT3Bwb3J0dW5pdHknLFxyXG4gIGVudGl0eURpc3BsYXlOYW1lOiByZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZSxcclxuICBlbnRpdHlEaXNwbGF5TmFtZVBsdXJhbDogcmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgaWNvbkNsYXNzOiAnZmEgZmEtbW9uZXkgZmEtMngnLFxyXG4gIHJlc291cmNlS2luZDogJ29wcG9ydHVuaXRpZXMnLFxyXG4gIG1vZGVsTmFtZTogTU9ERUxfTkFNRVMuT1BQT1JUVU5JVFksXHJcbiAgc2VjdXJpdHk6ICdFbnRpdGllcy9PcHBvcnR1bml0eS9WaWV3JyxcclxuXHJcbiAgY3JlYXRlUmVsYXRpb25zaGlwczogZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25zaGlwcygpIHtcclxuICAgIGxldCByZWw7XHJcbiAgICByZWwgPSB0aGlzLnJlbGF0aW9uc2hpcHMgfHwgKHRoaXMucmVsYXRpb25zaGlwcyA9IFt7XHJcbiAgICAgIG5hbWU6ICdBY2NvdW50JyxcclxuICAgICAgZGlzcGxheU5hbWU6IGFjY291bnRSZXNvdXJjZS5lbnRpdHlEaXNwbGF5TmFtZSxcclxuICAgICAgdHlwZTogJ01hbnlUb09uZScsXHJcbiAgICAgIHBhcmVudFByb3BlcnR5OiAnQWNjb3VudCcsXHJcbiAgICAgIHBhcmVudFByb3BlcnR5VHlwZTogJ29iamVjdCcsXHJcbiAgICAgIHJlbGF0ZWRFbnRpdHk6ICdBY2NvdW50JyxcclxuICAgICAgcmVsYXRlZFByb3BlcnR5VHlwZTogJ29iamVjdCcsXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6ICdSZXNlbGxlcicsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiByZXNvdXJjZS5yZXNlbGxlclRleHQsXHJcbiAgICAgIHR5cGU6ICdNYW55VG9PbmUnLFxyXG4gICAgICBwYXJlbnRQcm9wZXJ0eTogJ1Jlc2VsbGVyJyxcclxuICAgICAgcGFyZW50UHJvcGVydHlUeXBlOiAnb2JqZWN0JyxcclxuICAgICAgcmVsYXRlZEVudGl0eTogJ0FjY291bnQnLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHlUeXBlOiAnb2JqZWN0JyxcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogJ0hpc3RvcnknLFxyXG4gICAgICBkaXNwbGF5TmFtZTogaGlzdG9yeVJlc291cmNlLmVudGl0eURpc3BsYXlOYW1lUGx1cmFsLFxyXG4gICAgICB0eXBlOiAnT25lVG9NYW55JyxcclxuICAgICAgcmVsYXRlZEVudGl0eTogJ0hpc3RvcnknLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdPcHBvcnR1bml0eUlkJyxcclxuICAgICAgd2hlcmU6ICdUeXBlIG5lIFwiYXREYXRhYmFzZUNoYW5nZVwiJyxcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogJ0FjdGl2aXR5JyxcclxuICAgICAgZGlzcGxheU5hbWU6IGFjdGl2aXR5UmVzb3VyY2UuZW50aXR5RGlzcGxheU5hbWVQbHVyYWwsXHJcbiAgICAgIHR5cGU6ICdPbmVUb01hbnknLFxyXG4gICAgICByZWxhdGVkRW50aXR5OiAnQWN0aXZpdHknLFxyXG4gICAgICByZWxhdGVkUHJvcGVydHk6ICdPcHBvcnR1bml0eUlkJyxcclxuICAgIH1dKTtcclxuICAgIHJldHVybiByZWw7XHJcbiAgfSxcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IF9fY2xhc3M7XHJcbiJdfQ==
</pre>
</body>
</html>
