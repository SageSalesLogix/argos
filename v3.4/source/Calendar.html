<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define('argos/Calendar', ['exports', 'module', 'dojo/_base/declare', 'dojo/_base/array', 'dojo/_base/lang', 'dojo/query', 'dojo/dom-class', 'dojo/dom-construct', './_ActionMixin', 'dijit/_Widget', './_Templated', 'argos/Dropdown', './I18n'], function (exports, module, _dojo_baseDeclare, _dojo_baseArray, _dojo_baseLang, _dojoQuery, _dojoDomClass, _dojoDomConstruct, _ActionMixin2, _dijit_Widget, _Templated2, _argosDropdown, _I18n) {
  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }

  /* Copyright (c) 2010, Sage Software, Inc. All rights reserved.
   *
   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */

<span id='argos-Calendar'>  /**
</span>   * @class argos.Calendar
   * @alternateClassName Calendar
   */

  var _declare = _interopRequireDefault(_dojo_baseDeclare);

  var _array = _interopRequireDefault(_dojo_baseArray);

  var _lang = _interopRequireDefault(_dojo_baseLang);

  var _query = _interopRequireDefault(_dojoQuery);

  var _domClass = _interopRequireDefault(_dojoDomClass);

  var _domConstruct = _interopRequireDefault(_dojoDomConstruct);

  var _ActionMixin3 = _interopRequireDefault(_ActionMixin2);

  var _Widget2 = _interopRequireDefault(_dijit_Widget);

  var _Templated3 = _interopRequireDefault(_Templated2);

  var _Dropdown = _interopRequireDefault(_argosDropdown);

  var _getResource = _interopRequireDefault(_I18n);

  var resource = (0, _getResource['default'])('calendar');

  var __class = (0, _declare['default'])('argos.Calendar', [_Widget2['default'], _ActionMixin3['default'], _Templated3['default']], {
    widgetTemplate: new Simplate(['&lt;div id=&quot;{%= $.id %}&quot; class=&quot;calendar panel&quot;&gt;', '{%! $.calendarHeaderTemplate %}', '{%! $.calendarTableTemplate %}', '{%! $.calendarFooterTemplate %}', '&lt;/div&gt;']),
    calendarHeaderTemplate: new Simplate(['&lt;div class=&quot;calendar-header&quot;&gt;', '&lt;span class=&quot;calendar__header__icon calendar__header__icon--left fa fa-angle-left&quot; data-action=&quot;decrementMonth&quot;&gt;&lt;/span&gt;', '&lt;div class=&quot;month&quot; data-dojo-attach-point=&quot;monthNode&quot; data-action=&quot;toggleMonthModal&quot;&gt;&lt;/div&gt;', '&lt;div class=&quot;year&quot; data-dojo-attach-point=&quot;yearNode&quot; data-action=&quot;toggleYearModal&quot;&gt;&lt;/div&gt;', '&lt;span class=&quot;fa fa-angle-right calendar__header__icon calendar__header__icon--right &quot; data-action=&quot;incrementMonth&quot;&gt;&lt;/span&gt;', '&lt;/div&gt;']),
    calendarTableTemplate: new Simplate(['&lt;table class=&quot;calendar-table&quot;&gt;', '&lt;thead&gt;', '{%! $.calendarWeekDaysTemplate %}', '&lt;/thead&gt;', '&lt;tbody data-dojo-attach-point=&quot;weeksNode&quot;&gt;&lt;/tbody&gt;', '&lt;/table&gt;']),
    calendarFooterTemplate: new Simplate(['&lt;div class=&quot;calendar-footer&quot; data-dojo-attach-point=&quot;footerNode&quot;&gt;', '&lt;div class=&quot;button button--secondary clear&quot; data-action=&quot;clearCalendar&quot; data-dojo-attach-point=&quot;clearButton&quot;&gt;{%= $.clearText %}&lt;/div&gt;', '&lt;div class=&quot;button button--secondary toToday&quot; data-action=&quot;goToToday&quot; data-dojo-attach-point=&quot;todayButton&quot;&gt;{%= $.todayText %}&lt;/div&gt;', '&lt;/div&gt;']),
    calendarTableDayTemplate: new Simplate(['&lt;td class=&quot;day {%= $.month %} {%= $.weekend %} {%= $.selected %} {%= $.isToday %}&quot; data-action=&quot;changeDay&quot; data-date=&quot;{%= $.date %}&quot;&gt;', '{%= $.day %}', '&lt;/td&gt;']),
    calendarTableDayActiveTemplate: new Simplate(['&lt;div class=&quot;day__active&quot;&gt;', '&lt;/div&gt;']),
    calendarTableWeekStartTemplate: new Simplate(['&lt;tr class=&quot;calendar-week&quot;&gt;']),
    calendarTableWeekEndTemplate: new Simplate(['&lt;/tr&gt;']),
    calendarWeekDaysTemplate: new Simplate(['&lt;tr class=&quot;calendar-weekdays&quot;&gt;', '&lt;th&gt;{%= $.weekDaysShortText[0] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[1] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[2] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[3] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[4] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[5] %}&lt;/th&gt;', '&lt;th&gt;{%= $.weekDaysShortText[6] %}&lt;/th&gt;', '&lt;/tr&gt;']),

    // Localization
    titleText: resource.titleText,
    amText: resource.amText,
    pmText: resource.pmText,
    clearText: resource.clearText,
    todayText: resource.todayText,
    monthsText: [{
      text: resource.january,
      value: 0,
      key: 0
    }, {
      text: resource.february,
      value: 1,
      key: 1
    }, {
      text: resource.march,
      value: 2,
      key: 2
    }, {
      text: resource.april,
      value: 3,
      key: 3
    }, {
      text: resource.may,
      value: 4,
      key: 4
    }, {
      text: resource.june,
      value: 5,
      key: 5
    }, {
      text: resource.july,
      value: 6,
      key: 6
    }, {
      text: resource.august,
      value: 7,
      key: 7
    }, {
      text: resource.september,
      value: 8,
      key: 8
    }, {
      text: resource.october,
      value: 9,
      key: 9
    }, {
      text: resource.november,
      value: 10,
      key: 10
    }, {
      text: resource.december,
      value: 11,
      key: 11
    }],
    weekDaysShortText: [resource.sundayAbbreviated, resource.mondayAbbreviated, resource.tuesdayAbbreviated, resource.wednesdayAbbreviated, resource.thursdayAbbreviated, resource.fridayAbbreviated, resource.saturdayAbbreviated],

    // Date is an object containing selected day, month, year, time, todayMoment (today), selectedDateMoment, etc.
    date: null,
    id: 'generic_calendar',
    // This boolean value is used to trigger the modal hide and show and must be used by each entity
    isModal: false,
    noClearButton: false,
    showTimePicker: true,
    showSubValues: true,
    _currentMonth: null,
    _currentYear: null,
    _monthDropdown: null,
    _selectWeek: false,
    _selectedDay: null,
    _widgetName: 'calendar',
    _yearDropdown: null,

    changeDay: function changeDay(params) {
      if (!this._selectWeek) {
        this.changeSingleDay(params);
      } else {
        this.changeWeek(params);
      }
      this.onChangeDay(params);
      return this;
    },
    onChangeDay: function onChangeDay() {},
    changeMonthShown: function changeMonthShown(_ref) {
      var monthNumber = _ref.monthNumber;

      this._monthDropdown.setValue(monthNumber);
      return this;
    },
    changeSingleDay: function changeSingleDay(params) {
      if (params) {
        var selected = (0, _query['default'])('.selected', this.weeksNode);

        if (selected) {
          _array['default'].forEach(selected, function (day) {
            _domClass['default'].remove(day, 'selected');
          });
        }

        if (selected) {
          _domClass['default'].remove(selected, 'selected');
        }

        if (params.$source) {
          this._selectedDay = params.$source;
          _domClass['default'].add(params.$source, 'selected');
        }

        if (params.date) {
          this.date.selectedDateMoment = moment(params.date, 'YYYY-MM-DD');
        }

        if (this.date.monthNumber !== this.date.selectedDateMoment.month()) {
          this.refreshCalendar(this.date);
        }
      }
      return this;
    },
    changeWeek: function changeWeek(params) {
      if (params) {
        var selected = (0, _query['default'])('.selected', this.weeksNode);

        if (selected) {
          _array['default'].forEach(selected, function (day) {
            _domClass['default'].remove(day, 'selected');
          });
        }

        if (params.$source.parentNode) {
          this._selectedDay = params.$source;
          _array['default'].forEach(params.$source.parentNode.children, function (day) {
            _domClass['default'].add(day, 'selected');
          });
        }

        if (params.date) {
          this.date.selectedDateMoment = moment(params.date, 'YYYY-MM-DD');
        }

        if (this.date.monthNumber !== this.date.selectedDateMoment.month()) {
          this.refreshCalendar(this.date);
        }
      }
      return this;
    },
    changeYearShown: function changeYearShown(_ref2) {
      var year = _ref2.year;

      this._yearDropdown.setValue(year);
      return this;
    },
    checkAndRenderDay: function checkAndRenderDay() {
      var data = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      var dayIndexer = data.day + data.startingDay - 1;
      if (data.day === data.todayMoment.date() &amp;&amp; data.todayMoment.month() === data.dateMoment.month() &amp;&amp; data.todayMoment.year() === data.dateMoment.year()) {
        data.isToday = 'isToday';
      } else {
        data.isToday = '';
      }
      if (dayIndexer % 7 === data.weekEnds.Sunday || dayIndexer % 7 === data.weekEnds.Saturday) {
        data.weekend = 'weekend';
      } else {
        data.weekend = '';
      }
      data.date = data.dateMoment.clone().date(data.day).format('YYYY-MM-DD');
      var day = _domConstruct['default'].toDom(this.calendarTableDayTemplate.apply(data, this));
      if (data.day === this.date.dayNode &amp;&amp; data.month === 'current-month') {
        this._selectedDay = day;
      }
      if (this.showSubValues) {
        this.setSubValue(day, data).setActiveDay(day);
      }
      _domConstruct['default'].place(day, data.week);
    },
    clearCalendar: function clearCalendar() {
      var selected = (0, _query['default'])('.selected', this.weeksNode)[0];

      if (selected) {
        _domClass['default'].remove(selected, 'selected');
      }
      this.date.selectedDateMoment = null;
    },
    createMonthDropdown: function createMonthDropdown() {
      if (!this._monthDropdown) {
        this._monthDropdown = new _Dropdown['default']({ id: 'month-dropdown ' + this.id, dropdownClass: 'dropdown--medium', onSelect: this.setMonth, onSelectScope: this });
        this._monthDropdown.createList({ items: this.monthsText, defaultValue: this.date.selectedDateMoment.month() });
        _domConstruct['default'].place(this._monthDropdown.domNode, this.monthNode);
      }
      return this;
    },
    createYearDropdown: function createYearDropdown() {
      if (!this._yearDropdown) {
        this._yearDropdown = new _Dropdown['default']({ id: 'year-dropdown ' + this.id, onSelect: this.setYear, onSelectScope: this });
        this._yearDropdown.createList({ items: this.getYearRange(), defaultValue: this.date.selectedDateMoment.format('YYYY') });
        _domConstruct['default'].place(this._yearDropdown.domNode, this.yearNode);
      }
      return this;
    },
    decrementMonth: function decrementMonth() {
      this.date.selectedDateMoment.subtract({ months: 1 });
      this.refreshCalendar(this.date);
    },
    destroy: function destroy() {
      this._yearDropdown.destroy();
      this._monthDropdown.destroy();
      this.inherited(arguments);
    },
    getContent: function getContent() {
      if (this.options.timeless) {
        // Revert back to timeless
        this.date.selectedDateMoment.add({
          minutes: this.date.selectedDateMoment.utcOffset()
        });
      }
      return this.date;
    },
    goToToday: function goToToday() {
      this.date.todayMoment = this.getCurrentDateMoment();
      this.date.selectedDateMoment = this.date.todayMoment;
      this.refreshCalendar(this.date); // This will reload the data.
      var day = (0, _query['default'])('.isToday', this.weeksNode)[0];
      var params = {};
      if (day) {
        params = { $source: day, date: day.dataset.date };
      }
      this.changeDay(params);
    },
    getDateTime: function getDateTime() {
      var result = this.date.selectedDateMoment;
      return result.toDate();
    },
    getCurrentDateMoment: function getCurrentDateMoment() {
      return moment();
    },
    getSelectedDateMoment: function getSelectedDateMoment() {
      return this.date.selectedDateMoment;
    },
    getYearRange: function getYearRange() {
      var items = [];
      var thisYear = this.date.todayMoment.year();
      for (var i = thisYear - 10; i &lt;= thisYear + 10; i++) {
        items.push({
          value: i,
          key: i
        });
      }
      return items;
    },
    incrementMonth: function incrementMonth() {
      this.date.selectedDateMoment.add({ months: 1 });
      this.refreshCalendar(this.date);
    },
    init: function init() {
      this.inherited(arguments);
    },
    isActive: function isActive(day) {
      if (day) {
        return (0, _query['default'])('.day__active', day)[0];
      }
    },
    postRenderCalendar: function postRenderCalendar() {
      if (this._selectWeek) {
        this.changeWeek({ $source: this._selectedDay });
      }
    },
    refreshCalendar: function refreshCalendar() {
      var date = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      this._refreshCalendar(date);
      this.onRefreshCalendar(true);
      return this;
    },
    _refreshCalendar: function refreshCalendar() {
      var date = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      _domConstruct['default'].empty(this.weeksNode);
      this.renderCalendar(date).changeMonthShown(date).changeYearShown(date);
      return this;
    },
    onRefreshCalendar: function onRefreshCalendar() {},
    removeActive: function removeActive(day) {
      if (day) {
        var active = this.isActive(day);
        if (active) {
          _domConstruct['default'].destroy(active);
        }
      }
      return this;
    },
    refresh: function refresh(options) {
      this.date.todayMoment = this.getCurrentDateMoment();
      this._refreshCalendar(this.date);
      this.onRefreshCalendar(options);
    },
    renderCalendar: function renderCalendar(_ref3) {
      var todayMoment = _ref3.todayMoment;
      var selectedDateMoment = _ref3.selectedDateMoment;

      var daysInMonth = selectedDateMoment.daysInMonth();
      var startingDay = selectedDateMoment.clone().startOf('month').day();
      var endPrevMonth = selectedDateMoment.clone().startOf('month').subtract({ days: startingDay });
      var startNextMonth = selectedDateMoment.clone().endOf('month').add({ days: 1 });
      var data = {
        todayMoment: todayMoment,
        selectedDateMoment: selectedDateMoment,
        dateMoment: endPrevMonth.clone(),
        week: _domConstruct['default'].toDom(this.calendarTableWeekStartTemplate.apply()),
        startingDay: endPrevMonth.clone().startOf('month').day(),
        weekEnds: {
          Sunday: 0,
          Saturday: 6
        }
      };

      // Iterate through the days that are in the start week of the current month but are in the previous month
      for (var day = endPrevMonth.date(); day &lt; endPrevMonth.date() + startingDay; day++) {
        data.day = day;
        this.checkAndRenderDay(data);
      }

      data.month = 'current-month';
      data.startingDay = startingDay;
      data.dateMoment = selectedDateMoment.clone();
      for (var day = 1; day &lt;= daysInMonth; day++) {
        if (day === selectedDateMoment.date()) {
          data.selected = 'selected';
          this.date.dayNode = day;
        } else {
          data.selected = '';
        }
        data.day = day;
        this.checkAndRenderDay(data);
        if ((day + startingDay) % 7 === 0) {
          _domConstruct['default'].place(this.calendarTableWeekEndTemplate.apply(), data.week);
          _domConstruct['default'].place(data.week, this.weeksNode);
          data.week = _domConstruct['default'].toDom(this.calendarTableWeekStartTemplate.apply());
        }
      }

      data.selected = '';
      data.month = '';
      data.startingDay = startNextMonth.day();
      data.dateMoment = startNextMonth.clone();
      // Iterate through remaining days of the week based on 7 days in the week and ensure there are 6 weeks shown (for consistency)
      for (var day = 1; day &lt;= 1 + data.weekEnds.Saturday - startNextMonth.day(); day++) {
        data.day = day;
        this.checkAndRenderDay(data);
      }
      _domConstruct['default'].place(this.calendarTableWeekEndTemplate.apply(), data.week);
      _domConstruct['default'].place(data.week, this.weeksNode);

      if (this.weeksNode.children.length === 5) {
        data.week = _domConstruct['default'].toDom(this.calendarTableWeekStartTemplate.apply());
        for (var day = 2 + data.weekEnds.Saturday - startNextMonth.day(); day &lt;= 8 + data.weekEnds.Saturday - startNextMonth.day(); day++) {
          data.day = day;
          this.checkAndRenderDay(data);
        }
        _domConstruct['default'].place(this.calendarTableWeekEndTemplate.apply(), data.week);
        _domConstruct['default'].place(data.week, this.weeksNode);
      }

      this.setDateObject(selectedDateMoment);

      this.postRenderCalendar();

      return this;
    },
    setActiveDay: function setActiveDay() {
      var day = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      if (day.subValue) {
        var active = _domConstruct['default'].toDom(this.calendarTableDayActiveTemplate.apply({ count: day.subValue }, this));
        _domConstruct['default'].place(active, day, 'last');
      }
      return this;
    },
    setDateObject: function setDateObject() {
      var dateMoment = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      this.date.day = dateMoment.date();
      this.date.month = dateMoment.format('MMMM');
      this.date.monthNumber = dateMoment.month();
      this.date.year = dateMoment.year();
      this.date.date = moment(dateMoment).toDate();

      return this;
    },
    setMonth: function setMonth() {
      var monthNumber = Number(this._monthDropdown.getValue());
      this.date.selectedDateMoment.month(monthNumber);
      this.refreshCalendar(this.date);
    },
    setSubValue: function setSubValue() {
      return this;
    },
    setYear: function setYear() {
      this.date.selectedDateMoment.year(this._yearDropdown.getValue());
      this.refreshCalendar(this.date);
    },
    show: function show() {
      var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];

      this.date = {};
      this.options = options || this.options;

      this.titleText = this.options.label ? this.options.label : this.titleText;
      this.showTimePicker = this.options &amp;&amp; this.options.showTimePicker;
      if (this.options.timeless) {
        // Undo timeless
        var startDate = moment(this.options &amp;&amp; this.options.date);
        startDate.subtract({
          minutes: startDate.utcOffset()
        });
        this.date.selectedDateMoment = startDate;
      } else {
        this.date.selectedDateMoment = moment(this.options &amp;&amp; this.options.date || moment().clone());
      }
      this.date.todayMoment = moment();
      if (this.isModal || this.options.isModal || this.noClearButton || this.options.noClearButton) {
        this.clearButton.style.display = 'none';
      }
      this.createMonthDropdown().createYearDropdown();

      this.refreshCalendar(this.date);
    },
    toggleSelectWeek: function toggleSelectWeek() {
      this._selectWeek = !this._selectWeek;
      this.changeDay({ $source: this._selectedDay });
    }
  });

  _lang['default'].setObject('Sage.Platform.Mobile.Calendar', __class);
  module.exports = __class;
});
//# sourceMappingURL=data:application/json;base64,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ZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQztBQUNELG9CQUFnQixFQUFFLFNBQVMsZ0JBQWdCLEdBQUc7QUFDNUMsVUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7QUFDckMsVUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztLQUNoRDtHQUNGLENBQUMsQ0FBQzs7QUFFSCxtQkFBSyxTQUFTLENBQUMsK0JBQStCLEVBQUUsT0FBTyxDQUFDLENBQUM7bUJBQzFDLE9BQU8iLCJmaWxlIjoic3JjL0NhbGVuZGFyLmpzIiwic291cmNlUm9vdCI6InNyYyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgMjAxMCwgU2FnZSBTb2Z0d2FyZSwgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIGFyZ29zLkNhbGVuZGFyXHJcbiAqIEBhbHRlcm5hdGVDbGFzc05hbWUgQ2FsZW5kYXJcclxuICovXHJcbmltcG9ydCBkZWNsYXJlIGZyb20gJ2Rvam8vX2Jhc2UvZGVjbGFyZSc7XHJcbmltcG9ydCBhcnJheSBmcm9tICdkb2pvL19iYXNlL2FycmF5JztcclxuaW1wb3J0IGxhbmcgZnJvbSAnZG9qby9fYmFzZS9sYW5nJztcclxuaW1wb3J0IHF1ZXJ5IGZyb20gJ2Rvam8vcXVlcnknO1xyXG5pbXBvcnQgZG9tQ2xhc3MgZnJvbSAnZG9qby9kb20tY2xhc3MnO1xyXG5pbXBvcnQgZG9tQ29uc3RydWN0IGZyb20gJ2Rvam8vZG9tLWNvbnN0cnVjdCc7XHJcbmltcG9ydCBfQWN0aW9uTWl4aW4gZnJvbSAnLi9fQWN0aW9uTWl4aW4nO1xyXG5pbXBvcnQgX1dpZGdldCBmcm9tICdkaWppdC9fV2lkZ2V0JztcclxuaW1wb3J0IF9UZW1wbGF0ZWQgZnJvbSAnLi9fVGVtcGxhdGVkJztcclxuaW1wb3J0IERyb3Bkb3duIGZyb20gJ2FyZ29zL0Ryb3Bkb3duJztcclxuaW1wb3J0IGdldFJlc291cmNlIGZyb20gJy4vSTE4bic7XHJcblxyXG5jb25zdCByZXNvdXJjZSA9IGdldFJlc291cmNlKCdjYWxlbmRhcicpO1xyXG5cclxuY29uc3QgX19jbGFzcyA9IGRlY2xhcmUoJ2FyZ29zLkNhbGVuZGFyJywgWyBfV2lkZ2V0LCBfQWN0aW9uTWl4aW4sIF9UZW1wbGF0ZWRdLCB7XHJcbiAgd2lkZ2V0VGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBpZD1cInslPSAkLmlkICV9XCIgY2xhc3M9XCJjYWxlbmRhciBwYW5lbFwiPicsXHJcbiAgICAgICd7JSEgJC5jYWxlbmRhckhlYWRlclRlbXBsYXRlICV9JyxcclxuICAgICAgJ3slISAkLmNhbGVuZGFyVGFibGVUZW1wbGF0ZSAlfScsXHJcbiAgICAgICd7JSEgJC5jYWxlbmRhckZvb3RlclRlbXBsYXRlICV9JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIGNhbGVuZGFySGVhZGVyVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPGRpdiBjbGFzcz1cImNhbGVuZGFyLWhlYWRlclwiPicsXHJcbiAgICAgICc8c3BhbiBjbGFzcz1cImNhbGVuZGFyX19oZWFkZXJfX2ljb24gY2FsZW5kYXJfX2hlYWRlcl9faWNvbi0tbGVmdCBmYSBmYS1hbmdsZS1sZWZ0XCIgZGF0YS1hY3Rpb249XCJkZWNyZW1lbnRNb250aFwiPjwvc3Bhbj4nLFxyXG4gICAgICAnPGRpdiBjbGFzcz1cIm1vbnRoXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cIm1vbnRoTm9kZVwiIGRhdGEtYWN0aW9uPVwidG9nZ2xlTW9udGhNb2RhbFwiPjwvZGl2PicsXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwieWVhclwiIGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJ5ZWFyTm9kZVwiIGRhdGEtYWN0aW9uPVwidG9nZ2xlWWVhck1vZGFsXCI+PC9kaXY+JyxcclxuICAgICAgJzxzcGFuIGNsYXNzPVwiZmEgZmEtYW5nbGUtcmlnaHQgY2FsZW5kYXJfX2hlYWRlcl9faWNvbiBjYWxlbmRhcl9faGVhZGVyX19pY29uLS1yaWdodCBcIiBkYXRhLWFjdGlvbj1cImluY3JlbWVudE1vbnRoXCI+PC9zcGFuPicsXHJcbiAgICAnPC9kaXY+JyxcclxuICBdKSxcclxuICBjYWxlbmRhclRhYmxlVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAgJzx0YWJsZSBjbGFzcz1cImNhbGVuZGFyLXRhYmxlXCI+JyxcclxuICAgICAgJzx0aGVhZD4nLFxyXG4gICAgICAgICd7JSEgJC5jYWxlbmRhcldlZWtEYXlzVGVtcGxhdGUgJX0nLFxyXG4gICAgICAnPC90aGVhZD4nLFxyXG4gICAgICAnPHRib2R5IGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJ3ZWVrc05vZGVcIj48L3Rib2R5PicsXHJcbiAgICAgJzwvdGFibGU+JyxcclxuICBdKSxcclxuICBjYWxlbmRhckZvb3RlclRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzxkaXYgY2xhc3M9XCJjYWxlbmRhci1mb290ZXJcIiBkYXRhLWRvam8tYXR0YWNoLXBvaW50PVwiZm9vdGVyTm9kZVwiPicsXHJcbiAgICAgICc8ZGl2IGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi0tc2Vjb25kYXJ5IGNsZWFyXCIgZGF0YS1hY3Rpb249XCJjbGVhckNhbGVuZGFyXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cImNsZWFyQnV0dG9uXCI+eyU9ICQuY2xlYXJUZXh0ICV9PC9kaXY+JyxcclxuICAgICAgJzxkaXYgY2xhc3M9XCJidXR0b24gYnV0dG9uLS1zZWNvbmRhcnkgdG9Ub2RheVwiIGRhdGEtYWN0aW9uPVwiZ29Ub1RvZGF5XCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInRvZGF5QnV0dG9uXCI+eyU9ICQudG9kYXlUZXh0ICV9PC9kaXY+JyxcclxuICAgICc8L2Rpdj4nLFxyXG4gIF0pLFxyXG4gIGNhbGVuZGFyVGFibGVEYXlUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8dGQgY2xhc3M9XCJkYXkgeyU9ICQubW9udGggJX0geyU9ICQud2Vla2VuZCAlfSB7JT0gJC5zZWxlY3RlZCAlfSB7JT0gJC5pc1RvZGF5ICV9XCIgZGF0YS1hY3Rpb249XCJjaGFuZ2VEYXlcIiBkYXRhLWRhdGU9XCJ7JT0gJC5kYXRlICV9XCI+JyxcclxuICAgICAgJ3slPSAkLmRheSAlfScsXHJcbiAgICAnPC90ZD4nLFxyXG4gIF0pLFxyXG4gIGNhbGVuZGFyVGFibGVEYXlBY3RpdmVUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8ZGl2IGNsYXNzPVwiZGF5X19hY3RpdmVcIj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXSksXHJcbiAgY2FsZW5kYXJUYWJsZVdlZWtTdGFydFRlbXBsYXRlOiBuZXcgU2ltcGxhdGUoW1xyXG4gICAgJzx0ciBjbGFzcz1cImNhbGVuZGFyLXdlZWtcIj4nLFxyXG4gIF0pLFxyXG4gIGNhbGVuZGFyVGFibGVXZWVrRW5kVGVtcGxhdGU6IG5ldyBTaW1wbGF0ZShbXHJcbiAgICAnPC90cj4nLFxyXG4gIF0pLFxyXG4gIGNhbGVuZGFyV2Vla0RheXNUZW1wbGF0ZTogbmV3IFNpbXBsYXRlKFtcclxuICAgICc8dHIgY2xhc3M9XCJjYWxlbmRhci13ZWVrZGF5c1wiPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbMF0gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbMV0gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbMl0gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbM10gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbNF0gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbNV0gJX08L3RoPicsXHJcbiAgICAgICc8dGg+eyU9ICQud2Vla0RheXNTaG9ydFRleHRbNl0gJX08L3RoPicsXHJcbiAgICAnPC90cj4nLFxyXG4gIF0pLFxyXG5cclxuICAvLyBMb2NhbGl6YXRpb25cclxuICB0aXRsZVRleHQ6IHJlc291cmNlLnRpdGxlVGV4dCxcclxuICBhbVRleHQ6IHJlc291cmNlLmFtVGV4dCxcclxuICBwbVRleHQ6IHJlc291cmNlLnBtVGV4dCxcclxuICBjbGVhclRleHQ6IHJlc291cmNlLmNsZWFyVGV4dCxcclxuICB0b2RheVRleHQ6IHJlc291cmNlLnRvZGF5VGV4dCxcclxuICBtb250aHNUZXh0OiBbXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHJlc291cmNlLmphbnVhcnksXHJcbiAgICAgIHZhbHVlOiAwLFxyXG4gICAgICBrZXk6IDAsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0ZXh0OiByZXNvdXJjZS5mZWJydWFyeSxcclxuICAgICAgdmFsdWU6IDEsXHJcbiAgICAgIGtleTogMSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHJlc291cmNlLm1hcmNoLFxyXG4gICAgICB2YWx1ZTogMixcclxuICAgICAga2V5OiAyLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGV4dDogcmVzb3VyY2UuYXByaWwsXHJcbiAgICAgIHZhbHVlOiAzLFxyXG4gICAgICBrZXk6IDMsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0ZXh0OiByZXNvdXJjZS5tYXksXHJcbiAgICAgIHZhbHVlOiA0LFxyXG4gICAgICBrZXk6IDQsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0ZXh0OiByZXNvdXJjZS5qdW5lLFxyXG4gICAgICB2YWx1ZTogNSxcclxuICAgICAga2V5OiA1LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGV4dDogcmVzb3VyY2UuanVseSxcclxuICAgICAgdmFsdWU6IDYsXHJcbiAgICAgIGtleTogNixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHJlc291cmNlLmF1Z3VzdCxcclxuICAgICAgdmFsdWU6IDcsXHJcbiAgICAgIGtleTogNyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHJlc291cmNlLnNlcHRlbWJlcixcclxuICAgICAgdmFsdWU6IDgsXHJcbiAgICAgIGtleTogOCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHJlc291cmNlLm9jdG9iZXIsXHJcbiAgICAgIHZhbHVlOiA5LFxyXG4gICAgICBrZXk6IDksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0ZXh0OiByZXNvdXJjZS5ub3ZlbWJlcixcclxuICAgICAgdmFsdWU6IDEwLFxyXG4gICAgICBrZXk6IDEwLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGV4dDogcmVzb3VyY2UuZGVjZW1iZXIsXHJcbiAgICAgIHZhbHVlOiAxMSxcclxuICAgICAga2V5OiAxMSxcclxuICAgIH0sXHJcbiAgXSxcclxuICB3ZWVrRGF5c1Nob3J0VGV4dDogW1xyXG4gICAgcmVzb3VyY2Uuc3VuZGF5QWJicmV2aWF0ZWQsXHJcbiAgICByZXNvdXJjZS5tb25kYXlBYmJyZXZpYXRlZCxcclxuICAgIHJlc291cmNlLnR1ZXNkYXlBYmJyZXZpYXRlZCxcclxuICAgIHJlc291cmNlLndlZG5lc2RheUFiYnJldmlhdGVkLFxyXG4gICAgcmVzb3VyY2UudGh1cnNkYXlBYmJyZXZpYXRlZCxcclxuICAgIHJlc291cmNlLmZyaWRheUFiYnJldmlhdGVkLFxyXG4gICAgcmVzb3VyY2Uuc2F0dXJkYXlBYmJyZXZpYXRlZCxcclxuICBdLFxyXG5cclxuICAvLyBEYXRlIGlzIGFuIG9iamVjdCBjb250YWluaW5nIHNlbGVjdGVkIGRheSwgbW9udGgsIHllYXIsIHRpbWUsIHRvZGF5TW9tZW50ICh0b2RheSksIHNlbGVjdGVkRGF0ZU1vbWVudCwgZXRjLlxyXG4gIGRhdGU6IG51bGwsXHJcbiAgaWQ6ICdnZW5lcmljX2NhbGVuZGFyJyxcclxuICAvLyBUaGlzIGJvb2xlYW4gdmFsdWUgaXMgdXNlZCB0byB0cmlnZ2VyIHRoZSBtb2RhbCBoaWRlIGFuZCBzaG93IGFuZCBtdXN0IGJlIHVzZWQgYnkgZWFjaCBlbnRpdHlcclxuICBpc01vZGFsOiBmYWxzZSxcclxuICBub0NsZWFyQnV0dG9uOiBmYWxzZSxcclxuICBzaG93VGltZVBpY2tlcjogdHJ1ZSxcclxuICBzaG93U3ViVmFsdWVzOiB0cnVlLFxyXG4gIF9jdXJyZW50TW9udGg6IG51bGwsXHJcbiAgX2N1cnJlbnRZZWFyOiBudWxsLFxyXG4gIF9tb250aERyb3Bkb3duOiBudWxsLFxyXG4gIF9zZWxlY3RXZWVrOiBmYWxzZSxcclxuICBfc2VsZWN0ZWREYXk6IG51bGwsXHJcbiAgX3dpZGdldE5hbWU6ICdjYWxlbmRhcicsXHJcbiAgX3llYXJEcm9wZG93bjogbnVsbCxcclxuXHJcbiAgY2hhbmdlRGF5OiBmdW5jdGlvbiBjaGFuZ2VEYXkocGFyYW1zKSB7XHJcbiAgICBpZiAoIXRoaXMuX3NlbGVjdFdlZWspIHtcclxuICAgICAgdGhpcy5jaGFuZ2VTaW5nbGVEYXkocGFyYW1zKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlV2VlayhwYXJhbXMpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vbkNoYW5nZURheShwYXJhbXMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBvbkNoYW5nZURheTogZnVuY3Rpb24gb25DaGFuZ2VEYXkoKSB7XHJcbiAgfSxcclxuICBjaGFuZ2VNb250aFNob3duOiBmdW5jdGlvbiBjaGFuZ2VNb250aFNob3duKHsgbW9udGhOdW1iZXIgfSkge1xyXG4gICAgdGhpcy5fbW9udGhEcm9wZG93bi5zZXRWYWx1ZShtb250aE51bWJlcik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIGNoYW5nZVNpbmdsZURheTogZnVuY3Rpb24gY2hhbmdlU2luZ2xlRGF5KHBhcmFtcykge1xyXG4gICAgaWYgKHBhcmFtcykge1xyXG4gICAgICBjb25zdCBzZWxlY3RlZCA9IHF1ZXJ5KCcuc2VsZWN0ZWQnLCB0aGlzLndlZWtzTm9kZSk7XHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWQpIHtcclxuICAgICAgICBhcnJheS5mb3JFYWNoKHNlbGVjdGVkLCAoZGF5KSA9PiB7XHJcbiAgICAgICAgICBkb21DbGFzcy5yZW1vdmUoZGF5LCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGVjdGVkKSB7XHJcbiAgICAgICAgZG9tQ2xhc3MucmVtb3ZlKHNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmFtcy4kc291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWREYXkgPSBwYXJhbXMuJHNvdXJjZTtcclxuICAgICAgICBkb21DbGFzcy5hZGQocGFyYW1zLiRzb3VyY2UsICdzZWxlY3RlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGFyYW1zLmRhdGUpIHtcclxuICAgICAgICB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50ID0gbW9tZW50KHBhcmFtcy5kYXRlLCAnWVlZWS1NTS1ERCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5kYXRlLm1vbnRoTnVtYmVyICE9PSB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50Lm1vbnRoKCkpIHtcclxuICAgICAgICB0aGlzLnJlZnJlc2hDYWxlbmRhcih0aGlzLmRhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIGNoYW5nZVdlZWs6IGZ1bmN0aW9uIGNoYW5nZVdlZWsocGFyYW1zKSB7XHJcbiAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gcXVlcnkoJy5zZWxlY3RlZCcsIHRoaXMud2Vla3NOb2RlKTtcclxuXHJcbiAgICAgIGlmIChzZWxlY3RlZCkge1xyXG4gICAgICAgIGFycmF5LmZvckVhY2goc2VsZWN0ZWQsIChkYXkpID0+IHtcclxuICAgICAgICAgIGRvbUNsYXNzLnJlbW92ZShkYXksICdzZWxlY3RlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGFyYW1zLiRzb3VyY2UucGFyZW50Tm9kZSkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkRGF5ID0gcGFyYW1zLiRzb3VyY2U7XHJcbiAgICAgICAgYXJyYXkuZm9yRWFjaChwYXJhbXMuJHNvdXJjZS5wYXJlbnROb2RlLmNoaWxkcmVuLCAoZGF5KSA9PiB7XHJcbiAgICAgICAgICBkb21DbGFzcy5hZGQoZGF5LCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmFtcy5kYXRlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlLnNlbGVjdGVkRGF0ZU1vbWVudCA9IG1vbWVudChwYXJhbXMuZGF0ZSwgJ1lZWVktTU0tREQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuZGF0ZS5tb250aE51bWJlciAhPT0gdGhpcy5kYXRlLnNlbGVjdGVkRGF0ZU1vbWVudC5tb250aCgpKSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsZW5kYXIodGhpcy5kYXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBjaGFuZ2VZZWFyU2hvd246IGZ1bmN0aW9uIGNoYW5nZVllYXJTaG93bih7IHllYXIgfSkge1xyXG4gICAgdGhpcy5feWVhckRyb3Bkb3duLnNldFZhbHVlKHllYXIpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBjaGVja0FuZFJlbmRlckRheTogZnVuY3Rpb24gY2hlY2tBbmRSZW5kZXJEYXkoZGF0YSA9IHt9KSB7XHJcbiAgICBjb25zdCBkYXlJbmRleGVyID0gZGF0YS5kYXkgKyBkYXRhLnN0YXJ0aW5nRGF5IC0gMTtcclxuICAgIGlmIChkYXRhLmRheSA9PT0gZGF0YS50b2RheU1vbWVudC5kYXRlKCkgJiYgZGF0YS50b2RheU1vbWVudC5tb250aCgpID09PSBkYXRhLmRhdGVNb21lbnQubW9udGgoKSAmJiBkYXRhLnRvZGF5TW9tZW50LnllYXIoKSA9PT0gZGF0YS5kYXRlTW9tZW50LnllYXIoKSkge1xyXG4gICAgICBkYXRhLmlzVG9kYXkgPSAnaXNUb2RheSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXRhLmlzVG9kYXkgPSAnJztcclxuICAgIH1cclxuICAgIGlmIChkYXlJbmRleGVyICUgNyA9PT0gZGF0YS53ZWVrRW5kcy5TdW5kYXkgfHwgZGF5SW5kZXhlciAlIDcgPT09IGRhdGEud2Vla0VuZHMuU2F0dXJkYXkpIHtcclxuICAgICAgZGF0YS53ZWVrZW5kID0gJ3dlZWtlbmQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YS53ZWVrZW5kID0gJyc7XHJcbiAgICB9XHJcbiAgICBkYXRhLmRhdGUgPSBkYXRhLmRhdGVNb21lbnQuY2xvbmUoKS5kYXRlKGRhdGEuZGF5KS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgIGNvbnN0IGRheSA9IGRvbUNvbnN0cnVjdC50b0RvbSh0aGlzLmNhbGVuZGFyVGFibGVEYXlUZW1wbGF0ZS5hcHBseShkYXRhLCB0aGlzKSk7XHJcbiAgICBpZiAoZGF0YS5kYXkgPT09IHRoaXMuZGF0ZS5kYXlOb2RlICYmIGRhdGEubW9udGggPT09ICdjdXJyZW50LW1vbnRoJykge1xyXG4gICAgICB0aGlzLl9zZWxlY3RlZERheSA9IGRheTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNob3dTdWJWYWx1ZXMpIHtcclxuICAgICAgdGhpcy5zZXRTdWJWYWx1ZShkYXksIGRhdGEpXHJcbiAgICAgICAgICAuc2V0QWN0aXZlRGF5KGRheSk7XHJcbiAgICB9XHJcbiAgICBkb21Db25zdHJ1Y3QucGxhY2UoZGF5LCBkYXRhLndlZWspO1xyXG4gIH0sXHJcbiAgY2xlYXJDYWxlbmRhcjogZnVuY3Rpb24gY2xlYXJDYWxlbmRhcigpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkID0gcXVlcnkoJy5zZWxlY3RlZCcsIHRoaXMud2Vla3NOb2RlKVswXTtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWQpIHtcclxuICAgICAgZG9tQ2xhc3MucmVtb3ZlKHNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcclxuICAgIH1cclxuICAgIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQgPSBudWxsO1xyXG4gIH0sXHJcbiAgY3JlYXRlTW9udGhEcm9wZG93bjogZnVuY3Rpb24gY3JlYXRlTW9udGhEcm9wZG93bigpIHtcclxuICAgIGlmICghdGhpcy5fbW9udGhEcm9wZG93bikge1xyXG4gICAgICB0aGlzLl9tb250aERyb3Bkb3duID0gbmV3IERyb3Bkb3duKHsgaWQ6ICdtb250aC1kcm9wZG93biAnICsgdGhpcy5pZCwgZHJvcGRvd25DbGFzczogJ2Ryb3Bkb3duLS1tZWRpdW0nLCBvblNlbGVjdDogdGhpcy5zZXRNb250aCwgb25TZWxlY3RTY29wZTogdGhpcyB9KTtcclxuICAgICAgdGhpcy5fbW9udGhEcm9wZG93bi5jcmVhdGVMaXN0KHsgaXRlbXM6IHRoaXMubW9udGhzVGV4dCwgZGVmYXVsdFZhbHVlOiB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50Lm1vbnRoKCl9KTtcclxuICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMuX21vbnRoRHJvcGRvd24uZG9tTm9kZSwgdGhpcy5tb250aE5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBjcmVhdGVZZWFyRHJvcGRvd246IGZ1bmN0aW9uIGNyZWF0ZVllYXJEcm9wZG93bigpIHtcclxuICAgIGlmICghdGhpcy5feWVhckRyb3Bkb3duKSB7XHJcbiAgICAgIHRoaXMuX3llYXJEcm9wZG93biA9IG5ldyBEcm9wZG93bih7IGlkOiAneWVhci1kcm9wZG93biAnICsgdGhpcy5pZCwgb25TZWxlY3Q6IHRoaXMuc2V0WWVhciwgb25TZWxlY3RTY29wZTogdGhpcyB9KTtcclxuICAgICAgdGhpcy5feWVhckRyb3Bkb3duLmNyZWF0ZUxpc3QoeyBpdGVtczogdGhpcy5nZXRZZWFyUmFuZ2UoKSwgZGVmYXVsdFZhbHVlOiB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50LmZvcm1hdCgnWVlZWScpfSk7XHJcbiAgICAgIGRvbUNvbnN0cnVjdC5wbGFjZSh0aGlzLl95ZWFyRHJvcGRvd24uZG9tTm9kZSwgdGhpcy55ZWFyTm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIGRlY3JlbWVudE1vbnRoOiBmdW5jdGlvbiBkZWNyZW1lbnRNb250aCgpIHtcclxuICAgIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQuc3VidHJhY3QoeyBtb250aHM6IDEgfSk7XHJcbiAgICB0aGlzLnJlZnJlc2hDYWxlbmRhcih0aGlzLmRhdGUpO1xyXG4gIH0sXHJcbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3llYXJEcm9wZG93bi5kZXN0cm95KCk7XHJcbiAgICB0aGlzLl9tb250aERyb3Bkb3duLmRlc3Ryb3koKTtcclxuICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XHJcbiAgfSxcclxuICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50aW1lbGVzcykge1xyXG4gICAgICAvLyBSZXZlcnQgYmFjayB0byB0aW1lbGVzc1xyXG4gICAgICB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50LmFkZCh7XHJcbiAgICAgICAgbWludXRlczogdGhpcy5kYXRlLnNlbGVjdGVkRGF0ZU1vbWVudC51dGNPZmZzZXQoKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5kYXRlO1xyXG4gIH0sXHJcbiAgZ29Ub1RvZGF5OiBmdW5jdGlvbiBnb1RvVG9kYXkoKSB7XHJcbiAgICB0aGlzLmRhdGUudG9kYXlNb21lbnQgPSB0aGlzLmdldEN1cnJlbnREYXRlTW9tZW50KCk7XHJcbiAgICB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50ID0gdGhpcy5kYXRlLnRvZGF5TW9tZW50O1xyXG4gICAgdGhpcy5yZWZyZXNoQ2FsZW5kYXIodGhpcy5kYXRlKTsgLy8gVGhpcyB3aWxsIHJlbG9hZCB0aGUgZGF0YS5cclxuICAgIGNvbnN0IGRheSA9IHF1ZXJ5KCcuaXNUb2RheScsIHRoaXMud2Vla3NOb2RlKVswXTtcclxuICAgIGxldCBwYXJhbXMgPSB7fTtcclxuICAgIGlmIChkYXkpIHtcclxuICAgICAgcGFyYW1zID0geyAkc291cmNlOiBkYXksIGRhdGU6IGRheS5kYXRhc2V0LmRhdGUgfTtcclxuICAgIH1cclxuICAgIHRoaXMuY2hhbmdlRGF5KHBhcmFtcyk7XHJcbiAgfSxcclxuICBnZXREYXRlVGltZTogZnVuY3Rpb24gZ2V0RGF0ZVRpbWUoKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50O1xyXG4gICAgcmV0dXJuIHJlc3VsdC50b0RhdGUoKTtcclxuICB9LFxyXG4gIGdldEN1cnJlbnREYXRlTW9tZW50OiBmdW5jdGlvbiBnZXRDdXJyZW50RGF0ZU1vbWVudCgpIHtcclxuICAgIHJldHVybiBtb21lbnQoKTtcclxuICB9LFxyXG4gIGdldFNlbGVjdGVkRGF0ZU1vbWVudDogZnVuY3Rpb24gZ2V0U2VsZWN0ZWREYXRlTW9tZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQ7XHJcbiAgfSxcclxuICBnZXRZZWFyUmFuZ2U6IGZ1bmN0aW9uIGdldFllYXJSYW5nZSgpIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gW107XHJcbiAgICBjb25zdCB0aGlzWWVhciA9IHRoaXMuZGF0ZS50b2RheU1vbWVudC55ZWFyKCk7XHJcbiAgICBmb3IgKGxldCBpID0gdGhpc1llYXIgLSAxMDsgaSA8PSB0aGlzWWVhciArIDEwOyBpKyspIHtcclxuICAgICAgaXRlbXMucHVzaChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB2YWx1ZTogaSxcclxuICAgICAgICAgIGtleTogaSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXRlbXM7XHJcbiAgfSxcclxuICBpbmNyZW1lbnRNb250aDogZnVuY3Rpb24gaW5jcmVtZW50TW9udGgoKSB7XHJcbiAgICB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50LmFkZCh7IG1vbnRoczogMSB9KTtcclxuICAgIHRoaXMucmVmcmVzaENhbGVuZGFyKHRoaXMuZGF0ZSk7XHJcbiAgfSxcclxuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcclxuICB9LFxyXG4gIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZShkYXkpIHtcclxuICAgIGlmIChkYXkpIHtcclxuICAgICAgcmV0dXJuIHF1ZXJ5KCcuZGF5X19hY3RpdmUnLCBkYXkpWzBdO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcG9zdFJlbmRlckNhbGVuZGFyOiBmdW5jdGlvbiBwb3N0UmVuZGVyQ2FsZW5kYXIoKSB7XHJcbiAgICBpZiAodGhpcy5fc2VsZWN0V2Vlaykge1xyXG4gICAgICB0aGlzLmNoYW5nZVdlZWsoeyAkc291cmNlOiB0aGlzLl9zZWxlY3RlZERheSB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIHJlZnJlc2hDYWxlbmRhcjogZnVuY3Rpb24gcmVmcmVzaENhbGVuZGFyKGRhdGUgPSB7fSkge1xyXG4gICAgdGhpcy5fcmVmcmVzaENhbGVuZGFyKGRhdGUpO1xyXG4gICAgdGhpcy5vblJlZnJlc2hDYWxlbmRhcih0cnVlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcbiAgX3JlZnJlc2hDYWxlbmRhcjogZnVuY3Rpb24gcmVmcmVzaENhbGVuZGFyKGRhdGUgPSB7fSkge1xyXG4gICAgZG9tQ29uc3RydWN0LmVtcHR5KHRoaXMud2Vla3NOb2RlKTtcclxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoZGF0ZSlcclxuICAgICAgICAuY2hhbmdlTW9udGhTaG93bihkYXRlKVxyXG4gICAgICAgIC5jaGFuZ2VZZWFyU2hvd24oZGF0ZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIG9uUmVmcmVzaENhbGVuZGFyOiBmdW5jdGlvbiBvblJlZnJlc2hDYWxlbmRhcigpIHtcclxuICB9LFxyXG4gIHJlbW92ZUFjdGl2ZTogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKGRheSkge1xyXG4gICAgaWYgKGRheSkge1xyXG4gICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmlzQWN0aXZlKGRheSk7XHJcbiAgICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgICBkb21Db25zdHJ1Y3QuZGVzdHJveShhY3RpdmUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2gob3B0aW9ucykge1xyXG4gICAgdGhpcy5kYXRlLnRvZGF5TW9tZW50ID0gdGhpcy5nZXRDdXJyZW50RGF0ZU1vbWVudCgpO1xyXG4gICAgdGhpcy5fcmVmcmVzaENhbGVuZGFyKHRoaXMuZGF0ZSk7XHJcbiAgICB0aGlzLm9uUmVmcmVzaENhbGVuZGFyKG9wdGlvbnMpO1xyXG4gIH0sXHJcbiAgcmVuZGVyQ2FsZW5kYXI6IGZ1bmN0aW9uIHJlbmRlckNhbGVuZGFyKHsgdG9kYXlNb21lbnQsIHNlbGVjdGVkRGF0ZU1vbWVudCB9KSB7XHJcbiAgICBjb25zdCBkYXlzSW5Nb250aCA9IHNlbGVjdGVkRGF0ZU1vbWVudC5kYXlzSW5Nb250aCgpO1xyXG4gICAgY29uc3Qgc3RhcnRpbmdEYXkgPSBzZWxlY3RlZERhdGVNb21lbnQuY2xvbmUoKS5zdGFydE9mKCdtb250aCcpLmRheSgpO1xyXG4gICAgY29uc3QgZW5kUHJldk1vbnRoID0gc2VsZWN0ZWREYXRlTW9tZW50LmNsb25lKCkuc3RhcnRPZignbW9udGgnKS5zdWJ0cmFjdCh7IGRheXM6IHN0YXJ0aW5nRGF5IH0pO1xyXG4gICAgY29uc3Qgc3RhcnROZXh0TW9udGggPSBzZWxlY3RlZERhdGVNb21lbnQuY2xvbmUoKS5lbmRPZignbW9udGgnKS5hZGQoeyBkYXlzOiAxIH0pO1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgdG9kYXlNb21lbnQsXHJcbiAgICAgIHNlbGVjdGVkRGF0ZU1vbWVudCxcclxuICAgICAgZGF0ZU1vbWVudDogZW5kUHJldk1vbnRoLmNsb25lKCksXHJcbiAgICAgIHdlZWs6IGRvbUNvbnN0cnVjdC50b0RvbSh0aGlzLmNhbGVuZGFyVGFibGVXZWVrU3RhcnRUZW1wbGF0ZS5hcHBseSgpKSxcclxuICAgICAgc3RhcnRpbmdEYXk6IGVuZFByZXZNb250aC5jbG9uZSgpLnN0YXJ0T2YoJ21vbnRoJykuZGF5KCksXHJcbiAgICAgIHdlZWtFbmRzOiB7XHJcbiAgICAgICAgU3VuZGF5OiAwLFxyXG4gICAgICAgIFNhdHVyZGF5OiA2LFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGRheXMgdGhhdCBhcmUgaW4gdGhlIHN0YXJ0IHdlZWsgb2YgdGhlIGN1cnJlbnQgbW9udGggYnV0IGFyZSBpbiB0aGUgcHJldmlvdXMgbW9udGhcclxuICAgIGZvciAobGV0IGRheSA9IGVuZFByZXZNb250aC5kYXRlKCk7IGRheSA8IGVuZFByZXZNb250aC5kYXRlKCkgKyBzdGFydGluZ0RheTsgZGF5KyspIHtcclxuICAgICAgZGF0YS5kYXkgPSBkYXk7XHJcbiAgICAgIHRoaXMuY2hlY2tBbmRSZW5kZXJEYXkoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5tb250aCA9ICdjdXJyZW50LW1vbnRoJztcclxuICAgIGRhdGEuc3RhcnRpbmdEYXkgPSBzdGFydGluZ0RheTtcclxuICAgIGRhdGEuZGF0ZU1vbWVudCA9IHNlbGVjdGVkRGF0ZU1vbWVudC5jbG9uZSgpO1xyXG4gICAgZm9yIChsZXQgZGF5ID0gMTsgZGF5IDw9IGRheXNJbk1vbnRoOyBkYXkrKykge1xyXG4gICAgICBpZiAoZGF5ID09PSBzZWxlY3RlZERhdGVNb21lbnQuZGF0ZSgpKSB7XHJcbiAgICAgICAgZGF0YS5zZWxlY3RlZCA9ICdzZWxlY3RlZCc7XHJcbiAgICAgICAgdGhpcy5kYXRlLmRheU5vZGUgPSBkYXk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5zZWxlY3RlZCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGRhdGEuZGF5ID0gZGF5O1xyXG4gICAgICB0aGlzLmNoZWNrQW5kUmVuZGVyRGF5KGRhdGEpO1xyXG4gICAgICBpZiAoKGRheSArIHN0YXJ0aW5nRGF5KSAlIDcgPT09IDApIHtcclxuICAgICAgICBkb21Db25zdHJ1Y3QucGxhY2UodGhpcy5jYWxlbmRhclRhYmxlV2Vla0VuZFRlbXBsYXRlLmFwcGx5KCksIGRhdGEud2Vlayk7XHJcbiAgICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKGRhdGEud2VlaywgdGhpcy53ZWVrc05vZGUpO1xyXG4gICAgICAgIGRhdGEud2VlayA9IGRvbUNvbnN0cnVjdC50b0RvbSh0aGlzLmNhbGVuZGFyVGFibGVXZWVrU3RhcnRUZW1wbGF0ZS5hcHBseSgpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRhdGEuc2VsZWN0ZWQgPSAnJztcclxuICAgIGRhdGEubW9udGggPSAnJztcclxuICAgIGRhdGEuc3RhcnRpbmdEYXkgPSBzdGFydE5leHRNb250aC5kYXkoKTtcclxuICAgIGRhdGEuZGF0ZU1vbWVudCA9IHN0YXJ0TmV4dE1vbnRoLmNsb25lKCk7XHJcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggcmVtYWluaW5nIGRheXMgb2YgdGhlIHdlZWsgYmFzZWQgb24gNyBkYXlzIGluIHRoZSB3ZWVrIGFuZCBlbnN1cmUgdGhlcmUgYXJlIDYgd2Vla3Mgc2hvd24gKGZvciBjb25zaXN0ZW5jeSlcclxuICAgIGZvciAobGV0IGRheSA9IDE7IGRheSA8PSAoMSArIGRhdGEud2Vla0VuZHMuU2F0dXJkYXkgLSBzdGFydE5leHRNb250aC5kYXkoKSk7IGRheSsrKSB7XHJcbiAgICAgIGRhdGEuZGF5ID0gZGF5O1xyXG4gICAgICB0aGlzLmNoZWNrQW5kUmVuZGVyRGF5KGRhdGEpO1xyXG4gICAgfVxyXG4gICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMuY2FsZW5kYXJUYWJsZVdlZWtFbmRUZW1wbGF0ZS5hcHBseSgpLCBkYXRhLndlZWspO1xyXG4gICAgZG9tQ29uc3RydWN0LnBsYWNlKGRhdGEud2VlaywgdGhpcy53ZWVrc05vZGUpO1xyXG5cclxuICAgIGlmICh0aGlzLndlZWtzTm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDUpIHtcclxuICAgICAgZGF0YS53ZWVrID0gZG9tQ29uc3RydWN0LnRvRG9tKHRoaXMuY2FsZW5kYXJUYWJsZVdlZWtTdGFydFRlbXBsYXRlLmFwcGx5KCkpO1xyXG4gICAgICBmb3IgKGxldCBkYXkgPSAyICsgZGF0YS53ZWVrRW5kcy5TYXR1cmRheSAtIHN0YXJ0TmV4dE1vbnRoLmRheSgpOyBkYXkgPD0gKDggKyBkYXRhLndlZWtFbmRzLlNhdHVyZGF5IC0gc3RhcnROZXh0TW9udGguZGF5KCkpOyBkYXkrKykge1xyXG4gICAgICAgIGRhdGEuZGF5ID0gZGF5O1xyXG4gICAgICAgIHRoaXMuY2hlY2tBbmRSZW5kZXJEYXkoZGF0YSk7XHJcbiAgICAgIH1cclxuICAgICAgZG9tQ29uc3RydWN0LnBsYWNlKHRoaXMuY2FsZW5kYXJUYWJsZVdlZWtFbmRUZW1wbGF0ZS5hcHBseSgpLCBkYXRhLndlZWspO1xyXG4gICAgICBkb21Db25zdHJ1Y3QucGxhY2UoZGF0YS53ZWVrLCB0aGlzLndlZWtzTm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXREYXRlT2JqZWN0KHNlbGVjdGVkRGF0ZU1vbWVudCk7XHJcblxyXG4gICAgdGhpcy5wb3N0UmVuZGVyQ2FsZW5kYXIoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIHNldEFjdGl2ZURheTogZnVuY3Rpb24gc2V0QWN0aXZlRGF5KGRheSA9IHt9KSB7XHJcbiAgICBpZiAoZGF5LnN1YlZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZSA9IGRvbUNvbnN0cnVjdC50b0RvbSh0aGlzLmNhbGVuZGFyVGFibGVEYXlBY3RpdmVUZW1wbGF0ZS5hcHBseSh7IGNvdW50OiBkYXkuc3ViVmFsdWUgfSwgdGhpcykpO1xyXG4gICAgICBkb21Db25zdHJ1Y3QucGxhY2UoYWN0aXZlLCBkYXksICdsYXN0Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIHNldERhdGVPYmplY3Q6IGZ1bmN0aW9uIHNldERhdGVPYmplY3QoZGF0ZU1vbWVudCA9IHt9KSB7XHJcbiAgICB0aGlzLmRhdGUuZGF5ID0gZGF0ZU1vbWVudC5kYXRlKCk7XHJcbiAgICB0aGlzLmRhdGUubW9udGggPSBkYXRlTW9tZW50LmZvcm1hdCgnTU1NTScpO1xyXG4gICAgdGhpcy5kYXRlLm1vbnRoTnVtYmVyID0gZGF0ZU1vbWVudC5tb250aCgpO1xyXG4gICAgdGhpcy5kYXRlLnllYXIgPSBkYXRlTW9tZW50LnllYXIoKTtcclxuICAgIHRoaXMuZGF0ZS5kYXRlID0gbW9tZW50KGRhdGVNb21lbnQpLnRvRGF0ZSgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcbiAgc2V0TW9udGg6IGZ1bmN0aW9uIHNldE1vbnRoKCkge1xyXG4gICAgY29uc3QgbW9udGhOdW1iZXIgPSBOdW1iZXIodGhpcy5fbW9udGhEcm9wZG93bi5nZXRWYWx1ZSgpKTtcclxuICAgIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQubW9udGgobW9udGhOdW1iZXIpO1xyXG4gICAgdGhpcy5yZWZyZXNoQ2FsZW5kYXIodGhpcy5kYXRlKTtcclxuICB9LFxyXG4gIHNldFN1YlZhbHVlOiBmdW5jdGlvbiBzZXRTdWJWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcbiAgc2V0WWVhcjogZnVuY3Rpb24gc2V0WWVhcigpIHtcclxuICAgIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQueWVhcih0aGlzLl95ZWFyRHJvcGRvd24uZ2V0VmFsdWUoKSk7XHJcbiAgICB0aGlzLnJlZnJlc2hDYWxlbmRhcih0aGlzLmRhdGUpO1xyXG4gIH0sXHJcbiAgc2hvdzogZnVuY3Rpb24gc2hvdyhvcHRpb25zID0ge30pIHtcclxuICAgIHRoaXMuZGF0ZSA9IHt9O1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB0aGlzLm9wdGlvbnM7XHJcblxyXG4gICAgdGhpcy50aXRsZVRleHQgPSB0aGlzLm9wdGlvbnMubGFiZWwgPyB0aGlzLm9wdGlvbnMubGFiZWwgOiB0aGlzLnRpdGxlVGV4dDtcclxuICAgIHRoaXMuc2hvd1RpbWVQaWNrZXIgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnNob3dUaW1lUGlja2VyO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50aW1lbGVzcykge1xyXG4gICAgICAvLyBVbmRvIHRpbWVsZXNzXHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG1vbWVudCh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmRhdGUpO1xyXG4gICAgICBzdGFydERhdGUuc3VidHJhY3Qoe1xyXG4gICAgICAgIG1pbnV0ZXM6IHN0YXJ0RGF0ZS51dGNPZmZzZXQoKSxcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZGF0ZS5zZWxlY3RlZERhdGVNb21lbnQgPSBzdGFydERhdGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRhdGUuc2VsZWN0ZWREYXRlTW9tZW50ID0gbW9tZW50KCh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmRhdGUpIHx8IG1vbWVudCgpLmNsb25lKCkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRlLnRvZGF5TW9tZW50ID0gbW9tZW50KCk7XHJcbiAgICBpZiAodGhpcy5pc01vZGFsIHx8IHRoaXMub3B0aW9ucy5pc01vZGFsIHx8IHRoaXMubm9DbGVhckJ1dHRvbiB8fCB0aGlzLm9wdGlvbnMubm9DbGVhckJ1dHRvbikge1xyXG4gICAgICB0aGlzLmNsZWFyQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNyZWF0ZU1vbnRoRHJvcGRvd24oKVxyXG4gICAgICAgIC5jcmVhdGVZZWFyRHJvcGRvd24oKTtcclxuXHJcbiAgICB0aGlzLnJlZnJlc2hDYWxlbmRhcih0aGlzLmRhdGUpO1xyXG4gIH0sXHJcbiAgdG9nZ2xlU2VsZWN0V2VlazogZnVuY3Rpb24gdG9nZ2xlU2VsZWN0V2VlaygpIHtcclxuICAgIHRoaXMuX3NlbGVjdFdlZWsgPSAhdGhpcy5fc2VsZWN0V2VlaztcclxuICAgIHRoaXMuY2hhbmdlRGF5KHsgJHNvdXJjZTogdGhpcy5fc2VsZWN0ZWREYXkgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5sYW5nLnNldE9iamVjdCgnU2FnZS5QbGF0Zm9ybS5Nb2JpbGUuQ2FsZW5kYXInLCBfX2NsYXNzKTtcclxuZXhwb3J0IGRlZmF1bHQgX19jbGFzcztcclxuIl19
</pre>
</body>
</html>
